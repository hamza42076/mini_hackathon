(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function Bb(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var op={exports:{}},Eu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XE;function sC(){if(XE)return Eu;XE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:i,type:r,key:c,ref:a!==void 0?a:null,props:l}}return Eu.Fragment=e,Eu.jsx=t,Eu.jsxs=t,Eu}var WE;function aC(){return WE||(WE=1,op.exports=sC()),op.exports}var re=aC(),lp={exports:{}},xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JE;function oC(){if(JE)return xe;JE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function x(L){return L===null||typeof L!="object"?null:(L=S&&L[S]||L["@@iterator"],typeof L=="function"?L:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,G={};function $(L,te,fe){this.props=L,this.context=te,this.refs=G,this.updater=fe||U}$.prototype.isReactComponent={},$.prototype.setState=function(L,te){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,te,"setState")},$.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function H(){}H.prototype=$.prototype;function ae(L,te,fe){this.props=L,this.context=te,this.refs=G,this.updater=fe||U}var ve=ae.prototype=new H;ve.constructor=ae,F(ve,$.prototype),ve.isPureReactComponent=!0;var he=Array.isArray;function Ee(){}var I={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(L,te,fe){var me=fe.ref;return{$$typeof:i,type:L,key:te,ref:me!==void 0?me:null,props:fe}}function k(L,te){return C(L.type,te,L.props)}function O(L){return typeof L=="object"&&L!==null&&L.$$typeof===i}function M(L){var te={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(fe){return te[fe]})}var R=/\/+/g;function De(L,te){return typeof L=="object"&&L!==null&&L.key!=null?M(""+L.key):te.toString(36)}function Ke(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(Ee,Ee):(L.status="pending",L.then(function(te){L.status==="pending"&&(L.status="fulfilled",L.value=te)},function(te){L.status==="pending"&&(L.status="rejected",L.reason=te)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function X(L,te,fe,me,Ce){var Ve=typeof L;(Ve==="undefined"||Ve==="boolean")&&(L=null);var ze=!1;if(L===null)ze=!0;else switch(Ve){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(L.$$typeof){case i:case e:ze=!0;break;case v:return ze=L._init,X(ze(L._payload),te,fe,me,Ce)}}if(ze)return Ce=Ce(L),ze=me===""?"."+De(L,0):me,he(Ce)?(fe="",ze!=null&&(fe=ze.replace(R,"$&/")+"/"),X(Ce,te,fe,"",function(ci){return ci})):Ce!=null&&(O(Ce)&&(Ce=k(Ce,fe+(Ce.key==null||L&&L.key===Ce.key?"":(""+Ce.key).replace(R,"$&/")+"/")+ze)),te.push(Ce)),1;ze=0;var At=me===""?".":me+":";if(he(L))for(var ot=0;ot<L.length;ot++)me=L[ot],Ve=At+De(me,ot),ze+=X(me,te,fe,Ve,Ce);else if(ot=x(L),typeof ot=="function")for(L=ot.call(L),ot=0;!(me=L.next()).done;)me=me.value,Ve=At+De(me,ot++),ze+=X(me,te,fe,Ve,Ce);else if(Ve==="object"){if(typeof L.then=="function")return X(Ke(L),te,fe,me,Ce);throw te=String(L),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return ze}function ue(L,te,fe){if(L==null)return L;var me=[],Ce=0;return X(L,me,"","",function(Ve){return te.call(fe,Ve,Ce++)}),me}function Se(L){if(L._status===-1){var te=L._result;te=te(),te.then(function(fe){(L._status===0||L._status===-1)&&(L._status=1,L._result=fe)},function(fe){(L._status===0||L._status===-1)&&(L._status=2,L._result=fe)}),L._status===-1&&(L._status=0,L._result=te)}if(L._status===1)return L._result.default;throw L._result}var Ue=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},We={map:ue,forEach:function(L,te,fe){ue(L,function(){te.apply(this,arguments)},fe)},count:function(L){var te=0;return ue(L,function(){te++}),te},toArray:function(L){return ue(L,function(te){return te})||[]},only:function(L){if(!O(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return xe.Activity=T,xe.Children=We,xe.Component=$,xe.Fragment=t,xe.Profiler=a,xe.PureComponent=ae,xe.StrictMode=r,xe.Suspense=p,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,xe.__COMPILER_RUNTIME={__proto__:null,c:function(L){return I.H.useMemoCache(L)}},xe.cache=function(L){return function(){return L.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(L,te,fe){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var me=F({},L.props),Ce=L.key;if(te!=null)for(Ve in te.key!==void 0&&(Ce=""+te.key),te)!w.call(te,Ve)||Ve==="key"||Ve==="__self"||Ve==="__source"||Ve==="ref"&&te.ref===void 0||(me[Ve]=te[Ve]);var Ve=arguments.length-2;if(Ve===1)me.children=fe;else if(1<Ve){for(var ze=Array(Ve),At=0;At<Ve;At++)ze[At]=arguments[At+2];me.children=ze}return C(L.type,Ce,me)},xe.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},xe.createElement=function(L,te,fe){var me,Ce={},Ve=null;if(te!=null)for(me in te.key!==void 0&&(Ve=""+te.key),te)w.call(te,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Ce[me]=te[me]);var ze=arguments.length-2;if(ze===1)Ce.children=fe;else if(1<ze){for(var At=Array(ze),ot=0;ot<ze;ot++)At[ot]=arguments[ot+2];Ce.children=At}if(L&&L.defaultProps)for(me in ze=L.defaultProps,ze)Ce[me]===void 0&&(Ce[me]=ze[me]);return C(L,Ve,Ce)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(L){return{$$typeof:d,render:L}},xe.isValidElement=O,xe.lazy=function(L){return{$$typeof:v,_payload:{_status:-1,_result:L},_init:Se}},xe.memo=function(L,te){return{$$typeof:g,type:L,compare:te===void 0?null:te}},xe.startTransition=function(L){var te=I.T,fe={};I.T=fe;try{var me=L(),Ce=I.S;Ce!==null&&Ce(fe,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(Ee,Ue)}catch(Ve){Ue(Ve)}finally{te!==null&&fe.types!==null&&(te.types=fe.types),I.T=te}},xe.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},xe.use=function(L){return I.H.use(L)},xe.useActionState=function(L,te,fe){return I.H.useActionState(L,te,fe)},xe.useCallback=function(L,te){return I.H.useCallback(L,te)},xe.useContext=function(L){return I.H.useContext(L)},xe.useDebugValue=function(){},xe.useDeferredValue=function(L,te){return I.H.useDeferredValue(L,te)},xe.useEffect=function(L,te){return I.H.useEffect(L,te)},xe.useEffectEvent=function(L){return I.H.useEffectEvent(L)},xe.useId=function(){return I.H.useId()},xe.useImperativeHandle=function(L,te,fe){return I.H.useImperativeHandle(L,te,fe)},xe.useInsertionEffect=function(L,te){return I.H.useInsertionEffect(L,te)},xe.useLayoutEffect=function(L,te){return I.H.useLayoutEffect(L,te)},xe.useMemo=function(L,te){return I.H.useMemo(L,te)},xe.useOptimistic=function(L,te){return I.H.useOptimistic(L,te)},xe.useReducer=function(L,te,fe){return I.H.useReducer(L,te,fe)},xe.useRef=function(L){return I.H.useRef(L)},xe.useState=function(L){return I.H.useState(L)},xe.useSyncExternalStore=function(L,te,fe){return I.H.useSyncExternalStore(L,te,fe)},xe.useTransition=function(){return I.H.useTransition()},xe.version="19.2.0",xe}var ZE;function mg(){return ZE||(ZE=1,lp.exports=oC()),lp.exports}var W=mg();const Gn=Bb(W);var up={exports:{}},Tu={},cp={exports:{}},fp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0;function lC(){return e0||(e0=1,(function(i){function e(X,ue){var Se=X.length;X.push(ue);e:for(;0<Se;){var Ue=Se-1>>>1,We=X[Ue];if(0<a(We,ue))X[Ue]=ue,X[Se]=We,Se=Ue;else break e}}function t(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var ue=X[0],Se=X.pop();if(Se!==ue){X[0]=Se;e:for(var Ue=0,We=X.length,L=We>>>1;Ue<L;){var te=2*(Ue+1)-1,fe=X[te],me=te+1,Ce=X[me];if(0>a(fe,Se))me<We&&0>a(Ce,fe)?(X[Ue]=Ce,X[me]=Se,Ue=me):(X[Ue]=fe,X[te]=Se,Ue=te);else if(me<We&&0>a(Ce,Se))X[Ue]=Ce,X[me]=Se,Ue=me;else break e}}return ue}function a(X,ue){var Se=X.sortIndex-ue.sortIndex;return Se!==0?Se:X.id-ue.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();i.unstable_now=function(){return c.now()-d}}var p=[],g=[],v=1,T=null,S=3,x=!1,U=!1,F=!1,G=!1,$=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function ve(X){for(var ue=t(g);ue!==null;){if(ue.callback===null)r(g);else if(ue.startTime<=X)r(g),ue.sortIndex=ue.expirationTime,e(p,ue);else break;ue=t(g)}}function he(X){if(F=!1,ve(X),!U)if(t(p)!==null)U=!0,Ee||(Ee=!0,M());else{var ue=t(g);ue!==null&&Ke(he,ue.startTime-X)}}var Ee=!1,I=-1,w=5,C=-1;function k(){return G?!0:!(i.unstable_now()-C<w)}function O(){if(G=!1,Ee){var X=i.unstable_now();C=X;var ue=!0;try{e:{U=!1,F&&(F=!1,H(I),I=-1),x=!0;var Se=S;try{t:{for(ve(X),T=t(p);T!==null&&!(T.expirationTime>X&&k());){var Ue=T.callback;if(typeof Ue=="function"){T.callback=null,S=T.priorityLevel;var We=Ue(T.expirationTime<=X);if(X=i.unstable_now(),typeof We=="function"){T.callback=We,ve(X),ue=!0;break t}T===t(p)&&r(p),ve(X)}else r(p);T=t(p)}if(T!==null)ue=!0;else{var L=t(g);L!==null&&Ke(he,L.startTime-X),ue=!1}}break e}finally{T=null,S=Se,x=!1}ue=void 0}}finally{ue?M():Ee=!1}}}var M;if(typeof ae=="function")M=function(){ae(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,De=R.port2;R.port1.onmessage=O,M=function(){De.postMessage(null)}}else M=function(){$(O,0)};function Ke(X,ue){I=$(function(){X(i.unstable_now())},ue)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(X){switch(S){case 1:case 2:case 3:var ue=3;break;default:ue=S}var Se=S;S=ue;try{return X()}finally{S=Se}},i.unstable_requestPaint=function(){G=!0},i.unstable_runWithPriority=function(X,ue){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var Se=S;S=X;try{return ue()}finally{S=Se}},i.unstable_scheduleCallback=function(X,ue,Se){var Ue=i.unstable_now();switch(typeof Se=="object"&&Se!==null?(Se=Se.delay,Se=typeof Se=="number"&&0<Se?Ue+Se:Ue):Se=Ue,X){case 1:var We=-1;break;case 2:We=250;break;case 5:We=1073741823;break;case 4:We=1e4;break;default:We=5e3}return We=Se+We,X={id:v++,callback:ue,priorityLevel:X,startTime:Se,expirationTime:We,sortIndex:-1},Se>Ue?(X.sortIndex=Se,e(g,X),t(p)===null&&X===t(g)&&(F?(H(I),I=-1):F=!0,Ke(he,Se-Ue))):(X.sortIndex=We,e(p,X),U||x||(U=!0,Ee||(Ee=!0,M()))),X},i.unstable_shouldYield=k,i.unstable_wrapCallback=function(X){var ue=S;return function(){var Se=S;S=ue;try{return X.apply(this,arguments)}finally{S=Se}}}})(fp)),fp}var t0;function uC(){return t0||(t0=1,cp.exports=lC()),cp.exports}var hp={exports:{}},fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0;function cC(){if(n0)return fn;n0=1;var i=mg();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:p,containerInfo:g,implementation:v}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,fn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,v)},fn.flushSync=function(p){var g=c.T,v=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=g,r.p=v,r.d.f()}},fn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},fn.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},fn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,T=d(v,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:x}):v==="script"&&r.d.X(p,{crossOrigin:T,integrity:S,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},fn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},fn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=d(v,g.crossOrigin);r.d.L(p,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},fn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},fn.requestFormReset=function(p){r.d.r(p)},fn.unstable_batchedUpdates=function(p,g){return p(g)},fn.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},fn.useFormStatus=function(){return c.H.useHostTransitionStatus()},fn.version="19.2.0",fn}var i0;function fC(){if(i0)return hp.exports;i0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),hp.exports=cC(),hp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r0;function hC(){if(r0)return Tu;r0=1;var i=uC(),e=mg(),t=fC();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function d(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function p(n){if(l(n)!==n)throw Error(r(188))}function g(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(r(188));return s!==n?null:n}for(var o=n,u=s;;){var h=o.return;if(h===null)break;var m=h.alternate;if(m===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===o)return p(h),n;if(m===u)return p(h),s;m=m.sibling}throw Error(r(188))}if(o.return!==u.return)o=h,u=m;else{for(var _=!1,b=h.child;b;){if(b===o){_=!0,o=h,u=m;break}if(b===u){_=!0,u=h,o=m;break}b=b.sibling}if(!_){for(b=m.child;b;){if(b===o){_=!0,o=m,u=h;break}if(b===u){_=!0,u=m,o=h;break}b=b.sibling}if(!_)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?n:s}function v(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=v(n),s!==null)return s;n=n.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),ve=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function M(n){return n===null||typeof n!="object"?null:(n=O&&n[O]||n["@@iterator"],typeof n=="function"?n:null)}var R=Symbol.for("react.client.reference");function De(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===R?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case F:return"Fragment";case $:return"Profiler";case G:return"StrictMode";case he:return"Suspense";case Ee:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case U:return"Portal";case ae:return n.displayName||"Context";case H:return(n._context.displayName||"Context")+".Consumer";case ve:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case I:return s=n.displayName||null,s!==null?s:De(n.type)||"Memo";case w:s=n._payload,n=n._init;try{return De(n(s))}catch{}}return null}var Ke=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Se={pending:!1,data:null,method:null,action:null},Ue=[],We=-1;function L(n){return{current:n}}function te(n){0>We||(n.current=Ue[We],Ue[We]=null,We--)}function fe(n,s){We++,Ue[We]=n.current,n.current=s}var me=L(null),Ce=L(null),Ve=L(null),ze=L(null);function At(n,s){switch(fe(Ve,s),fe(Ce,n),fe(me,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?vE(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=vE(s),n=EE(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}te(me),fe(me,n)}function ot(){te(me),te(Ce),te(Ve)}function ci(n){n.memoizedState!==null&&fe(ze,n);var s=me.current,o=EE(s,n.type);s!==o&&(fe(Ce,n),fe(me,o))}function Kr(n){Ce.current===n&&(te(me),te(Ce)),ze.current===n&&(te(ze),gu._currentValue=Se)}var hr,Yr;function Vn(n){if(hr===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);hr=s&&s[1]||"",Yr=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hr+n+Yr}var Qr=!1;function dr(n,s){if(!n||Qr)return"";Qr=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(Q){var K=Q}Reflect.construct(n,[],ne)}else{try{ne.call()}catch(Q){K=Q}n.call(ne.prototype)}}else{try{throw Error()}catch(Q){K=Q}(ne=n())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(Q){if(Q&&K&&typeof Q.stack=="string")return[Q.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),_=m[0],b=m[1];if(_&&b){var N=_.split(`
`),q=b.split(`
`);for(h=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(u===N.length||h===q.length)for(u=N.length-1,h=q.length-1;1<=u&&0<=h&&N[u]!==q[h];)h--;for(;1<=u&&0<=h;u--,h--)if(N[u]!==q[h]){if(u!==1||h!==1)do if(u--,h--,0>h||N[u]!==q[h]){var Z=`
`+N[u].replace(" at new "," at ");return n.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",n.displayName)),Z}while(1<=u&&0<=h);break}}}finally{Qr=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?Vn(o):""}function Zs(n,s){switch(n.tag){case 26:case 27:case 5:return Vn(n.type);case 16:return Vn("Lazy");case 13:return n.child!==s&&s!==null?Vn("Suspense Fallback"):Vn("Suspense");case 19:return Vn("SuspenseList");case 0:case 15:return dr(n.type,!1);case 11:return dr(n.type.render,!1);case 1:return dr(n.type,!0);case 31:return Vn("Activity");default:return""}}function Wa(n){try{var s="",o=null;do s+=Zs(n,o),o=n,n=n.return;while(n);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var bt=Object.prototype.hasOwnProperty,D=i.unstable_scheduleCallback,j=i.unstable_cancelCallback,J=i.unstable_shouldYield,de=i.unstable_requestPaint,oe=i.unstable_now,le=i.unstable_getCurrentPriorityLevel,be=i.unstable_ImmediatePriority,Ye=i.unstable_UserBlockingPriority,Qe=i.unstable_NormalPriority,cn=i.unstable_LowPriority,mr=i.unstable_IdlePriority,kn=i.log,Ja=i.unstable_setDisableYieldValue,yn=null,Ct=null;function bn(n){if(typeof kn=="function"&&Ja(n),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode(yn,n)}catch{}}var _t=Math.clz32?Math.clz32:_c,Za=Math.log,pr=Math.LN2;function _c(n){return n>>>=0,n===0?32:31-(Za(n)/pr|0)|0}var xi=256,ea=262144,Mt=4194304;function Mi(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Vi(n,s,o){var u=n.pendingLanes;if(u===0)return 0;var h=0,m=n.suspendedLanes,_=n.pingedLanes;n=n.warmLanes;var b=u&134217727;return b!==0?(u=b&~m,u!==0?h=Mi(u):(_&=b,_!==0?h=Mi(_):o||(o=b&~n,o!==0&&(h=Mi(o))))):(b=u&~m,b!==0?h=Mi(b):_!==0?h=Mi(_):o||(o=u&~n,o!==0&&(h=Mi(o)))),h===0?0:s!==0&&s!==h&&(s&m)===0&&(m=h&-h,o=s&-s,m>=o||m===32&&(o&4194048)!==0)?s:h}function fi(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function fd(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vc(){var n=Mt;return Mt<<=1,(Mt&62914560)===0&&(Mt=4194304),n}function ki(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function ta(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function hd(n,s,o,u,h,m){var _=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var b=n.entanglements,N=n.expirationTimes,q=n.hiddenUpdates;for(o=_&~o;0<o;){var Z=31-_t(o),ne=1<<Z;b[Z]=0,N[Z]=-1;var K=q[Z];if(K!==null)for(q[Z]=null,Z=0;Z<K.length;Z++){var Q=K[Z];Q!==null&&(Q.lane&=-536870913)}o&=~ne}u!==0&&na(n,u,0),m!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=m&~(_&~s))}function na(n,s,o){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-_t(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|o&261930}function Tl(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var u=31-_t(o),h=1<<u;h&s|n[u]&s&&(n[u]|=s),o&=~h}}function bl(n,s){var o=s&-s;return o=(o&42)!==0?1:ia(o),(o&(n.suspendedLanes|s))!==0?0:o}function ia(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function gr(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ec(){var n=ue.p;return n!==0?n:(n=window.event,n===void 0?32:qE(n.type))}function hi(n,s){var o=ue.p;try{return ue.p=n,s()}finally{ue.p=o}}var di=Math.random().toString(36).slice(2),Vt="__reactFiber$"+di,Xt="__reactProps$"+di,Li="__reactContainer$"+di,eo="__reactEvents$"+di,dd="__reactListeners$"+di,Tc="__reactHandles$"+di,bc="__reactResources$"+di,Pi="__reactMarker$"+di;function to(n){delete n[Vt],delete n[Xt],delete n[eo],delete n[dd],delete n[Tc]}function Ui(n){var s=n[Vt];if(s)return s;for(var o=n.parentNode;o;){if(s=o[Li]||o[Vt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=CE(n);n!==null;){if(o=n[Vt])return o;n=CE(n)}return s}n=o,o=n.parentNode}return null}function Yn(n){if(n=n[Vt]||n[Li]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function Ln(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function zi(n){var s=n[bc];return s||(s=n[bc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function kt(n){n[Pi]=!0}var Sl=new Set,Al={};function Fi(n,s){ji(n,s),ji(n+"Capture",s)}function ji(n,s){for(Al[n]=s,n=0;n<s.length;n++)Sl.add(s[n])}var wl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rl={},Cl={};function Sc(n){return bt.call(Cl,n)?!0:bt.call(Rl,n)?!1:wl.test(n)?Cl[n]=!0:(Rl[n]=!0,!1)}function no(n,s,o){if(Sc(s))if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+o)}}function Pn(n,s,o){if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+o)}}function Lt(n,s,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(s,o,""+u)}}function Wt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Xr(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Il(n,s,o){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var h=u.get,m=u.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return h.call(this)},set:function(_){o=""+_,m.call(this,_)}}),Object.defineProperty(n,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function rt(n){if(!n._valueTracker){var s=Xr(n)?"checked":"value";n._valueTracker=Il(n,s,""+n[s])}}function ra(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return n&&(u=Xr(n)?n.checked?"true":"false":n.value),n=u,n!==o?(s.setValue(n),!0):!1}function Bi(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var sa=/[\n"\\]/g;function Sn(n){return n.replace(sa,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function io(n,s,o,u,h,m,_,b){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),s!=null?_==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Wt(s)):n.value!==""+Wt(s)&&(n.value=""+Wt(s)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),s!=null?Ol(n,_,Wt(s)):o!=null?Ol(n,_,Wt(o)):u!=null&&n.removeAttribute("value"),h==null&&m!=null&&(n.defaultChecked=!!m),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+Wt(b):n.removeAttribute("name")}function Ac(n,s,o,u,h,m,_,b){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),s!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){rt(n);return}o=o!=null?""+Wt(o):"",s=s!=null?""+Wt(s):o,b||s===n.value||(n.value=s),n.defaultValue=s}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=b?n.checked:!!u,n.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_),rt(n)}function Ol(n,s,o){s==="number"&&Bi(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Wr(n,s,o,u){if(n=n.options,s){s={};for(var h=0;h<o.length;h++)s["$"+o[h]]=!0;for(o=0;o<n.length;o++)h=s.hasOwnProperty("$"+n[o].value),n[o].selected!==h&&(n[o].selected=h),h&&u&&(n[o].defaultSelected=!0)}else{for(o=""+Wt(o),s=null,h=0;h<n.length;h++){if(n[h].value===o){n[h].selected=!0,u&&(n[h].defaultSelected=!0);return}s!==null||n[h].disabled||(s=n[h])}s!==null&&(s.selected=!0)}}function wc(n,s,o){if(s!=null&&(s=""+Wt(s),s!==n.value&&(n.value=s),o==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=o!=null?""+Wt(o):""}function Jr(n,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(Ke(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=Wt(s),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u),rt(n)}function An(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var Rc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dl(n,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,o):typeof o!="number"||o===0||Rc.has(s)?s==="float"?n.cssFloat=o:n[s]=(""+o).trim():n[s]=o+"px"}function Nl(n,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var h in s)u=s[h],s.hasOwnProperty(h)&&o[h]!==u&&Dl(n,h,u)}else for(var m in s)s.hasOwnProperty(m)&&Dl(n,m,s[m])}function ro(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function so(n){return Zr.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function mi(){}var xl=null;function Qn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var es=null,qi=null;function aa(n){var s=Yn(n);if(s&&(n=s.stateNode)){var o=n[Xt]||null;e:switch(n=s.stateNode,s.type){case"input":if(io(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Sn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==n&&u.form===n.form){var h=u[Xt]||null;if(!h)throw Error(r(90));io(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===n.form&&ra(u)}break e;case"textarea":wc(n,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Wr(n,!!o.multiple,s,!1)}}}var ao=!1;function ts(n,s,o){if(ao)return n(s,o);ao=!0;try{var u=n(s);return u}finally{if(ao=!1,(es!==null||qi!==null)&&(Tf(),es&&(s=es,n=qi,qi=es=null,aa(s),n)))for(s=0;s<n.length;s++)aa(n[s])}}function pi(n,s){var o=n.stateNode;if(o===null)return null;var u=o[Xt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oa=!1;if(Xn)try{var lt={};Object.defineProperty(lt,"passive",{get:function(){oa=!0}}),window.addEventListener("test",lt,lt),window.removeEventListener("test",lt,lt)}catch{oa=!1}var Hi=null,Ml=null,la=null;function Vl(){if(la)return la;var n,s=Ml,o=s.length,u,h="value"in Hi?Hi.value:Hi.textContent,m=h.length;for(n=0;n<o&&s[n]===h[n];n++);var _=o-n;for(u=1;u<=_&&s[o-u]===h[m-u];u++);return la=h.slice(n,1<u?1-u:void 0)}function ua(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function yr(){return!0}function gi(){return!1}function tn(n){function s(o,u,h,m,_){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(o=n[b],this[b]=o?o(m):m[b]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?yr:gi,this.isPropagationStopped=gi,this}return T(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=yr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=yr)},persist:function(){},isPersistent:yr}),s}var _r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gi=tn(_r),ns=T({},_r,{view:0,detail:0}),kl=tn(ns),is,oo,$i,lo=T({},ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==$i&&($i&&n.type==="mousemove"?(is=n.screenX-$i.screenX,oo=n.screenY-$i.screenY):oo=is=0,$i=n),is)},movementY:function(n){return"movementY"in n?n.movementY:oo}}),Ll=tn(lo),ca=T({},lo,{dataTransfer:0}),Ic=tn(ca),Oc=T({},ns,{relatedTarget:0}),fa=tn(Oc),Pl=T({},_r,{animationName:0,elapsedTime:0,pseudoElement:0}),Dc=tn(Pl),uo=T({},_r,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Nc=tn(uo),xc=T({},_r,{data:0}),Ki=tn(xc),Mc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lc(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=kc[n])?!!s[n]:!1}function rs(){return Lc}var _n=T({},ns,{key:function(n){if(n.key){var s=Mc[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=ua(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Vc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rs,charCode:function(n){return n.type==="keypress"?ua(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ua(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Pc=tn(_n),Uc=T({},lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vr=tn(Uc),f=T({},ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rs}),y=tn(f),E=T({},_r,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=tn(E),z=T({},lo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=tn(z),ce=T({},_r,{newState:0,oldState:0}),ke=tn(ce),It=[9,13,27,32],tt=Xn&&"CompositionEvent"in window,vt=null;Xn&&"documentMode"in document&&(vt=document.documentMode);var Wn=Xn&&"TextEvent"in window&&!vt,Yi=Xn&&(!tt||vt&&8<vt&&11>=vt),yi=" ",_i=!1;function ha(n,s){switch(n){case"keyup":return It.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function co(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var fo=!1;function OR(n,s){switch(n){case"compositionend":return co(s);case"keypress":return s.which!==32?null:(_i=!0,yi);case"textInput":return n=s.data,n===yi&&_i?null:n;default:return null}}function DR(n,s){if(fo)return n==="compositionend"||!tt&&ha(n,s)?(n=Vl(),la=Ml=Hi=null,fo=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Yi&&s.locale!=="ko"?null:s.data;default:return null}}var NR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dy(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!NR[n.type]:s==="textarea"}function Ny(n,s,o,u){es?qi?qi.push(u):qi=[u]:es=u,s=If(s,"onChange"),0<s.length&&(o=new Gi("onChange","change",null,o,u),n.push({event:o,listeners:s}))}var Ul=null,zl=null;function xR(n){dE(n,0)}function zc(n){var s=Ln(n);if(ra(s))return n}function xy(n,s){if(n==="change")return s}var My=!1;if(Xn){var md;if(Xn){var pd="oninput"in document;if(!pd){var Vy=document.createElement("div");Vy.setAttribute("oninput","return;"),pd=typeof Vy.oninput=="function"}md=pd}else md=!1;My=md&&(!document.documentMode||9<document.documentMode)}function ky(){Ul&&(Ul.detachEvent("onpropertychange",Ly),zl=Ul=null)}function Ly(n){if(n.propertyName==="value"&&zc(zl)){var s=[];Ny(s,zl,n,Qn(n)),ts(xR,s)}}function MR(n,s,o){n==="focusin"?(ky(),Ul=s,zl=o,Ul.attachEvent("onpropertychange",Ly)):n==="focusout"&&ky()}function VR(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return zc(zl)}function kR(n,s){if(n==="click")return zc(s)}function LR(n,s){if(n==="input"||n==="change")return zc(s)}function PR(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Un=typeof Object.is=="function"?Object.is:PR;function Fl(n,s){if(Un(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!bt.call(s,h)||!Un(n[h],s[h]))return!1}return!0}function Py(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Uy(n,s){var o=Py(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=s&&u>=s)return{node:o,offset:s-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Py(o)}}function zy(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?zy(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Fy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Bi(n.document);s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)n=s.contentWindow;else break;s=Bi(n.document)}return s}function gd(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var UR=Xn&&"documentMode"in document&&11>=document.documentMode,ho=null,yd=null,jl=null,_d=!1;function jy(n,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;_d||ho==null||ho!==Bi(u)||(u=ho,"selectionStart"in u&&gd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),jl&&Fl(jl,u)||(jl=u,u=If(yd,"onSelect"),0<u.length&&(s=new Gi("onSelect","select",null,s,o),n.push({event:s,listeners:u}),s.target=ho)))}function da(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var mo={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionrun:da("Transition","TransitionRun"),transitionstart:da("Transition","TransitionStart"),transitioncancel:da("Transition","TransitionCancel"),transitionend:da("Transition","TransitionEnd")},vd={},By={};Xn&&(By=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function ma(n){if(vd[n])return vd[n];if(!mo[n])return n;var s=mo[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in By)return vd[n]=s[o];return n}var qy=ma("animationend"),Hy=ma("animationiteration"),Gy=ma("animationstart"),zR=ma("transitionrun"),FR=ma("transitionstart"),jR=ma("transitioncancel"),$y=ma("transitionend"),Ky=new Map,Ed="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ed.push("scrollEnd");function vi(n,s){Ky.set(n,s),Fi(s,[n])}var Fc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Jn=[],po=0,Td=0;function jc(){for(var n=po,s=Td=po=0;s<n;){var o=Jn[s];Jn[s++]=null;var u=Jn[s];Jn[s++]=null;var h=Jn[s];Jn[s++]=null;var m=Jn[s];if(Jn[s++]=null,u!==null&&h!==null){var _=u.pending;_===null?h.next=h:(h.next=_.next,_.next=h),u.pending=h}m!==0&&Yy(o,h,m)}}function Bc(n,s,o,u){Jn[po++]=n,Jn[po++]=s,Jn[po++]=o,Jn[po++]=u,Td|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function bd(n,s,o,u){return Bc(n,s,o,u),qc(n)}function pa(n,s){return Bc(n,null,null,s),qc(n)}function Yy(n,s,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var h=!1,m=n.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(h=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,h&&s!==null&&(h=31-_t(o),n=m.hiddenUpdates,u=n[h],u===null?n[h]=[s]:u.push(s),s.lane=o|536870912),m):null}function qc(n){if(50<uu)throw uu=0,Nm=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var go={};function BR(n,s,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(n,s,o,u){return new BR(n,s,o,u)}function Sd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Er(n,s){var o=n.alternate;return o===null?(o=zn(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Qy(n,s){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,s=o.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Hc(n,s,o,u,h,m){var _=0;if(u=n,typeof n=="function")Sd(n)&&(_=1);else if(typeof n=="string")_=K1(n,o,me.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case C:return n=zn(31,o,s,h),n.elementType=C,n.lanes=m,n;case F:return ga(o.children,h,m,s);case G:_=8,h|=24;break;case $:return n=zn(12,o,s,h|2),n.elementType=$,n.lanes=m,n;case he:return n=zn(13,o,s,h),n.elementType=he,n.lanes=m,n;case Ee:return n=zn(19,o,s,h),n.elementType=Ee,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ae:_=10;break e;case H:_=9;break e;case ve:_=11;break e;case I:_=14;break e;case w:_=16,u=null;break e}_=29,o=Error(r(130,n===null?"null":typeof n,"")),u=null}return s=zn(_,o,s,h),s.elementType=n,s.type=u,s.lanes=m,s}function ga(n,s,o,u){return n=zn(7,n,u,s),n.lanes=o,n}function Ad(n,s,o){return n=zn(6,n,null,s),n.lanes=o,n}function Xy(n){var s=zn(18,null,null,0);return s.stateNode=n,s}function wd(n,s,o){return s=zn(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Wy=new WeakMap;function Zn(n,s){if(typeof n=="object"&&n!==null){var o=Wy.get(n);return o!==void 0?o:(s={value:n,source:s,stack:Wa(s)},Wy.set(n,s),s)}return{value:n,source:s,stack:Wa(s)}}var yo=[],_o=0,Gc=null,Bl=0,ei=[],ti=0,ss=null,Qi=1,Xi="";function Tr(n,s){yo[_o++]=Bl,yo[_o++]=Gc,Gc=n,Bl=s}function Jy(n,s,o){ei[ti++]=Qi,ei[ti++]=Xi,ei[ti++]=ss,ss=n;var u=Qi;n=Xi;var h=32-_t(u)-1;u&=~(1<<h),o+=1;var m=32-_t(s)+h;if(30<m){var _=h-h%5;m=(u&(1<<_)-1).toString(32),u>>=_,h-=_,Qi=1<<32-_t(s)+h|o<<h|u,Xi=m+n}else Qi=1<<m|o<<h|u,Xi=n}function Rd(n){n.return!==null&&(Tr(n,1),Jy(n,1,0))}function Cd(n){for(;n===Gc;)Gc=yo[--_o],yo[_o]=null,Bl=yo[--_o],yo[_o]=null;for(;n===ss;)ss=ei[--ti],ei[ti]=null,Xi=ei[--ti],ei[ti]=null,Qi=ei[--ti],ei[ti]=null}function Zy(n,s){ei[ti++]=Qi,ei[ti++]=Xi,ei[ti++]=ss,Qi=s.id,Xi=s.overflow,ss=n}var nn=null,pt=null,Xe=!1,as=null,ni=!1,Id=Error(r(519));function os(n){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ql(Zn(s,n)),Id}function e_(n){var s=n.stateNode,o=n.type,u=n.memoizedProps;switch(s[Vt]=n,s[Xt]=u,o){case"dialog":je("cancel",s),je("close",s);break;case"iframe":case"object":case"embed":je("load",s);break;case"video":case"audio":for(o=0;o<fu.length;o++)je(fu[o],s);break;case"source":je("error",s);break;case"img":case"image":case"link":je("error",s),je("load",s);break;case"details":je("toggle",s);break;case"input":je("invalid",s),Ac(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":je("invalid",s);break;case"textarea":je("invalid",s),Jr(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||yE(s.textContent,o)?(u.popover!=null&&(je("beforetoggle",s),je("toggle",s)),u.onScroll!=null&&je("scroll",s),u.onScrollEnd!=null&&je("scrollend",s),u.onClick!=null&&(s.onclick=mi),s=!0):s=!1,s||os(n,!0)}function t_(n){for(nn=n.return;nn;)switch(nn.tag){case 5:case 31:case 13:ni=!1;return;case 27:case 3:ni=!0;return;default:nn=nn.return}}function vo(n){if(n!==nn)return!1;if(!Xe)return t_(n),Xe=!0,!1;var s=n.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||$m(n.type,n.memoizedProps)),o=!o),o&&pt&&os(n),t_(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));pt=RE(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));pt=RE(n)}else s===27?(s=pt,Ts(n.type)?(n=Wm,Wm=null,pt=n):pt=s):pt=nn?ri(n.stateNode.nextSibling):null;return!0}function ya(){pt=nn=null,Xe=!1}function Od(){var n=as;return n!==null&&(In===null?In=n:In.push.apply(In,n),as=null),n}function ql(n){as===null?as=[n]:as.push(n)}var Dd=L(null),_a=null,br=null;function ls(n,s,o){fe(Dd,s._currentValue),s._currentValue=o}function Sr(n){n._currentValue=Dd.current,te(Dd)}function Nd(n,s,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===o)break;n=n.return}}function xd(n,s,o,u){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var m=h.dependencies;if(m!==null){var _=h.child;m=m.firstContext;e:for(;m!==null;){var b=m;m=h;for(var N=0;N<s.length;N++)if(b.context===s[N]){m.lanes|=o,b=m.alternate,b!==null&&(b.lanes|=o),Nd(m.return,o,n),u||(_=null);break e}m=b.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=o,m=_.alternate,m!==null&&(m.lanes|=o),Nd(_,o,n),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===n){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Eo(n,s,o,u){n=null;for(var h=s,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var b=h.type;Un(h.pendingProps.value,_.value)||(n!==null?n.push(b):n=[b])}}else if(h===ze.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(gu):n=[gu])}h=h.return}n!==null&&xd(s,n,o,u),s.flags|=262144}function $c(n){for(n=n.firstContext;n!==null;){if(!Un(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function va(n){_a=n,br=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function rn(n){return n_(_a,n)}function Kc(n,s){return _a===null&&va(n),n_(n,s)}function n_(n,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},br===null){if(n===null)throw Error(r(308));br=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else br=br.next=s;return o}var qR=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(o){return o()})}},HR=i.unstable_scheduleCallback,GR=i.unstable_NormalPriority,Pt={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Md(){return{controller:new qR,data:new Map,refCount:0}}function Hl(n){n.refCount--,n.refCount===0&&HR(GR,function(){n.controller.abort()})}var Gl=null,Vd=0,To=0,bo=null;function $R(n,s){if(Gl===null){var o=Gl=[];Vd=0,To=Pm(),bo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Vd++,s.then(i_,i_),s}function i_(){if(--Vd===0&&Gl!==null){bo!==null&&(bo.status="fulfilled");var n=Gl;Gl=null,To=0,bo=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function KR(n,s){var o=[],u={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var h=0;h<o.length;h++)(0,o[h])(s)},function(h){for(u.status="rejected",u.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),u}var r_=X.S;X.S=function(n,s){jv=oe(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&$R(n,s),r_!==null&&r_(n,s)};var Ea=L(null);function kd(){var n=Ea.current;return n!==null?n:ht.pooledCache}function Yc(n,s){s===null?fe(Ea,Ea.current):fe(Ea,s.pool)}function s_(){var n=kd();return n===null?null:{parent:Pt._currentValue,pool:n}}var So=Error(r(460)),Ld=Error(r(474)),Qc=Error(r(542)),Xc={then:function(){}};function a_(n){return n=n.status,n==="fulfilled"||n==="rejected"}function o_(n,s,o){switch(o=n[o],o===void 0?n.push(s):o!==s&&(s.then(mi,mi),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,u_(n),n;default:if(typeof s.status=="string")s.then(mi,mi);else{if(n=ht,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=u}},function(u){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,u_(n),n}throw ba=s,So}}function Ta(n){try{var s=n._init;return s(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ba=o,So):o}}var ba=null;function l_(){if(ba===null)throw Error(r(459));var n=ba;return ba=null,n}function u_(n){if(n===So||n===Qc)throw Error(r(483))}var Ao=null,$l=0;function Wc(n){var s=$l;return $l+=1,Ao===null&&(Ao=[]),o_(Ao,n,s)}function Kl(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Jc(n,s){throw s.$$typeof===S?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function c_(n){function s(P,V){if(n){var B=P.deletions;B===null?(P.deletions=[V],P.flags|=16):B.push(V)}}function o(P,V){if(!n)return null;for(;V!==null;)s(P,V),V=V.sibling;return null}function u(P){for(var V=new Map;P!==null;)P.key!==null?V.set(P.key,P):V.set(P.index,P),P=P.sibling;return V}function h(P,V){return P=Er(P,V),P.index=0,P.sibling=null,P}function m(P,V,B){return P.index=B,n?(B=P.alternate,B!==null?(B=B.index,B<V?(P.flags|=67108866,V):B):(P.flags|=67108866,V)):(P.flags|=1048576,V)}function _(P){return n&&P.alternate===null&&(P.flags|=67108866),P}function b(P,V,B,ee){return V===null||V.tag!==6?(V=Ad(B,P.mode,ee),V.return=P,V):(V=h(V,B),V.return=P,V)}function N(P,V,B,ee){var Ae=B.type;return Ae===F?Z(P,V,B.props.children,ee,B.key):V!==null&&(V.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===w&&Ta(Ae)===V.type)?(V=h(V,B.props),Kl(V,B),V.return=P,V):(V=Hc(B.type,B.key,B.props,null,P.mode,ee),Kl(V,B),V.return=P,V)}function q(P,V,B,ee){return V===null||V.tag!==4||V.stateNode.containerInfo!==B.containerInfo||V.stateNode.implementation!==B.implementation?(V=wd(B,P.mode,ee),V.return=P,V):(V=h(V,B.children||[]),V.return=P,V)}function Z(P,V,B,ee,Ae){return V===null||V.tag!==7?(V=ga(B,P.mode,ee,Ae),V.return=P,V):(V=h(V,B),V.return=P,V)}function ne(P,V,B){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Ad(""+V,P.mode,B),V.return=P,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case x:return B=Hc(V.type,V.key,V.props,null,P.mode,B),Kl(B,V),B.return=P,B;case U:return V=wd(V,P.mode,B),V.return=P,V;case w:return V=Ta(V),ne(P,V,B)}if(Ke(V)||M(V))return V=ga(V,P.mode,B,null),V.return=P,V;if(typeof V.then=="function")return ne(P,Wc(V),B);if(V.$$typeof===ae)return ne(P,Kc(P,V),B);Jc(P,V)}return null}function K(P,V,B,ee){var Ae=V!==null?V.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return Ae!==null?null:b(P,V,""+B,ee);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case x:return B.key===Ae?N(P,V,B,ee):null;case U:return B.key===Ae?q(P,V,B,ee):null;case w:return B=Ta(B),K(P,V,B,ee)}if(Ke(B)||M(B))return Ae!==null?null:Z(P,V,B,ee,null);if(typeof B.then=="function")return K(P,V,Wc(B),ee);if(B.$$typeof===ae)return K(P,V,Kc(P,B),ee);Jc(P,B)}return null}function Q(P,V,B,ee,Ae){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return P=P.get(B)||null,b(V,P,""+ee,Ae);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case x:return P=P.get(ee.key===null?B:ee.key)||null,N(V,P,ee,Ae);case U:return P=P.get(ee.key===null?B:ee.key)||null,q(V,P,ee,Ae);case w:return ee=Ta(ee),Q(P,V,B,ee,Ae)}if(Ke(ee)||M(ee))return P=P.get(B)||null,Z(V,P,ee,Ae,null);if(typeof ee.then=="function")return Q(P,V,B,Wc(ee),Ae);if(ee.$$typeof===ae)return Q(P,V,B,Kc(V,ee),Ae);Jc(V,ee)}return null}function ye(P,V,B,ee){for(var Ae=null,Ze=null,Te=V,Pe=V=0,qe=null;Te!==null&&Pe<B.length;Pe++){Te.index>Pe?(qe=Te,Te=null):qe=Te.sibling;var et=K(P,Te,B[Pe],ee);if(et===null){Te===null&&(Te=qe);break}n&&Te&&et.alternate===null&&s(P,Te),V=m(et,V,Pe),Ze===null?Ae=et:Ze.sibling=et,Ze=et,Te=qe}if(Pe===B.length)return o(P,Te),Xe&&Tr(P,Pe),Ae;if(Te===null){for(;Pe<B.length;Pe++)Te=ne(P,B[Pe],ee),Te!==null&&(V=m(Te,V,Pe),Ze===null?Ae=Te:Ze.sibling=Te,Ze=Te);return Xe&&Tr(P,Pe),Ae}for(Te=u(Te);Pe<B.length;Pe++)qe=Q(Te,P,Pe,B[Pe],ee),qe!==null&&(n&&qe.alternate!==null&&Te.delete(qe.key===null?Pe:qe.key),V=m(qe,V,Pe),Ze===null?Ae=qe:Ze.sibling=qe,Ze=qe);return n&&Te.forEach(function(Rs){return s(P,Rs)}),Xe&&Tr(P,Pe),Ae}function Re(P,V,B,ee){if(B==null)throw Error(r(151));for(var Ae=null,Ze=null,Te=V,Pe=V=0,qe=null,et=B.next();Te!==null&&!et.done;Pe++,et=B.next()){Te.index>Pe?(qe=Te,Te=null):qe=Te.sibling;var Rs=K(P,Te,et.value,ee);if(Rs===null){Te===null&&(Te=qe);break}n&&Te&&Rs.alternate===null&&s(P,Te),V=m(Rs,V,Pe),Ze===null?Ae=Rs:Ze.sibling=Rs,Ze=Rs,Te=qe}if(et.done)return o(P,Te),Xe&&Tr(P,Pe),Ae;if(Te===null){for(;!et.done;Pe++,et=B.next())et=ne(P,et.value,ee),et!==null&&(V=m(et,V,Pe),Ze===null?Ae=et:Ze.sibling=et,Ze=et);return Xe&&Tr(P,Pe),Ae}for(Te=u(Te);!et.done;Pe++,et=B.next())et=Q(Te,P,Pe,et.value,ee),et!==null&&(n&&et.alternate!==null&&Te.delete(et.key===null?Pe:et.key),V=m(et,V,Pe),Ze===null?Ae=et:Ze.sibling=et,Ze=et);return n&&Te.forEach(function(rC){return s(P,rC)}),Xe&&Tr(P,Pe),Ae}function ft(P,V,B,ee){if(typeof B=="object"&&B!==null&&B.type===F&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case x:e:{for(var Ae=B.key;V!==null;){if(V.key===Ae){if(Ae=B.type,Ae===F){if(V.tag===7){o(P,V.sibling),ee=h(V,B.props.children),ee.return=P,P=ee;break e}}else if(V.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===w&&Ta(Ae)===V.type){o(P,V.sibling),ee=h(V,B.props),Kl(ee,B),ee.return=P,P=ee;break e}o(P,V);break}else s(P,V);V=V.sibling}B.type===F?(ee=ga(B.props.children,P.mode,ee,B.key),ee.return=P,P=ee):(ee=Hc(B.type,B.key,B.props,null,P.mode,ee),Kl(ee,B),ee.return=P,P=ee)}return _(P);case U:e:{for(Ae=B.key;V!==null;){if(V.key===Ae)if(V.tag===4&&V.stateNode.containerInfo===B.containerInfo&&V.stateNode.implementation===B.implementation){o(P,V.sibling),ee=h(V,B.children||[]),ee.return=P,P=ee;break e}else{o(P,V);break}else s(P,V);V=V.sibling}ee=wd(B,P.mode,ee),ee.return=P,P=ee}return _(P);case w:return B=Ta(B),ft(P,V,B,ee)}if(Ke(B))return ye(P,V,B,ee);if(M(B)){if(Ae=M(B),typeof Ae!="function")throw Error(r(150));return B=Ae.call(B),Re(P,V,B,ee)}if(typeof B.then=="function")return ft(P,V,Wc(B),ee);if(B.$$typeof===ae)return ft(P,V,Kc(P,B),ee);Jc(P,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,V!==null&&V.tag===6?(o(P,V.sibling),ee=h(V,B),ee.return=P,P=ee):(o(P,V),ee=Ad(B,P.mode,ee),ee.return=P,P=ee),_(P)):o(P,V)}return function(P,V,B,ee){try{$l=0;var Ae=ft(P,V,B,ee);return Ao=null,Ae}catch(Te){if(Te===So||Te===Qc)throw Te;var Ze=zn(29,Te,null,P.mode);return Ze.lanes=ee,Ze.return=P,Ze}finally{}}}var Sa=c_(!0),f_=c_(!1),us=!1;function Pd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ud(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function cs(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function fs(n,s,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(nt&2)!==0){var h=u.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),u.pending=s,s=qc(n),Yy(n,null,o),s}return Bc(n,u,s,o),qc(n)}function Yl(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,Tl(n,o)}}function zd(n,s){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?h=m=_:m=m.next=_,o=o.next}while(o!==null);m===null?h=m=s:m=m.next=s}else h=m=s;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}var Fd=!1;function Ql(){if(Fd){var n=bo;if(n!==null)throw n}}function Xl(n,s,o,u){Fd=!1;var h=n.updateQueue;us=!1;var m=h.firstBaseUpdate,_=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var N=b,q=N.next;N.next=null,_===null?m=q:_.next=q,_=N;var Z=n.alternate;Z!==null&&(Z=Z.updateQueue,b=Z.lastBaseUpdate,b!==_&&(b===null?Z.firstBaseUpdate=q:b.next=q,Z.lastBaseUpdate=N))}if(m!==null){var ne=h.baseState;_=0,Z=q=N=null,b=m;do{var K=b.lane&-536870913,Q=K!==b.lane;if(Q?(Be&K)===K:(u&K)===K){K!==0&&K===To&&(Fd=!0),Z!==null&&(Z=Z.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ye=n,Re=b;K=s;var ft=o;switch(Re.tag){case 1:if(ye=Re.payload,typeof ye=="function"){ne=ye.call(ft,ne,K);break e}ne=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Re.payload,K=typeof ye=="function"?ye.call(ft,ne,K):ye,K==null)break e;ne=T({},ne,K);break e;case 2:us=!0}}K=b.callback,K!==null&&(n.flags|=64,Q&&(n.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[K]:Q.push(K))}else Q={lane:K,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Z===null?(q=Z=Q,N=ne):Z=Z.next=Q,_|=K;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;Q=b,b=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);Z===null&&(N=ne),h.baseState=N,h.firstBaseUpdate=q,h.lastBaseUpdate=Z,m===null&&(h.shared.lanes=0),gs|=_,n.lanes=_,n.memoizedState=ne}}function h_(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function d_(n,s){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)h_(o[n],s)}var wo=L(null),Zc=L(0);function m_(n,s){n=xr,fe(Zc,n),fe(wo,s),xr=n|s.baseLanes}function jd(){fe(Zc,xr),fe(wo,wo.current)}function Bd(){xr=Zc.current,te(wo),te(Zc)}var Fn=L(null),ii=null;function hs(n){var s=n.alternate;fe(Ot,Ot.current&1),fe(Fn,n),ii===null&&(s===null||wo.current!==null||s.memoizedState!==null)&&(ii=n)}function qd(n){fe(Ot,Ot.current),fe(Fn,n),ii===null&&(ii=n)}function p_(n){n.tag===22?(fe(Ot,Ot.current),fe(Fn,n),ii===null&&(ii=n)):ds()}function ds(){fe(Ot,Ot.current),fe(Fn,Fn.current)}function jn(n){te(Fn),ii===n&&(ii=null),te(Ot)}var Ot=L(0);function ef(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Qm(o)||Xm(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ar=0,Le=null,ut=null,Ut=null,tf=!1,Ro=!1,Aa=!1,nf=0,Wl=0,Co=null,YR=0;function wt(){throw Error(r(321))}function Hd(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!Un(n[o],s[o]))return!1;return!0}function Gd(n,s,o,u,h,m){return Ar=m,Le=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,X.H=n===null||n.memoizedState===null?J_:am,Aa=!1,m=o(u,h),Aa=!1,Ro&&(m=y_(s,o,u,h)),g_(n),m}function g_(n){X.H=eu;var s=ut!==null&&ut.next!==null;if(Ar=0,Ut=ut=Le=null,tf=!1,Wl=0,Co=null,s)throw Error(r(300));n===null||zt||(n=n.dependencies,n!==null&&$c(n)&&(zt=!0))}function y_(n,s,o,u){Le=n;var h=0;do{if(Ro&&(Co=null),Wl=0,Ro=!1,25<=h)throw Error(r(301));if(h+=1,Ut=ut=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}X.H=Z_,m=s(o,u)}while(Ro);return m}function QR(){var n=X.H,s=n.useState()[0];return s=typeof s.then=="function"?Jl(s):s,n=n.useState()[0],(ut!==null?ut.memoizedState:null)!==n&&(Le.flags|=1024),s}function $d(){var n=nf!==0;return nf=0,n}function Kd(n,s,o){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~o}function Yd(n){if(tf){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}tf=!1}Ar=0,Ut=ut=Le=null,Ro=!1,Wl=nf=0,Co=null}function vn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?Le.memoizedState=Ut=n:Ut=Ut.next=n,Ut}function Dt(){if(ut===null){var n=Le.alternate;n=n!==null?n.memoizedState:null}else n=ut.next;var s=Ut===null?Le.memoizedState:Ut.next;if(s!==null)Ut=s,ut=n;else{if(n===null)throw Le.alternate===null?Error(r(467)):Error(r(310));ut=n,n={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Ut===null?Le.memoizedState=Ut=n:Ut=Ut.next=n}return Ut}function rf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jl(n){var s=Wl;return Wl+=1,Co===null&&(Co=[]),n=o_(Co,n,s),s=Le,(Ut===null?s.memoizedState:Ut.next)===null&&(s=s.alternate,X.H=s===null||s.memoizedState===null?J_:am),n}function sf(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Jl(n);if(n.$$typeof===ae)return rn(n)}throw Error(r(438,String(n)))}function Qd(n){var s=null,o=Le.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Le.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=rf(),Le.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(n),u=0;u<n;u++)o[u]=k;return s.index++,o}function wr(n,s){return typeof s=="function"?s(n):s}function af(n){var s=Dt();return Xd(s,ut,n)}function Xd(n,s,o){var u=n.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var h=n.baseQueue,m=u.pending;if(m!==null){if(h!==null){var _=h.next;h.next=m.next,m.next=_}s.baseQueue=h=m,u.pending=null}if(m=n.baseState,h===null)n.memoizedState=m;else{s=h.next;var b=_=null,N=null,q=s,Z=!1;do{var ne=q.lane&-536870913;if(ne!==q.lane?(Be&ne)===ne:(Ar&ne)===ne){var K=q.revertLane;if(K===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ne===To&&(Z=!0);else if((Ar&K)===K){q=q.next,K===To&&(Z=!0);continue}else ne={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(b=N=ne,_=m):N=N.next=ne,Le.lanes|=K,gs|=K;ne=q.action,Aa&&o(m,ne),m=q.hasEagerState?q.eagerState:o(m,ne)}else K={lane:ne,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(b=N=K,_=m):N=N.next=K,Le.lanes|=ne,gs|=ne;q=q.next}while(q!==null&&q!==s);if(N===null?_=m:N.next=b,!Un(m,n.memoizedState)&&(zt=!0,Z&&(o=bo,o!==null)))throw o;n.memoizedState=m,n.baseState=_,n.baseQueue=N,u.lastRenderedState=m}return h===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Wd(n){var s=Dt(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=n;var u=o.dispatch,h=o.pending,m=s.memoizedState;if(h!==null){o.pending=null;var _=h=h.next;do m=n(m,_.action),_=_.next;while(_!==h);Un(m,s.memoizedState)||(zt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),o.lastRenderedState=m}return[m,u]}function __(n,s,o){var u=Le,h=Dt(),m=Xe;if(m){if(o===void 0)throw Error(r(407));o=o()}else o=s();var _=!Un((ut||h).memoizedState,o);if(_&&(h.memoizedState=o,zt=!0),h=h.queue,em(T_.bind(null,u,h,n),[n]),h.getSnapshot!==s||_||Ut!==null&&Ut.memoizedState.tag&1){if(u.flags|=2048,Io(9,{destroy:void 0},E_.bind(null,u,h,o,s),null),ht===null)throw Error(r(349));m||(Ar&127)!==0||v_(u,s,o)}return o}function v_(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=Le.updateQueue,s===null?(s=rf(),Le.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function E_(n,s,o,u){s.value=o,s.getSnapshot=u,b_(s)&&S_(n)}function T_(n,s,o){return o(function(){b_(s)&&S_(n)})}function b_(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!Un(n,o)}catch{return!0}}function S_(n){var s=pa(n,2);s!==null&&On(s,n,2)}function Jd(n){var s=vn();if(typeof n=="function"){var o=n;if(n=o(),Aa){bn(!0);try{o()}finally{bn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:n},s}function A_(n,s,o,u){return n.baseState=o,Xd(n,ut,typeof u=="function"?u:wr)}function XR(n,s,o,u,h){if(uf(n))throw Error(r(485));if(n=s.action,n!==null){var m={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};X.T!==null?o(!0):m.isTransition=!1,u(m),o=s.pending,o===null?(m.next=s.pending=m,w_(s,m)):(m.next=o.next,s.pending=o.next=m)}}function w_(n,s){var o=s.action,u=s.payload,h=n.state;if(s.isTransition){var m=X.T,_={};X.T=_;try{var b=o(h,u),N=X.S;N!==null&&N(_,b),R_(n,s,b)}catch(q){Zd(n,s,q)}finally{m!==null&&_.types!==null&&(m.types=_.types),X.T=m}}else try{m=o(h,u),R_(n,s,m)}catch(q){Zd(n,s,q)}}function R_(n,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){C_(n,s,u)},function(u){return Zd(n,s,u)}):C_(n,s,o)}function C_(n,s,o){s.status="fulfilled",s.value=o,I_(s),n.state=o,s=n.pending,s!==null&&(o=s.next,o===s?n.pending=null:(o=o.next,s.next=o,w_(n,o)))}function Zd(n,s,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,I_(s),s=s.next;while(s!==u)}n.action=null}function I_(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function O_(n,s){return s}function D_(n,s){if(Xe){var o=ht.formState;if(o!==null){e:{var u=Le;if(Xe){if(pt){t:{for(var h=pt,m=ni;h.nodeType!==8;){if(!m){h=null;break t}if(h=ri(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){pt=ri(h.nextSibling),u=h.data==="F!";break e}}os(u)}u=!1}u&&(s=o[0])}}return o=vn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:O_,lastRenderedState:s},o.queue=u,o=Q_.bind(null,Le,u),u.dispatch=o,u=Jd(!1),m=sm.bind(null,Le,!1,u.queue),u=vn(),h={state:s,dispatch:null,action:n,pending:null},u.queue=h,o=XR.bind(null,Le,h,m,o),h.dispatch=o,u.memoizedState=n,[s,o,!1]}function N_(n){var s=Dt();return x_(s,ut,n)}function x_(n,s,o){if(s=Xd(n,s,O_)[0],n=af(wr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Jl(s)}catch(_){throw _===So?Qc:_}else u=s;s=Dt();var h=s.queue,m=h.dispatch;return o!==s.memoizedState&&(Le.flags|=2048,Io(9,{destroy:void 0},WR.bind(null,h,o),null)),[u,m,n]}function WR(n,s){n.action=s}function M_(n){var s=Dt(),o=ut;if(o!==null)return x_(s,o,n);Dt(),s=s.memoizedState,o=Dt();var u=o.queue.dispatch;return o.memoizedState=n,[s,u,!1]}function Io(n,s,o,u){return n={tag:n,create:o,deps:u,inst:s,next:null},s=Le.updateQueue,s===null&&(s=rf(),Le.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,s.lastEffect=n),n}function V_(){return Dt().memoizedState}function of(n,s,o,u){var h=vn();Le.flags|=n,h.memoizedState=Io(1|s,{destroy:void 0},o,u===void 0?null:u)}function lf(n,s,o,u){var h=Dt();u=u===void 0?null:u;var m=h.memoizedState.inst;ut!==null&&u!==null&&Hd(u,ut.memoizedState.deps)?h.memoizedState=Io(s,m,o,u):(Le.flags|=n,h.memoizedState=Io(1|s,m,o,u))}function k_(n,s){of(8390656,8,n,s)}function em(n,s){lf(2048,8,n,s)}function JR(n){Le.flags|=4;var s=Le.updateQueue;if(s===null)s=rf(),Le.updateQueue=s,s.events=[n];else{var o=s.events;o===null?s.events=[n]:o.push(n)}}function L_(n){var s=Dt().memoizedState;return JR({ref:s,nextImpl:n}),function(){if((nt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function P_(n,s){return lf(4,2,n,s)}function U_(n,s){return lf(4,4,n,s)}function z_(n,s){if(typeof s=="function"){n=n();var o=s(n);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function F_(n,s,o){o=o!=null?o.concat([n]):null,lf(4,4,z_.bind(null,s,n),o)}function tm(){}function j_(n,s){var o=Dt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Hd(s,u[1])?u[0]:(o.memoizedState=[n,s],n)}function B_(n,s){var o=Dt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Hd(s,u[1]))return u[0];if(u=n(),Aa){bn(!0);try{n()}finally{bn(!1)}}return o.memoizedState=[u,s],u}function nm(n,s,o){return o===void 0||(Ar&1073741824)!==0&&(Be&261930)===0?n.memoizedState=s:(n.memoizedState=o,n=qv(),Le.lanes|=n,gs|=n,o)}function q_(n,s,o,u){return Un(o,s)?o:wo.current!==null?(n=nm(n,o,u),Un(n,s)||(zt=!0),n):(Ar&42)===0||(Ar&1073741824)!==0&&(Be&261930)===0?(zt=!0,n.memoizedState=o):(n=qv(),Le.lanes|=n,gs|=n,s)}function H_(n,s,o,u,h){var m=ue.p;ue.p=m!==0&&8>m?m:8;var _=X.T,b={};X.T=b,sm(n,!1,s,o);try{var N=h(),q=X.S;if(q!==null&&q(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Z=KR(N,u);Zl(n,s,Z,Hn(n))}else Zl(n,s,u,Hn(n))}catch(ne){Zl(n,s,{then:function(){},status:"rejected",reason:ne},Hn())}finally{ue.p=m,_!==null&&b.types!==null&&(_.types=b.types),X.T=_}}function ZR(){}function im(n,s,o,u){if(n.tag!==5)throw Error(r(476));var h=G_(n).queue;H_(n,h,s,Se,o===null?ZR:function(){return $_(n),o(u)})}function G_(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:Se,baseState:Se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:Se},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:o},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function $_(n){var s=G_(n);s.next===null&&(s=n.alternate.memoizedState),Zl(n,s.next.queue,{},Hn())}function rm(){return rn(gu)}function K_(){return Dt().memoizedState}function Y_(){return Dt().memoizedState}function e1(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var o=Hn();n=cs(o);var u=fs(s,n,o);u!==null&&(On(u,s,o),Yl(u,s,o)),s={cache:Md()},n.payload=s;return}s=s.return}}function t1(n,s,o){var u=Hn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},uf(n)?X_(s,o):(o=bd(n,s,o,u),o!==null&&(On(o,n,u),W_(o,s,u)))}function Q_(n,s,o){var u=Hn();Zl(n,s,o,u)}function Zl(n,s,o,u){var h={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(uf(n))X_(s,h);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var _=s.lastRenderedState,b=m(_,o);if(h.hasEagerState=!0,h.eagerState=b,Un(b,_))return Bc(n,s,h,0),ht===null&&jc(),!1}catch{}finally{}if(o=bd(n,s,h,u),o!==null)return On(o,n,u),W_(o,s,u),!0}return!1}function sm(n,s,o,u){if(u={lane:2,revertLane:Pm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},uf(n)){if(s)throw Error(r(479))}else s=bd(n,o,u,2),s!==null&&On(s,n,2)}function uf(n){var s=n.alternate;return n===Le||s!==null&&s===Le}function X_(n,s){Ro=tf=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function W_(n,s,o){if((o&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,Tl(n,o)}}var eu={readContext:rn,use:sf,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt};eu.useEffectEvent=wt;var J_={readContext:rn,use:sf,useCallback:function(n,s){return vn().memoizedState=[n,s===void 0?null:s],n},useContext:rn,useEffect:k_,useImperativeHandle:function(n,s,o){o=o!=null?o.concat([n]):null,of(4194308,4,z_.bind(null,s,n),o)},useLayoutEffect:function(n,s){return of(4194308,4,n,s)},useInsertionEffect:function(n,s){of(4,2,n,s)},useMemo:function(n,s){var o=vn();s=s===void 0?null:s;var u=n();if(Aa){bn(!0);try{n()}finally{bn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(n,s,o){var u=vn();if(o!==void 0){var h=o(s);if(Aa){bn(!0);try{o(s)}finally{bn(!1)}}}else h=s;return u.memoizedState=u.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},u.queue=n,n=n.dispatch=t1.bind(null,Le,n),[u.memoizedState,n]},useRef:function(n){var s=vn();return n={current:n},s.memoizedState=n},useState:function(n){n=Jd(n);var s=n.queue,o=Q_.bind(null,Le,s);return s.dispatch=o,[n.memoizedState,o]},useDebugValue:tm,useDeferredValue:function(n,s){var o=vn();return nm(o,n,s)},useTransition:function(){var n=Jd(!1);return n=H_.bind(null,Le,n.queue,!0,!1),vn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,o){var u=Le,h=vn();if(Xe){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),ht===null)throw Error(r(349));(Be&127)!==0||v_(u,s,o)}h.memoizedState=o;var m={value:o,getSnapshot:s};return h.queue=m,k_(T_.bind(null,u,m,n),[n]),u.flags|=2048,Io(9,{destroy:void 0},E_.bind(null,u,m,o,s),null),o},useId:function(){var n=vn(),s=ht.identifierPrefix;if(Xe){var o=Xi,u=Qi;o=(u&~(1<<32-_t(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=nf++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=YR++,s="_"+s+"r_"+o.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:rm,useFormState:D_,useActionState:D_,useOptimistic:function(n){var s=vn();s.memoizedState=s.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=sm.bind(null,Le,!0,o),o.dispatch=s,[n,s]},useMemoCache:Qd,useCacheRefresh:function(){return vn().memoizedState=e1.bind(null,Le)},useEffectEvent:function(n){var s=vn(),o={impl:n};return s.memoizedState=o,function(){if((nt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},am={readContext:rn,use:sf,useCallback:j_,useContext:rn,useEffect:em,useImperativeHandle:F_,useInsertionEffect:P_,useLayoutEffect:U_,useMemo:B_,useReducer:af,useRef:V_,useState:function(){return af(wr)},useDebugValue:tm,useDeferredValue:function(n,s){var o=Dt();return q_(o,ut.memoizedState,n,s)},useTransition:function(){var n=af(wr)[0],s=Dt().memoizedState;return[typeof n=="boolean"?n:Jl(n),s]},useSyncExternalStore:__,useId:K_,useHostTransitionStatus:rm,useFormState:N_,useActionState:N_,useOptimistic:function(n,s){var o=Dt();return A_(o,ut,n,s)},useMemoCache:Qd,useCacheRefresh:Y_};am.useEffectEvent=L_;var Z_={readContext:rn,use:sf,useCallback:j_,useContext:rn,useEffect:em,useImperativeHandle:F_,useInsertionEffect:P_,useLayoutEffect:U_,useMemo:B_,useReducer:Wd,useRef:V_,useState:function(){return Wd(wr)},useDebugValue:tm,useDeferredValue:function(n,s){var o=Dt();return ut===null?nm(o,n,s):q_(o,ut.memoizedState,n,s)},useTransition:function(){var n=Wd(wr)[0],s=Dt().memoizedState;return[typeof n=="boolean"?n:Jl(n),s]},useSyncExternalStore:__,useId:K_,useHostTransitionStatus:rm,useFormState:M_,useActionState:M_,useOptimistic:function(n,s){var o=Dt();return ut!==null?A_(o,ut,n,s):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:Qd,useCacheRefresh:Y_};Z_.useEffectEvent=L_;function om(n,s,o,u){s=n.memoizedState,o=o(u,s),o=o==null?s:T({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var lm={enqueueSetState:function(n,s,o){n=n._reactInternals;var u=Hn(),h=cs(u);h.payload=s,o!=null&&(h.callback=o),s=fs(n,h,u),s!==null&&(On(s,n,u),Yl(s,n,u))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var u=Hn(),h=cs(u);h.tag=1,h.payload=s,o!=null&&(h.callback=o),s=fs(n,h,u),s!==null&&(On(s,n,u),Yl(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=Hn(),u=cs(o);u.tag=2,s!=null&&(u.callback=s),s=fs(n,u,o),s!==null&&(On(s,n,o),Yl(s,n,o))}};function ev(n,s,o,u,h,m,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,m,_):s.prototype&&s.prototype.isPureReactComponent?!Fl(o,u)||!Fl(h,m):!0}function tv(n,s,o,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==n&&lm.enqueueReplaceState(s,s.state,null)}function wa(n,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(n=n.defaultProps){o===s&&(o=T({},o));for(var h in n)o[h]===void 0&&(o[h]=n[h])}return o}function nv(n){Fc(n)}function iv(n){console.error(n)}function rv(n){Fc(n)}function cf(n,s){try{var o=n.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function sv(n,s,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function um(n,s,o){return o=cs(o),o.tag=3,o.payload={element:null},o.callback=function(){cf(n,s)},o}function av(n){return n=cs(n),n.tag=3,n}function ov(n,s,o,u){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var m=u.value;n.payload=function(){return h(m)},n.callback=function(){sv(s,o,u)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){sv(s,o,u),typeof h!="function"&&(ys===null?ys=new Set([this]):ys.add(this));var b=u.stack;this.componentDidCatch(u.value,{componentStack:b!==null?b:""})})}function n1(n,s,o,u,h){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Eo(s,o,h,!0),o=Fn.current,o!==null){switch(o.tag){case 31:case 13:return ii===null?bf():o.alternate===null&&Rt===0&&(Rt=3),o.flags&=-257,o.flags|=65536,o.lanes=h,u===Xc?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Vm(n,u,h)),!1;case 22:return o.flags|=65536,u===Xc?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Vm(n,u,h)),!1}throw Error(r(435,o.tag))}return Vm(n,u,h),bf(),!1}if(Xe)return s=Fn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,u!==Id&&(n=Error(r(422),{cause:u}),ql(Zn(n,o)))):(u!==Id&&(s=Error(r(423),{cause:u}),ql(Zn(s,o))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,u=Zn(u,o),h=um(n.stateNode,u,h),zd(n,h),Rt!==4&&(Rt=2)),!1;var m=Error(r(520),{cause:u});if(m=Zn(m,o),lu===null?lu=[m]:lu.push(m),Rt!==4&&(Rt=2),s===null)return!0;u=Zn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,n=h&-h,o.lanes|=n,n=um(o.stateNode,u,n),zd(o,n),!1;case 1:if(s=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ys===null||!ys.has(m))))return o.flags|=65536,h&=-h,o.lanes|=h,h=av(h),ov(h,n,o,u),zd(o,h),!1}o=o.return}while(o!==null);return!1}var cm=Error(r(461)),zt=!1;function sn(n,s,o,u){s.child=n===null?f_(s,null,o,u):Sa(s,n.child,o,u)}function lv(n,s,o,u,h){o=o.render;var m=s.ref;if("ref"in u){var _={};for(var b in u)b!=="ref"&&(_[b]=u[b])}else _=u;return va(s),u=Gd(n,s,o,_,m,h),b=$d(),n!==null&&!zt?(Kd(n,s,h),Rr(n,s,h)):(Xe&&b&&Rd(s),s.flags|=1,sn(n,s,u,h),s.child)}function uv(n,s,o,u,h){if(n===null){var m=o.type;return typeof m=="function"&&!Sd(m)&&m.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=m,cv(n,s,m,u,h)):(n=Hc(o.type,null,u,s,s.mode,h),n.ref=s.ref,n.return=s,s.child=n)}if(m=n.child,!_m(n,h)){var _=m.memoizedProps;if(o=o.compare,o=o!==null?o:Fl,o(_,u)&&n.ref===s.ref)return Rr(n,s,h)}return s.flags|=1,n=Er(m,u),n.ref=s.ref,n.return=s,s.child=n}function cv(n,s,o,u,h){if(n!==null){var m=n.memoizedProps;if(Fl(m,u)&&n.ref===s.ref)if(zt=!1,s.pendingProps=u=m,_m(n,h))(n.flags&131072)!==0&&(zt=!0);else return s.lanes=n.lanes,Rr(n,s,h)}return fm(n,s,o,u,h)}function fv(n,s,o,u){var h=u.children,m=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,n!==null){for(u=s.child=n.child,h=0;u!==null;)h=h|u.lanes|u.childLanes,u=u.sibling;u=h&~m}else u=0,s.child=null;return hv(n,s,m,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Yc(s,m!==null?m.cachePool:null),m!==null?m_(s,m):jd(),p_(s);else return u=s.lanes=536870912,hv(n,s,m!==null?m.baseLanes|o:o,o,u)}else m!==null?(Yc(s,m.cachePool),m_(s,m),ds(),s.memoizedState=null):(n!==null&&Yc(s,null),jd(),ds());return sn(n,s,h,o),s.child}function tu(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function hv(n,s,o,u,h){var m=kd();return m=m===null?null:{parent:Pt._currentValue,pool:m},s.memoizedState={baseLanes:o,cachePool:m},n!==null&&Yc(s,null),jd(),p_(s),n!==null&&Eo(n,s,u,!0),s.childLanes=h,null}function ff(n,s){return s=df({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function dv(n,s,o){return Sa(s,n.child,null,o),n=ff(s,s.pendingProps),n.flags|=2,jn(s),s.memoizedState=null,n}function i1(n,s,o){var u=s.pendingProps,h=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(Xe){if(u.mode==="hidden")return n=ff(s,u),s.lanes=536870912,tu(null,n);if(qd(s),(n=pt)?(n=wE(n,ni),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:ss!==null?{id:Qi,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},o=Xy(n),o.return=s,s.child=o,nn=s,pt=null)):n=null,n===null)throw os(s);return s.lanes=536870912,null}return ff(s,u)}var m=n.memoizedState;if(m!==null){var _=m.dehydrated;if(qd(s),h)if(s.flags&256)s.flags&=-257,s=dv(n,s,o);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(r(558));else if(zt||Eo(n,s,o,!1),h=(o&n.childLanes)!==0,zt||h){if(u=ht,u!==null&&(_=bl(u,o),_!==0&&_!==m.retryLane))throw m.retryLane=_,pa(n,_),On(u,n,_),cm;bf(),s=dv(n,s,o)}else n=m.treeContext,pt=ri(_.nextSibling),nn=s,Xe=!0,as=null,ni=!1,n!==null&&Zy(s,n),s=ff(s,u),s.flags|=4096;return s}return n=Er(n.child,{mode:u.mode,children:u.children}),n.ref=s.ref,s.child=n,n.return=s,n}function hf(n,s){var o=s.ref;if(o===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(n===null||n.ref!==o)&&(s.flags|=4194816)}}function fm(n,s,o,u,h){return va(s),o=Gd(n,s,o,u,void 0,h),u=$d(),n!==null&&!zt?(Kd(n,s,h),Rr(n,s,h)):(Xe&&u&&Rd(s),s.flags|=1,sn(n,s,o,h),s.child)}function mv(n,s,o,u,h,m){return va(s),s.updateQueue=null,o=y_(s,u,o,h),g_(n),u=$d(),n!==null&&!zt?(Kd(n,s,m),Rr(n,s,m)):(Xe&&u&&Rd(s),s.flags|=1,sn(n,s,o,m),s.child)}function pv(n,s,o,u,h){if(va(s),s.stateNode===null){var m=go,_=o.contextType;typeof _=="object"&&_!==null&&(m=rn(_)),m=new o(u,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=lm,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=u,m.state=s.memoizedState,m.refs={},Pd(s),_=o.contextType,m.context=typeof _=="object"&&_!==null?rn(_):go,m.state=s.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(om(s,o,_,u),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&lm.enqueueReplaceState(m,m.state,null),Xl(s,u,m,h),Ql(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){m=s.stateNode;var b=s.memoizedProps,N=wa(o,b);m.props=N;var q=m.context,Z=o.contextType;_=go,typeof Z=="object"&&Z!==null&&(_=rn(Z));var ne=o.getDerivedStateFromProps;Z=typeof ne=="function"||typeof m.getSnapshotBeforeUpdate=="function",b=s.pendingProps!==b,Z||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b||q!==_)&&tv(s,m,u,_),us=!1;var K=s.memoizedState;m.state=K,Xl(s,u,m,h),Ql(),q=s.memoizedState,b||K!==q||us?(typeof ne=="function"&&(om(s,o,ne,u),q=s.memoizedState),(N=us||ev(s,o,N,u,K,q,_))?(Z||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=q),m.props=u,m.state=q,m.context=_,u=N):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{m=s.stateNode,Ud(n,s),_=s.memoizedProps,Z=wa(o,_),m.props=Z,ne=s.pendingProps,K=m.context,q=o.contextType,N=go,typeof q=="object"&&q!==null&&(N=rn(q)),b=o.getDerivedStateFromProps,(q=typeof b=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==ne||K!==N)&&tv(s,m,u,N),us=!1,K=s.memoizedState,m.state=K,Xl(s,u,m,h),Ql();var Q=s.memoizedState;_!==ne||K!==Q||us||n!==null&&n.dependencies!==null&&$c(n.dependencies)?(typeof b=="function"&&(om(s,o,b,u),Q=s.memoizedState),(Z=us||ev(s,o,Z,u,K,Q,N)||n!==null&&n.dependencies!==null&&$c(n.dependencies))?(q||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,Q,N),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,Q,N)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===n.memoizedProps&&K===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&K===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Q),m.props=u,m.state=Q,m.context=N,u=Z):(typeof m.componentDidUpdate!="function"||_===n.memoizedProps&&K===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&K===n.memoizedState||(s.flags|=1024),u=!1)}return m=u,hf(n,s),u=(s.flags&128)!==0,m||u?(m=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,n!==null&&u?(s.child=Sa(s,n.child,null,h),s.child=Sa(s,null,o,h)):sn(n,s,o,h),s.memoizedState=m.state,n=s.child):n=Rr(n,s,h),n}function gv(n,s,o,u){return ya(),s.flags|=256,sn(n,s,o,u),s.child}var hm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dm(n){return{baseLanes:n,cachePool:s_()}}function mm(n,s,o){return n=n!==null?n.childLanes&~o:0,s&&(n|=qn),n}function yv(n,s,o){var u=s.pendingProps,h=!1,m=(s.flags&128)!==0,_;if((_=m)||(_=n!==null&&n.memoizedState===null?!1:(Ot.current&2)!==0),_&&(h=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,n===null){if(Xe){if(h?hs(s):ds(),(n=pt)?(n=wE(n,ni),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:ss!==null?{id:Qi,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},o=Xy(n),o.return=s,s.child=o,nn=s,pt=null)):n=null,n===null)throw os(s);return Xm(n)?s.lanes=32:s.lanes=536870912,null}var b=u.children;return u=u.fallback,h?(ds(),h=s.mode,b=df({mode:"hidden",children:b},h),u=ga(u,h,o,null),b.return=s,u.return=s,b.sibling=u,s.child=b,u=s.child,u.memoizedState=dm(o),u.childLanes=mm(n,_,o),s.memoizedState=hm,tu(null,u)):(hs(s),pm(s,b))}var N=n.memoizedState;if(N!==null&&(b=N.dehydrated,b!==null)){if(m)s.flags&256?(hs(s),s.flags&=-257,s=gm(n,s,o)):s.memoizedState!==null?(ds(),s.child=n.child,s.flags|=128,s=null):(ds(),b=u.fallback,h=s.mode,u=df({mode:"visible",children:u.children},h),b=ga(b,h,o,null),b.flags|=2,u.return=s,b.return=s,u.sibling=b,s.child=u,Sa(s,n.child,null,o),u=s.child,u.memoizedState=dm(o),u.childLanes=mm(n,_,o),s.memoizedState=hm,s=tu(null,u));else if(hs(s),Xm(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var q=_.dgst;_=q,u=Error(r(419)),u.stack="",u.digest=_,ql({value:u,source:null,stack:null}),s=gm(n,s,o)}else if(zt||Eo(n,s,o,!1),_=(o&n.childLanes)!==0,zt||_){if(_=ht,_!==null&&(u=bl(_,o),u!==0&&u!==N.retryLane))throw N.retryLane=u,pa(n,u),On(_,n,u),cm;Qm(b)||bf(),s=gm(n,s,o)}else Qm(b)?(s.flags|=192,s.child=n.child,s=null):(n=N.treeContext,pt=ri(b.nextSibling),nn=s,Xe=!0,as=null,ni=!1,n!==null&&Zy(s,n),s=pm(s,u.children),s.flags|=4096);return s}return h?(ds(),b=u.fallback,h=s.mode,N=n.child,q=N.sibling,u=Er(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&65011712,q!==null?b=Er(q,b):(b=ga(b,h,o,null),b.flags|=2),b.return=s,u.return=s,u.sibling=b,s.child=u,tu(null,u),u=s.child,b=n.child.memoizedState,b===null?b=dm(o):(h=b.cachePool,h!==null?(N=Pt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=s_(),b={baseLanes:b.baseLanes|o,cachePool:h}),u.memoizedState=b,u.childLanes=mm(n,_,o),s.memoizedState=hm,tu(n.child,u)):(hs(s),o=n.child,n=o.sibling,o=Er(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,n!==null&&(_=s.deletions,_===null?(s.deletions=[n],s.flags|=16):_.push(n)),s.child=o,s.memoizedState=null,o)}function pm(n,s){return s=df({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function df(n,s){return n=zn(22,n,null,s),n.lanes=0,n}function gm(n,s,o){return Sa(s,n.child,null,o),n=pm(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function _v(n,s,o){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),Nd(n.return,s,o)}function ym(n,s,o,u,h,m){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h,treeForkCount:m}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=o,_.tailMode=h,_.treeForkCount=m)}function vv(n,s,o){var u=s.pendingProps,h=u.revealOrder,m=u.tail;u=u.children;var _=Ot.current,b=(_&2)!==0;if(b?(_=_&1|2,s.flags|=128):_&=1,fe(Ot,_),sn(n,s,u,o),u=Xe?Bl:0,!b&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&_v(n,o,s);else if(n.tag===19)_v(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(h){case"forwards":for(o=s.child,h=null;o!==null;)n=o.alternate,n!==null&&ef(n)===null&&(h=o),o=o.sibling;o=h,o===null?(h=s.child,s.child=null):(h=o.sibling,o.sibling=null),ym(s,!1,h,o,m,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,h=s.child,s.child=null;h!==null;){if(n=h.alternate,n!==null&&ef(n)===null){s.child=h;break}n=h.sibling,h.sibling=o,o=h,h=n}ym(s,!0,o,null,m,u);break;case"together":ym(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function Rr(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),gs|=s.lanes,(o&s.childLanes)===0)if(n!==null){if(Eo(n,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,o=Er(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=Er(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function _m(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&$c(n)))}function r1(n,s,o){switch(s.tag){case 3:At(s,s.stateNode.containerInfo),ls(s,Pt,n.memoizedState.cache),ya();break;case 27:case 5:ci(s);break;case 4:At(s,s.stateNode.containerInfo);break;case 10:ls(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,qd(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(hs(s),s.flags|=128,null):(o&s.child.childLanes)!==0?yv(n,s,o):(hs(s),n=Rr(n,s,o),n!==null?n.sibling:null);hs(s);break;case 19:var h=(n.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Eo(n,s,o,!1),u=(o&s.childLanes)!==0),h){if(u)return vv(n,s,o);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),fe(Ot,Ot.current),u)break;return null;case 22:return s.lanes=0,fv(n,s,o,s.pendingProps);case 24:ls(s,Pt,n.memoizedState.cache)}return Rr(n,s,o)}function Ev(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps)zt=!0;else{if(!_m(n,o)&&(s.flags&128)===0)return zt=!1,r1(n,s,o);zt=(n.flags&131072)!==0}else zt=!1,Xe&&(s.flags&1048576)!==0&&Jy(s,Bl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(n=Ta(s.elementType),s.type=n,typeof n=="function")Sd(n)?(u=wa(n,u),s.tag=1,s=pv(null,s,n,u,o)):(s.tag=0,s=fm(null,s,n,u,o));else{if(n!=null){var h=n.$$typeof;if(h===ve){s.tag=11,s=lv(null,s,n,u,o);break e}else if(h===I){s.tag=14,s=uv(null,s,n,u,o);break e}}throw s=De(n)||n,Error(r(306,s,""))}}return s;case 0:return fm(n,s,s.type,s.pendingProps,o);case 1:return u=s.type,h=wa(u,s.pendingProps),pv(n,s,u,h,o);case 3:e:{if(At(s,s.stateNode.containerInfo),n===null)throw Error(r(387));u=s.pendingProps;var m=s.memoizedState;h=m.element,Ud(n,s),Xl(s,u,null,o);var _=s.memoizedState;if(u=_.cache,ls(s,Pt,u),u!==m.cache&&xd(s,[Pt],o,!0),Ql(),u=_.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=gv(n,s,u,o);break e}else if(u!==h){h=Zn(Error(r(424)),s),ql(h),s=gv(n,s,u,o);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(pt=ri(n.firstChild),nn=s,Xe=!0,as=null,ni=!0,o=f_(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ya(),u===h){s=Rr(n,s,o);break e}sn(n,s,u,o)}s=s.child}return s;case 26:return hf(n,s),n===null?(o=NE(s.type,null,s.pendingProps,null))?s.memoizedState=o:Xe||(o=s.type,n=s.pendingProps,u=Of(Ve.current).createElement(o),u[Vt]=s,u[Xt]=n,an(u,o,n),kt(u),s.stateNode=u):s.memoizedState=NE(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return ci(s),n===null&&Xe&&(u=s.stateNode=IE(s.type,s.pendingProps,Ve.current),nn=s,ni=!0,h=pt,Ts(s.type)?(Wm=h,pt=ri(u.firstChild)):pt=h),sn(n,s,s.pendingProps.children,o),hf(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Xe&&((h=u=pt)&&(u=V1(u,s.type,s.pendingProps,ni),u!==null?(s.stateNode=u,nn=s,pt=ri(u.firstChild),ni=!1,h=!0):h=!1),h||os(s)),ci(s),h=s.type,m=s.pendingProps,_=n!==null?n.memoizedProps:null,u=m.children,$m(h,m)?u=null:_!==null&&$m(h,_)&&(s.flags|=32),s.memoizedState!==null&&(h=Gd(n,s,QR,null,null,o),gu._currentValue=h),hf(n,s),sn(n,s,u,o),s.child;case 6:return n===null&&Xe&&((n=o=pt)&&(o=k1(o,s.pendingProps,ni),o!==null?(s.stateNode=o,nn=s,pt=null,n=!0):n=!1),n||os(s)),null;case 13:return yv(n,s,o);case 4:return At(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=Sa(s,null,u,o):sn(n,s,u,o),s.child;case 11:return lv(n,s,s.type,s.pendingProps,o);case 7:return sn(n,s,s.pendingProps,o),s.child;case 8:return sn(n,s,s.pendingProps.children,o),s.child;case 12:return sn(n,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,ls(s,s.type,u.value),sn(n,s,u.children,o),s.child;case 9:return h=s.type._context,u=s.pendingProps.children,va(s),h=rn(h),u=u(h),s.flags|=1,sn(n,s,u,o),s.child;case 14:return uv(n,s,s.type,s.pendingProps,o);case 15:return cv(n,s,s.type,s.pendingProps,o);case 19:return vv(n,s,o);case 31:return i1(n,s,o);case 22:return fv(n,s,o,s.pendingProps);case 24:return va(s),u=rn(Pt),n===null?(h=kd(),h===null&&(h=ht,m=Md(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=o),h=m),s.memoizedState={parent:u,cache:h},Pd(s),ls(s,Pt,h)):((n.lanes&o)!==0&&(Ud(n,s),Xl(s,null,null,o),Ql()),h=n.memoizedState,m=s.memoizedState,h.parent!==u?(h={parent:u,cache:u},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),ls(s,Pt,u)):(u=m.cache,ls(s,Pt,u),u!==h.cache&&xd(s,[Pt],o,!0))),sn(n,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Cr(n){n.flags|=4}function vm(n,s,o,u,h){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(h&335544128)===h)if(n.stateNode.complete)n.flags|=8192;else if(Kv())n.flags|=8192;else throw ba=Xc,Ld}else n.flags&=-16777217}function Tv(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!LE(s))if(Kv())n.flags|=8192;else throw ba=Xc,Ld}function mf(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?vc():536870912,n.lanes|=s,xo|=s)}function nu(n,s){if(!Xe)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function gt(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(s)for(var h=n.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=u,n.childLanes=o,s}function s1(n,s,o){var u=s.pendingProps;switch(Cd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(s),null;case 1:return gt(s),null;case 3:return o=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Sr(Pt),ot(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(vo(s)?Cr(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Od())),gt(s),null;case 26:var h=s.type,m=s.memoizedState;return n===null?(Cr(s),m!==null?(gt(s),Tv(s,m)):(gt(s),vm(s,h,null,u,o))):m?m!==n.memoizedState?(Cr(s),gt(s),Tv(s,m)):(gt(s),s.flags&=-16777217):(n=n.memoizedProps,n!==u&&Cr(s),gt(s),vm(s,h,n,u,o)),null;case 27:if(Kr(s),o=Ve.current,h=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&Cr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return gt(s),null}n=me.current,vo(s)?e_(s):(n=IE(h,u,o),s.stateNode=n,Cr(s))}return gt(s),null;case 5:if(Kr(s),h=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&Cr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return gt(s),null}if(m=me.current,vo(s))e_(s);else{var _=Of(Ve.current);switch(m){case 1:m=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=_.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof u.is=="string"?_.createElement("select",{is:u.is}):_.createElement("select"),u.multiple?m.multiple=!0:u.size&&(m.size=u.size);break;default:m=typeof u.is=="string"?_.createElement(h,{is:u.is}):_.createElement(h)}}m[Vt]=s,m[Xt]=u;e:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)m.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break e;for(;_.sibling===null;){if(_.return===null||_.return===s)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=m;e:switch(an(m,h,u),h){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Cr(s)}}return gt(s),vm(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,o),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&Cr(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(n=Ve.current,vo(s)){if(n=s.stateNode,o=s.memoizedProps,u=null,h=nn,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}n[Vt]=s,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||yE(n.nodeValue,o)),n||os(s,!0)}else n=Of(n).createTextNode(u),n[Vt]=s,s.stateNode=n}return gt(s),null;case 31:if(o=s.memoizedState,n===null||n.memoizedState!==null){if(u=vo(s),o!==null){if(n===null){if(!u)throw Error(r(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[Vt]=s}else ya(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gt(s),n=!1}else o=Od(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return s.flags&256?(jn(s),s):(jn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return gt(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=vo(s),u!==null&&u.dehydrated!==null){if(n===null){if(!h)throw Error(r(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Vt]=s}else ya(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gt(s),h=!1}else h=Od(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(jn(s),s):(jn(s),null)}return jn(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,n=n!==null&&n.memoizedState!==null,o&&(u=s.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==h&&(u.flags|=2048)),o!==n&&o&&(s.child.flags|=8192),mf(s,s.updateQueue),gt(s),null);case 4:return ot(),n===null&&jm(s.stateNode.containerInfo),gt(s),null;case 10:return Sr(s.type),gt(s),null;case 19:if(te(Ot),u=s.memoizedState,u===null)return gt(s),null;if(h=(s.flags&128)!==0,m=u.rendering,m===null)if(h)nu(u,!1);else{if(Rt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(m=ef(n),m!==null){for(s.flags|=128,nu(u,!1),n=m.updateQueue,s.updateQueue=n,mf(s,n),s.subtreeFlags=0,n=o,o=s.child;o!==null;)Qy(o,n),o=o.sibling;return fe(Ot,Ot.current&1|2),Xe&&Tr(s,u.treeForkCount),s.child}n=n.sibling}u.tail!==null&&oe()>vf&&(s.flags|=128,h=!0,nu(u,!1),s.lanes=4194304)}else{if(!h)if(n=ef(m),n!==null){if(s.flags|=128,h=!0,n=n.updateQueue,s.updateQueue=n,mf(s,n),nu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!Xe)return gt(s),null}else 2*oe()-u.renderingStartTime>vf&&o!==536870912&&(s.flags|=128,h=!0,nu(u,!1),s.lanes=4194304);u.isBackwards?(m.sibling=s.child,s.child=m):(n=u.last,n!==null?n.sibling=m:s.child=m,u.last=m)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=oe(),n.sibling=null,o=Ot.current,fe(Ot,h?o&1|2:o&1),Xe&&Tr(s,u.treeForkCount),n):(gt(s),null);case 22:case 23:return jn(s),Bd(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(gt(s),s.subtreeFlags&6&&(s.flags|=8192)):gt(s),o=s.updateQueue,o!==null&&mf(s,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),n!==null&&te(Ea),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Sr(Pt),gt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function a1(n,s){switch(Cd(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Sr(Pt),ot(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Kr(s),null;case 31:if(s.memoizedState!==null){if(jn(s),s.alternate===null)throw Error(r(340));ya()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(jn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ya()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return te(Ot),null;case 4:return ot(),null;case 10:return Sr(s.type),null;case 22:case 23:return jn(s),Bd(),n!==null&&te(Ea),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return Sr(Pt),null;case 25:return null;default:return null}}function bv(n,s){switch(Cd(s),s.tag){case 3:Sr(Pt),ot();break;case 26:case 27:case 5:Kr(s);break;case 4:ot();break;case 31:s.memoizedState!==null&&jn(s);break;case 13:jn(s);break;case 19:te(Ot);break;case 10:Sr(s.type);break;case 22:case 23:jn(s),Bd(),n!==null&&te(Ea);break;case 24:Sr(Pt)}}function iu(n,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var h=u.next;o=h;do{if((o.tag&n)===n){u=void 0;var m=o.create,_=o.inst;u=m(),_.destroy=u}o=o.next}while(o!==h)}}catch(b){at(s,s.return,b)}}function ms(n,s,o){try{var u=s.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var m=h.next;u=m;do{if((u.tag&n)===n){var _=u.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,h=s;var N=o,q=b;try{q()}catch(Z){at(h,N,Z)}}}u=u.next}while(u!==m)}}catch(Z){at(s,s.return,Z)}}function Sv(n){var s=n.updateQueue;if(s!==null){var o=n.stateNode;try{d_(s,o)}catch(u){at(n,n.return,u)}}}function Av(n,s,o){o.props=wa(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){at(n,s,u)}}function ru(n,s){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(h){at(n,s,h)}}function Wi(n,s){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(h){at(n,s,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){at(n,s,h)}else o.current=null}function wv(n){var s=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(h){at(n,n.return,h)}}function Em(n,s,o){try{var u=n.stateNode;I1(u,n.type,o,s),u[Xt]=s}catch(h){at(n,n.return,h)}}function Rv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ts(n.type)||n.tag===4}function Tm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Rv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ts(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function bm(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(n),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=mi));else if(u!==4&&(u===27&&Ts(n.type)&&(o=n.stateNode,s=null),n=n.child,n!==null))for(bm(n,s,o),n=n.sibling;n!==null;)bm(n,s,o),n=n.sibling}function pf(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(u!==4&&(u===27&&Ts(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(pf(n,s,o),n=n.sibling;n!==null;)pf(n,s,o),n=n.sibling}function Cv(n){var s=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);an(s,u,o),s[Vt]=n,s[Xt]=o}catch(m){at(n,n.return,m)}}var Ir=!1,Ft=!1,Sm=!1,Iv=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function o1(n,s){if(n=n.containerInfo,Hm=Lf,n=Fy(n),gd(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var _=0,b=-1,N=-1,q=0,Z=0,ne=n,K=null;t:for(;;){for(var Q;ne!==o||h!==0&&ne.nodeType!==3||(b=_+h),ne!==m||u!==0&&ne.nodeType!==3||(N=_+u),ne.nodeType===3&&(_+=ne.nodeValue.length),(Q=ne.firstChild)!==null;)K=ne,ne=Q;for(;;){if(ne===n)break t;if(K===o&&++q===h&&(b=_),K===m&&++Z===u&&(N=_),(Q=ne.nextSibling)!==null)break;ne=K,K=ne.parentNode}ne=Q}o=b===-1||N===-1?null:{start:b,end:N}}else o=null}o=o||{start:0,end:0}}else o=null;for(Gm={focusedElem:n,selectionRange:o},Lf=!1,Jt=s;Jt!==null;)if(s=Jt,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Jt=n;else for(;Jt!==null;){switch(s=Jt,m=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)h=n[o],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,o=s,h=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var ye=wa(o.type,h);n=u.getSnapshotBeforeUpdate(ye,m),u.__reactInternalSnapshotBeforeUpdate=n}catch(Re){at(o,o.return,Re)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,o=n.nodeType,o===9)Ym(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Ym(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,Jt=n;break}Jt=s.return}}function Ov(n,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Dr(n,o),u&4&&iu(5,o);break;case 1:if(Dr(n,o),u&4)if(n=o.stateNode,s===null)try{n.componentDidMount()}catch(_){at(o,o.return,_)}else{var h=wa(o.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(h,s,n.__reactInternalSnapshotBeforeUpdate)}catch(_){at(o,o.return,_)}}u&64&&Sv(o),u&512&&ru(o,o.return);break;case 3:if(Dr(n,o),u&64&&(n=o.updateQueue,n!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{d_(n,s)}catch(_){at(o,o.return,_)}}break;case 27:s===null&&u&4&&Cv(o);case 26:case 5:Dr(n,o),s===null&&u&4&&wv(o),u&512&&ru(o,o.return);break;case 12:Dr(n,o);break;case 31:Dr(n,o),u&4&&xv(n,o);break;case 13:Dr(n,o),u&4&&Mv(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=g1.bind(null,o),L1(n,o))));break;case 22:if(u=o.memoizedState!==null||Ir,!u){s=s!==null&&s.memoizedState!==null||Ft,h=Ir;var m=Ft;Ir=u,(Ft=s)&&!m?Nr(n,o,(o.subtreeFlags&8772)!==0):Dr(n,o),Ir=h,Ft=m}break;case 30:break;default:Dr(n,o)}}function Dv(n){var s=n.alternate;s!==null&&(n.alternate=null,Dv(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&to(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Et=null,wn=!1;function Or(n,s,o){for(o=o.child;o!==null;)Nv(n,s,o),o=o.sibling}function Nv(n,s,o){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(yn,o)}catch{}switch(o.tag){case 26:Ft||Wi(o,s),Or(n,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ft||Wi(o,s);var u=Et,h=wn;Ts(o.type)&&(Et=o.stateNode,wn=!1),Or(n,s,o),du(o.stateNode),Et=u,wn=h;break;case 5:Ft||Wi(o,s);case 6:if(u=Et,h=wn,Et=null,Or(n,s,o),Et=u,wn=h,Et!==null)if(wn)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(o.stateNode)}catch(m){at(o,s,m)}else try{Et.removeChild(o.stateNode)}catch(m){at(o,s,m)}break;case 18:Et!==null&&(wn?(n=Et,SE(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),Fo(n)):SE(Et,o.stateNode));break;case 4:u=Et,h=wn,Et=o.stateNode.containerInfo,wn=!0,Or(n,s,o),Et=u,wn=h;break;case 0:case 11:case 14:case 15:ms(2,o,s),Ft||ms(4,o,s),Or(n,s,o);break;case 1:Ft||(Wi(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Av(o,s,u)),Or(n,s,o);break;case 21:Or(n,s,o);break;case 22:Ft=(u=Ft)||o.memoizedState!==null,Or(n,s,o),Ft=u;break;default:Or(n,s,o)}}function xv(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Fo(n)}catch(o){at(s,s.return,o)}}}function Mv(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Fo(n)}catch(o){at(s,s.return,o)}}function l1(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new Iv),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new Iv),s;default:throw Error(r(435,n.tag))}}function gf(n,s){var o=l1(n);s.forEach(function(u){if(!o.has(u)){o.add(u);var h=y1.bind(null,n,u);u.then(h,h)}})}function Rn(n,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u],m=n,_=s,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(Ts(b.type)){Et=b.stateNode,wn=!1;break e}break;case 5:Et=b.stateNode,wn=!1;break e;case 3:case 4:Et=b.stateNode.containerInfo,wn=!0;break e}b=b.return}if(Et===null)throw Error(r(160));Nv(m,_,h),Et=null,wn=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Vv(s,n),s=s.sibling}var Ei=null;function Vv(n,s){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Rn(s,n),Cn(n),u&4&&(ms(3,n,n.return),iu(3,n),ms(5,n,n.return));break;case 1:Rn(s,n),Cn(n),u&512&&(Ft||o===null||Wi(o,o.return)),u&64&&Ir&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var h=Ei;if(Rn(s,n),Cn(n),u&512&&(Ft||o===null||Wi(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Pi]||m[Vt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(u),h.head.insertBefore(m,h.querySelector("head > title"))),an(m,u,o),m[Vt]=n,kt(m),u=m;break e;case"link":var _=VE("link","href",h).get(u+(o.href||""));if(_){for(var b=0;b<_.length;b++)if(m=_[b],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(b,1);break t}}m=h.createElement(u),an(m,u,o),h.head.appendChild(m);break;case"meta":if(_=VE("meta","content",h).get(u+(o.content||""))){for(b=0;b<_.length;b++)if(m=_[b],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(b,1);break t}}m=h.createElement(u),an(m,u,o),h.head.appendChild(m);break;default:throw Error(r(468,u))}m[Vt]=n,kt(m),u=m}n.stateNode=u}else kE(h,n.type,n.stateNode);else n.stateNode=ME(h,u,n.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?kE(h,n.type,n.stateNode):ME(h,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Em(n,n.memoizedProps,o.memoizedProps)}break;case 27:Rn(s,n),Cn(n),u&512&&(Ft||o===null||Wi(o,o.return)),o!==null&&u&4&&Em(n,n.memoizedProps,o.memoizedProps);break;case 5:if(Rn(s,n),Cn(n),u&512&&(Ft||o===null||Wi(o,o.return)),n.flags&32){h=n.stateNode;try{An(h,"")}catch(ye){at(n,n.return,ye)}}u&4&&n.stateNode!=null&&(h=n.memoizedProps,Em(n,h,o!==null?o.memoizedProps:h)),u&1024&&(Sm=!0);break;case 6:if(Rn(s,n),Cn(n),u&4){if(n.stateNode===null)throw Error(r(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(ye){at(n,n.return,ye)}}break;case 3:if(xf=null,h=Ei,Ei=Df(s.containerInfo),Rn(s,n),Ei=h,Cn(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Fo(s.containerInfo)}catch(ye){at(n,n.return,ye)}Sm&&(Sm=!1,kv(n));break;case 4:u=Ei,Ei=Df(n.stateNode.containerInfo),Rn(s,n),Cn(n),Ei=u;break;case 12:Rn(s,n),Cn(n);break;case 31:Rn(s,n),Cn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,gf(n,u)));break;case 13:Rn(s,n),Cn(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(_f=oe()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,gf(n,u)));break;case 22:h=n.memoizedState!==null;var N=o!==null&&o.memoizedState!==null,q=Ir,Z=Ft;if(Ir=q||h,Ft=Z||N,Rn(s,n),Ft=Z,Ir=q,Cn(n),u&8192)e:for(s=n.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(o===null||N||Ir||Ft||Ra(n)),o=null,s=n;;){if(s.tag===5||s.tag===26){if(o===null){N=o=s;try{if(m=N.stateNode,h)_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=N.stateNode;var ne=N.memoizedProps.style,K=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;b.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(ye){at(N,N.return,ye)}}}else if(s.tag===6){if(o===null){N=s;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(ye){at(N,N.return,ye)}}}else if(s.tag===18){if(o===null){N=s;try{var Q=N.stateNode;h?AE(Q,!0):AE(N.stateNode,!1)}catch(ye){at(N,N.return,ye)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,gf(n,o))));break;case 19:Rn(s,n),Cn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,gf(n,u)));break;case 30:break;case 21:break;default:Rn(s,n),Cn(n)}}function Cn(n){var s=n.flags;if(s&2){try{for(var o,u=n.return;u!==null;){if(Rv(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var h=o.stateNode,m=Tm(n);pf(n,m,h);break;case 5:var _=o.stateNode;o.flags&32&&(An(_,""),o.flags&=-33);var b=Tm(n);pf(n,b,_);break;case 3:case 4:var N=o.stateNode.containerInfo,q=Tm(n);bm(n,q,N);break;default:throw Error(r(161))}}catch(Z){at(n,n.return,Z)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function kv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;kv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Dr(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Ov(n,s.alternate,s),s=s.sibling}function Ra(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:ms(4,s,s.return),Ra(s);break;case 1:Wi(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&Av(s,s.return,o),Ra(s);break;case 27:du(s.stateNode);case 26:case 5:Wi(s,s.return),Ra(s);break;case 22:s.memoizedState===null&&Ra(s);break;case 30:Ra(s);break;default:Ra(s)}n=n.sibling}}function Nr(n,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,h=n,m=s,_=m.flags;switch(m.tag){case 0:case 11:case 15:Nr(h,m,o),iu(4,m);break;case 1:if(Nr(h,m,o),u=m,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){at(u,u.return,q)}if(u=m,h=u.updateQueue,h!==null){var b=u.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)h_(N[h],b)}catch(q){at(u,u.return,q)}}o&&_&64&&Sv(m),ru(m,m.return);break;case 27:Cv(m);case 26:case 5:Nr(h,m,o),o&&u===null&&_&4&&wv(m),ru(m,m.return);break;case 12:Nr(h,m,o);break;case 31:Nr(h,m,o),o&&_&4&&xv(h,m);break;case 13:Nr(h,m,o),o&&_&4&&Mv(h,m);break;case 22:m.memoizedState===null&&Nr(h,m,o),ru(m,m.return);break;case 30:break;default:Nr(h,m,o)}s=s.sibling}}function Am(n,s){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Hl(o))}function wm(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Hl(n))}function Ti(n,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Lv(n,s,o,u),s=s.sibling}function Lv(n,s,o,u){var h=s.flags;switch(s.tag){case 0:case 11:case 15:Ti(n,s,o,u),h&2048&&iu(9,s);break;case 1:Ti(n,s,o,u);break;case 3:Ti(n,s,o,u),h&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Hl(n)));break;case 12:if(h&2048){Ti(n,s,o,u),n=s.stateNode;try{var m=s.memoizedProps,_=m.id,b=m.onPostCommit;typeof b=="function"&&b(_,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(N){at(s,s.return,N)}}else Ti(n,s,o,u);break;case 31:Ti(n,s,o,u);break;case 13:Ti(n,s,o,u);break;case 23:break;case 22:m=s.stateNode,_=s.alternate,s.memoizedState!==null?m._visibility&2?Ti(n,s,o,u):su(n,s):m._visibility&2?Ti(n,s,o,u):(m._visibility|=2,Oo(n,s,o,u,(s.subtreeFlags&10256)!==0||!1)),h&2048&&Am(_,s);break;case 24:Ti(n,s,o,u),h&2048&&wm(s.alternate,s);break;default:Ti(n,s,o,u)}}function Oo(n,s,o,u,h){for(h=h&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=n,_=s,b=o,N=u,q=_.flags;switch(_.tag){case 0:case 11:case 15:Oo(m,_,b,N,h),iu(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?Oo(m,_,b,N,h):su(m,_):(Z._visibility|=2,Oo(m,_,b,N,h)),h&&q&2048&&Am(_.alternate,_);break;case 24:Oo(m,_,b,N,h),h&&q&2048&&wm(_.alternate,_);break;default:Oo(m,_,b,N,h)}s=s.sibling}}function su(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=n,u=s,h=u.flags;switch(u.tag){case 22:su(o,u),h&2048&&Am(u.alternate,u);break;case 24:su(o,u),h&2048&&wm(u.alternate,u);break;default:su(o,u)}s=s.sibling}}var au=8192;function Do(n,s,o){if(n.subtreeFlags&au)for(n=n.child;n!==null;)Pv(n,s,o),n=n.sibling}function Pv(n,s,o){switch(n.tag){case 26:Do(n,s,o),n.flags&au&&n.memoizedState!==null&&Y1(o,Ei,n.memoizedState,n.memoizedProps);break;case 5:Do(n,s,o);break;case 3:case 4:var u=Ei;Ei=Df(n.stateNode.containerInfo),Do(n,s,o),Ei=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=au,au=16777216,Do(n,s,o),au=u):Do(n,s,o));break;default:Do(n,s,o)}}function Uv(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function ou(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Jt=u,Fv(u,n)}Uv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)zv(n),n=n.sibling}function zv(n){switch(n.tag){case 0:case 11:case 15:ou(n),n.flags&2048&&ms(9,n,n.return);break;case 3:ou(n);break;case 12:ou(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,yf(n)):ou(n);break;default:ou(n)}}function yf(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Jt=u,Fv(u,n)}Uv(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:ms(8,s,s.return),yf(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,yf(s));break;default:yf(s)}n=n.sibling}}function Fv(n,s){for(;Jt!==null;){var o=Jt;switch(o.tag){case 0:case 11:case 15:ms(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Hl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Jt=u;else e:for(o=n;Jt!==null;){u=Jt;var h=u.sibling,m=u.return;if(Dv(u),u===o){Jt=null;break e}if(h!==null){h.return=m,Jt=h;break e}Jt=m}}}var u1={getCacheForType:function(n){var s=rn(Pt),o=s.data.get(n);return o===void 0&&(o=n(),s.data.set(n,o)),o},cacheSignal:function(){return rn(Pt).controller.signal}},c1=typeof WeakMap=="function"?WeakMap:Map,nt=0,ht=null,Fe=null,Be=0,st=0,Bn=null,ps=!1,No=!1,Rm=!1,xr=0,Rt=0,gs=0,Ca=0,Cm=0,qn=0,xo=0,lu=null,In=null,Im=!1,_f=0,jv=0,vf=1/0,Ef=null,ys=null,$t=0,_s=null,Mo=null,Mr=0,Om=0,Dm=null,Bv=null,uu=0,Nm=null;function Hn(){return(nt&2)!==0&&Be!==0?Be&-Be:X.T!==null?Pm():Ec()}function qv(){if(qn===0)if((Be&536870912)===0||Xe){var n=ea;ea<<=1,(ea&3932160)===0&&(ea=262144),qn=n}else qn=536870912;return n=Fn.current,n!==null&&(n.flags|=32),qn}function On(n,s,o){(n===ht&&(st===2||st===9)||n.cancelPendingCommit!==null)&&(Vo(n,0),vs(n,Be,qn,!1)),ta(n,o),((nt&2)===0||n!==ht)&&(n===ht&&((nt&2)===0&&(Ca|=o),Rt===4&&vs(n,Be,qn,!1)),Ji(n))}function Hv(n,s,o){if((nt&6)!==0)throw Error(r(327));var u=!o&&(s&127)===0&&(s&n.expiredLanes)===0||fi(n,s),h=u?d1(n,s):Mm(n,s,!0),m=u;do{if(h===0){No&&!u&&vs(n,s,0,!1);break}else{if(o=n.current.alternate,m&&!f1(o)){h=Mm(n,s,!1),m=!1;continue}if(h===2){if(m=s,n.errorRecoveryDisabledLanes&m)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;e:{var b=n;h=lu;var N=b.current.memoizedState.isDehydrated;if(N&&(Vo(b,_).flags|=256),_=Mm(b,_,!1),_!==2){if(Rm&&!N){b.errorRecoveryDisabledLanes|=m,Ca|=m,h=4;break e}m=In,In=h,m!==null&&(In===null?In=m:In.push.apply(In,m))}h=_}if(m=!1,h!==2)continue}}if(h===1){Vo(n,0),vs(n,s,0,!0);break}e:{switch(u=n,m=h,m){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:vs(u,s,qn,!ps);break e;case 2:In=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(h=_f+300-oe(),10<h)){if(vs(u,s,qn,!ps),Vi(u,0,!0)!==0)break e;Mr=s,u.timeoutHandle=TE(Gv.bind(null,u,o,In,Ef,Im,s,qn,Ca,xo,ps,m,"Throttled",-0,0),h);break e}Gv(u,o,In,Ef,Im,s,qn,Ca,xo,ps,m,null,-0,0)}}break}while(!0);Ji(n)}function Gv(n,s,o,u,h,m,_,b,N,q,Z,ne,K,Q){if(n.timeoutHandle=-1,ne=s.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:mi},Pv(s,m,ne);var ye=(m&62914560)===m?_f-oe():(m&4194048)===m?jv-oe():0;if(ye=Q1(ne,ye),ye!==null){Mr=m,n.cancelPendingCommit=ye(Zv.bind(null,n,s,m,o,u,h,_,b,N,Z,ne,null,K,Q)),vs(n,m,_,!q);return}}Zv(n,s,m,o,u,h,_,b,N)}function f1(n){for(var s=n;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var h=o[u],m=h.getSnapshot;h=h.value;try{if(!Un(m(),h))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function vs(n,s,o,u){s&=~Cm,s&=~Ca,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var h=s;0<h;){var m=31-_t(h),_=1<<m;u[m]=-1,h&=~_}o!==0&&na(n,o,s)}function Tf(){return(nt&6)===0?(cu(0),!1):!0}function xm(){if(Fe!==null){if(st===0)var n=Fe.return;else n=Fe,br=_a=null,Yd(n),Ao=null,$l=0,n=Fe;for(;n!==null;)bv(n.alternate,n),n=n.return;Fe=null}}function Vo(n,s){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,N1(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Mr=0,xm(),ht=n,Fe=o=Er(n.current,null),Be=s,st=0,Bn=null,ps=!1,No=fi(n,s),Rm=!1,xo=qn=Cm=Ca=gs=Rt=0,In=lu=null,Im=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var h=31-_t(u),m=1<<h;s|=n[h],u&=~m}return xr=s,jc(),o}function $v(n,s){Le=null,X.H=eu,s===So||s===Qc?(s=l_(),st=3):s===Ld?(s=l_(),st=4):st=s===cm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Bn=s,Fe===null&&(Rt=1,cf(n,Zn(s,n.current)))}function Kv(){var n=Fn.current;return n===null?!0:(Be&4194048)===Be?ii===null:(Be&62914560)===Be||(Be&536870912)!==0?n===ii:!1}function Yv(){var n=X.H;return X.H=eu,n===null?eu:n}function Qv(){var n=X.A;return X.A=u1,n}function bf(){Rt=4,ps||(Be&4194048)!==Be&&Fn.current!==null||(No=!0),(gs&134217727)===0&&(Ca&134217727)===0||ht===null||vs(ht,Be,qn,!1)}function Mm(n,s,o){var u=nt;nt|=2;var h=Yv(),m=Qv();(ht!==n||Be!==s)&&(Ef=null,Vo(n,s)),s=!1;var _=Rt;e:do try{if(st!==0&&Fe!==null){var b=Fe,N=Bn;switch(st){case 8:xm(),_=6;break e;case 3:case 2:case 9:case 6:Fn.current===null&&(s=!0);var q=st;if(st=0,Bn=null,ko(n,b,N,q),o&&No){_=0;break e}break;default:q=st,st=0,Bn=null,ko(n,b,N,q)}}h1(),_=Rt;break}catch(Z){$v(n,Z)}while(!0);return s&&n.shellSuspendCounter++,br=_a=null,nt=u,X.H=h,X.A=m,Fe===null&&(ht=null,Be=0,jc()),_}function h1(){for(;Fe!==null;)Xv(Fe)}function d1(n,s){var o=nt;nt|=2;var u=Yv(),h=Qv();ht!==n||Be!==s?(Ef=null,vf=oe()+500,Vo(n,s)):No=fi(n,s);e:do try{if(st!==0&&Fe!==null){s=Fe;var m=Bn;t:switch(st){case 1:st=0,Bn=null,ko(n,s,m,1);break;case 2:case 9:if(a_(m)){st=0,Bn=null,Wv(s);break}s=function(){st!==2&&st!==9||ht!==n||(st=7),Ji(n)},m.then(s,s);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:a_(m)?(st=0,Bn=null,Wv(s)):(st=0,Bn=null,ko(n,s,m,7));break;case 5:var _=null;switch(Fe.tag){case 26:_=Fe.memoizedState;case 5:case 27:var b=Fe;if(_?LE(_):b.stateNode.complete){st=0,Bn=null;var N=b.sibling;if(N!==null)Fe=N;else{var q=b.return;q!==null?(Fe=q,Sf(q)):Fe=null}break t}}st=0,Bn=null,ko(n,s,m,5);break;case 6:st=0,Bn=null,ko(n,s,m,6);break;case 8:xm(),Rt=6;break e;default:throw Error(r(462))}}m1();break}catch(Z){$v(n,Z)}while(!0);return br=_a=null,X.H=u,X.A=h,nt=o,Fe!==null?0:(ht=null,Be=0,jc(),Rt)}function m1(){for(;Fe!==null&&!J();)Xv(Fe)}function Xv(n){var s=Ev(n.alternate,n,xr);n.memoizedProps=n.pendingProps,s===null?Sf(n):Fe=s}function Wv(n){var s=n,o=s.alternate;switch(s.tag){case 15:case 0:s=mv(o,s,s.pendingProps,s.type,void 0,Be);break;case 11:s=mv(o,s,s.pendingProps,s.type.render,s.ref,Be);break;case 5:Yd(s);default:bv(o,s),s=Fe=Qy(s,xr),s=Ev(o,s,xr)}n.memoizedProps=n.pendingProps,s===null?Sf(n):Fe=s}function ko(n,s,o,u){br=_a=null,Yd(s),Ao=null,$l=0;var h=s.return;try{if(n1(n,h,s,o,Be)){Rt=1,cf(n,Zn(o,n.current)),Fe=null;return}}catch(m){if(h!==null)throw Fe=h,m;Rt=1,cf(n,Zn(o,n.current)),Fe=null;return}s.flags&32768?(Xe||u===1?n=!0:No||(Be&536870912)!==0?n=!1:(ps=n=!0,(u===2||u===9||u===3||u===6)&&(u=Fn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Jv(s,n)):Sf(s)}function Sf(n){var s=n;do{if((s.flags&32768)!==0){Jv(s,ps);return}n=s.return;var o=s1(s.alternate,s,xr);if(o!==null){Fe=o;return}if(s=s.sibling,s!==null){Fe=s;return}Fe=s=n}while(s!==null);Rt===0&&(Rt=5)}function Jv(n,s){do{var o=a1(n.alternate,n);if(o!==null){o.flags&=32767,Fe=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(n=n.sibling,n!==null)){Fe=n;return}Fe=n=o}while(n!==null);Rt=6,Fe=null}function Zv(n,s,o,u,h,m,_,b,N){n.cancelPendingCommit=null;do Af();while($t!==0);if((nt&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(m=s.lanes|s.childLanes,m|=Td,hd(n,o,m,_,b,N),n===ht&&(Fe=ht=null,Be=0),Mo=s,_s=n,Mr=o,Om=m,Dm=h,Bv=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,_1(Qe,function(){return rE(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=X.T,X.T=null,h=ue.p,ue.p=2,_=nt,nt|=4;try{o1(n,s,o)}finally{nt=_,ue.p=h,X.T=u}}$t=1,eE(),tE(),nE()}}function eE(){if($t===1){$t=0;var n=_s,s=Mo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=X.T,X.T=null;var u=ue.p;ue.p=2;var h=nt;nt|=4;try{Vv(s,n);var m=Gm,_=Fy(n.containerInfo),b=m.focusedElem,N=m.selectionRange;if(_!==b&&b&&b.ownerDocument&&zy(b.ownerDocument.documentElement,b)){if(N!==null&&gd(b)){var q=N.start,Z=N.end;if(Z===void 0&&(Z=q),"selectionStart"in b)b.selectionStart=q,b.selectionEnd=Math.min(Z,b.value.length);else{var ne=b.ownerDocument||document,K=ne&&ne.defaultView||window;if(K.getSelection){var Q=K.getSelection(),ye=b.textContent.length,Re=Math.min(N.start,ye),ft=N.end===void 0?Re:Math.min(N.end,ye);!Q.extend&&Re>ft&&(_=ft,ft=Re,Re=_);var P=Uy(b,Re),V=Uy(b,ft);if(P&&V&&(Q.rangeCount!==1||Q.anchorNode!==P.node||Q.anchorOffset!==P.offset||Q.focusNode!==V.node||Q.focusOffset!==V.offset)){var B=ne.createRange();B.setStart(P.node,P.offset),Q.removeAllRanges(),Re>ft?(Q.addRange(B),Q.extend(V.node,V.offset)):(B.setEnd(V.node,V.offset),Q.addRange(B))}}}}for(ne=[],Q=b;Q=Q.parentNode;)Q.nodeType===1&&ne.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ne.length;b++){var ee=ne[b];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Lf=!!Hm,Gm=Hm=null}finally{nt=h,ue.p=u,X.T=o}}n.current=s,$t=2}}function tE(){if($t===2){$t=0;var n=_s,s=Mo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=X.T,X.T=null;var u=ue.p;ue.p=2;var h=nt;nt|=4;try{Ov(n,s.alternate,s)}finally{nt=h,ue.p=u,X.T=o}}$t=3}}function nE(){if($t===4||$t===3){$t=0,de();var n=_s,s=Mo,o=Mr,u=Bv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?$t=5:($t=0,Mo=_s=null,iE(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(ys=null),gr(o),s=s.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(yn,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=X.T,h=ue.p,ue.p=2,X.T=null;try{for(var m=n.onRecoverableError,_=0;_<u.length;_++){var b=u[_];m(b.value,{componentStack:b.stack})}}finally{X.T=s,ue.p=h}}(Mr&3)!==0&&Af(),Ji(n),h=n.pendingLanes,(o&261930)!==0&&(h&42)!==0?n===Nm?uu++:(uu=0,Nm=n):uu=0,cu(0)}}function iE(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Hl(s)))}function Af(){return eE(),tE(),nE(),rE()}function rE(){if($t!==5)return!1;var n=_s,s=Om;Om=0;var o=gr(Mr),u=X.T,h=ue.p;try{ue.p=32>o?32:o,X.T=null,o=Dm,Dm=null;var m=_s,_=Mr;if($t=0,Mo=_s=null,Mr=0,(nt&6)!==0)throw Error(r(331));var b=nt;if(nt|=4,zv(m.current),Lv(m,m.current,_,o),nt=b,cu(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(yn,m)}catch{}return!0}finally{ue.p=h,X.T=u,iE(n,s)}}function sE(n,s,o){s=Zn(o,s),s=um(n.stateNode,s,2),n=fs(n,s,2),n!==null&&(ta(n,2),Ji(n))}function at(n,s,o){if(n.tag===3)sE(n,n,o);else for(;s!==null;){if(s.tag===3){sE(s,n,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ys===null||!ys.has(u))){n=Zn(o,n),o=av(2),u=fs(s,o,2),u!==null&&(ov(o,u,s,n),ta(u,2),Ji(u));break}}s=s.return}}function Vm(n,s,o){var u=n.pingCache;if(u===null){u=n.pingCache=new c1;var h=new Set;u.set(s,h)}else h=u.get(s),h===void 0&&(h=new Set,u.set(s,h));h.has(o)||(Rm=!0,h.add(o),n=p1.bind(null,n,s,o),s.then(n,n))}function p1(n,s,o){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,ht===n&&(Be&o)===o&&(Rt===4||Rt===3&&(Be&62914560)===Be&&300>oe()-_f?(nt&2)===0&&Vo(n,0):Cm|=o,xo===Be&&(xo=0)),Ji(n)}function aE(n,s){s===0&&(s=vc()),n=pa(n,s),n!==null&&(ta(n,s),Ji(n))}function g1(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),aE(n,o)}function y1(n,s){var o=0;switch(n.tag){case 31:case 13:var u=n.stateNode,h=n.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),aE(n,o)}function _1(n,s){return D(n,s)}var wf=null,Lo=null,km=!1,Rf=!1,Lm=!1,Es=0;function Ji(n){n!==Lo&&n.next===null&&(Lo===null?wf=Lo=n:Lo=Lo.next=n),Rf=!0,km||(km=!0,E1())}function cu(n,s){if(!Lm&&Rf){Lm=!0;do for(var o=!1,u=wf;u!==null;){if(n!==0){var h=u.pendingLanes;if(h===0)var m=0;else{var _=u.suspendedLanes,b=u.pingedLanes;m=(1<<31-_t(42|n)+1)-1,m&=h&~(_&~b),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,cE(u,m))}else m=Be,m=Vi(u,u===ht?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||fi(u,m)||(o=!0,cE(u,m));u=u.next}while(o);Lm=!1}}function v1(){oE()}function oE(){Rf=km=!1;var n=0;Es!==0&&D1()&&(n=Es);for(var s=oe(),o=null,u=wf;u!==null;){var h=u.next,m=lE(u,s);m===0?(u.next=null,o===null?wf=h:o.next=h,h===null&&(Lo=o)):(o=u,(n!==0||(m&3)!==0)&&(Rf=!0)),u=h}$t!==0&&$t!==5||cu(n),Es!==0&&(Es=0)}function lE(n,s){for(var o=n.suspendedLanes,u=n.pingedLanes,h=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var _=31-_t(m),b=1<<_,N=h[_];N===-1?((b&o)===0||(b&u)!==0)&&(h[_]=fd(b,s)):N<=s&&(n.expiredLanes|=b),m&=~b}if(s=ht,o=Be,o=Vi(n,n===s?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===s&&(st===2||st===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&j(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||fi(n,o)){if(s=o&-o,s===n.callbackPriority)return s;switch(u!==null&&j(u),gr(o)){case 2:case 8:o=Ye;break;case 32:o=Qe;break;case 268435456:o=mr;break;default:o=Qe}return u=uE.bind(null,n),o=D(o,u),n.callbackPriority=s,n.callbackNode=o,s}return u!==null&&u!==null&&j(u),n.callbackPriority=2,n.callbackNode=null,2}function uE(n,s){if($t!==0&&$t!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(Af()&&n.callbackNode!==o)return null;var u=Be;return u=Vi(n,n===ht?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(Hv(n,u,s),lE(n,oe()),n.callbackNode!=null&&n.callbackNode===o?uE.bind(null,n):null)}function cE(n,s){if(Af())return null;Hv(n,s,!0)}function E1(){x1(function(){(nt&6)!==0?D(be,v1):oE()})}function Pm(){if(Es===0){var n=To;n===0&&(n=xi,xi<<=1,(xi&261888)===0&&(xi=256)),Es=n}return Es}function fE(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:so(""+n)}function hE(n,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,n.id&&o.setAttribute("form",n.id),s.parentNode.insertBefore(o,s),n=new FormData(n),o.parentNode.removeChild(o),n}function T1(n,s,o,u,h){if(s==="submit"&&o&&o.stateNode===h){var m=fE((h[Xt]||null).action),_=u.submitter;_&&(s=(s=_[Xt]||null)?fE(s.formAction):_.getAttribute("formAction"),s!==null&&(m=s,_=null));var b=new Gi("action","action",null,u,h);n.push({event:b,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Es!==0){var N=_?hE(h,_):new FormData(h);im(o,{pending:!0,data:N,method:h.method,action:m},null,N)}}else typeof m=="function"&&(b.preventDefault(),N=_?hE(h,_):new FormData(h),im(o,{pending:!0,data:N,method:h.method,action:m},m,N))},currentTarget:h}]})}}for(var Um=0;Um<Ed.length;Um++){var zm=Ed[Um],b1=zm.toLowerCase(),S1=zm[0].toUpperCase()+zm.slice(1);vi(b1,"on"+S1)}vi(qy,"onAnimationEnd"),vi(Hy,"onAnimationIteration"),vi(Gy,"onAnimationStart"),vi("dblclick","onDoubleClick"),vi("focusin","onFocus"),vi("focusout","onBlur"),vi(zR,"onTransitionRun"),vi(FR,"onTransitionStart"),vi(jR,"onTransitionCancel"),vi($y,"onTransitionEnd"),ji("onMouseEnter",["mouseout","mouseover"]),ji("onMouseLeave",["mouseout","mouseover"]),ji("onPointerEnter",["pointerout","pointerover"]),ji("onPointerLeave",["pointerout","pointerover"]),Fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fu));function dE(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],h=u.event;u=u.listeners;e:{var m=void 0;if(s)for(var _=u.length-1;0<=_;_--){var b=u[_],N=b.instance,q=b.currentTarget;if(b=b.listener,N!==m&&h.isPropagationStopped())break e;m=b,h.currentTarget=q;try{m(h)}catch(Z){Fc(Z)}h.currentTarget=null,m=N}else for(_=0;_<u.length;_++){if(b=u[_],N=b.instance,q=b.currentTarget,b=b.listener,N!==m&&h.isPropagationStopped())break e;m=b,h.currentTarget=q;try{m(h)}catch(Z){Fc(Z)}h.currentTarget=null,m=N}}}}function je(n,s){var o=s[eo];o===void 0&&(o=s[eo]=new Set);var u=n+"__bubble";o.has(u)||(mE(s,n,2,!1),o.add(u))}function Fm(n,s,o){var u=0;s&&(u|=4),mE(o,n,u,s)}var Cf="_reactListening"+Math.random().toString(36).slice(2);function jm(n){if(!n[Cf]){n[Cf]=!0,Sl.forEach(function(o){o!=="selectionchange"&&(A1.has(o)||Fm(o,!1,n),Fm(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Cf]||(s[Cf]=!0,Fm("selectionchange",!1,s))}}function mE(n,s,o,u){switch(qE(s)){case 2:var h=J1;break;case 8:h=Z1;break;default:h=np}o=h.bind(null,s,o,n),h=void 0,!oa||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),u?h!==void 0?n.addEventListener(s,o,{capture:!0,passive:h}):n.addEventListener(s,o,!0):h!==void 0?n.addEventListener(s,o,{passive:h}):n.addEventListener(s,o,!1)}function Bm(n,s,o,u,h){var m=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var b=u.stateNode.containerInfo;if(b===h)break;if(_===4)for(_=u.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;b!==null;){if(_=Ui(b),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){u=m=_;continue e}b=b.parentNode}}u=u.return}ts(function(){var q=m,Z=Qn(o),ne=[];e:{var K=Ky.get(n);if(K!==void 0){var Q=Gi,ye=n;switch(n){case"keypress":if(ua(o)===0)break e;case"keydown":case"keyup":Q=Pc;break;case"focusin":ye="focus",Q=fa;break;case"focusout":ye="blur",Q=fa;break;case"beforeblur":case"afterblur":Q=fa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Ic;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y;break;case qy:case Hy:case Gy:Q=Dc;break;case $y:Q=A;break;case"scroll":case"scrollend":Q=kl;break;case"wheel":Q=Y;break;case"copy":case"cut":case"paste":Q=Nc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=vr;break;case"toggle":case"beforetoggle":Q=ke}var Re=(s&4)!==0,ft=!Re&&(n==="scroll"||n==="scrollend"),P=Re?K!==null?K+"Capture":null:K;Re=[];for(var V=q,B;V!==null;){var ee=V;if(B=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||B===null||P===null||(ee=pi(V,P),ee!=null&&Re.push(hu(V,ee,B))),ft)break;V=V.return}0<Re.length&&(K=new Q(K,ye,null,o,Z),ne.push({event:K,listeners:Re}))}}if((s&7)===0){e:{if(K=n==="mouseover"||n==="pointerover",Q=n==="mouseout"||n==="pointerout",K&&o!==xl&&(ye=o.relatedTarget||o.fromElement)&&(Ui(ye)||ye[Li]))break e;if((Q||K)&&(K=Z.window===Z?Z:(K=Z.ownerDocument)?K.defaultView||K.parentWindow:window,Q?(ye=o.relatedTarget||o.toElement,Q=q,ye=ye?Ui(ye):null,ye!==null&&(ft=l(ye),Re=ye.tag,ye!==ft||Re!==5&&Re!==27&&Re!==6)&&(ye=null)):(Q=null,ye=q),Q!==ye)){if(Re=Ll,ee="onMouseLeave",P="onMouseEnter",V="mouse",(n==="pointerout"||n==="pointerover")&&(Re=vr,ee="onPointerLeave",P="onPointerEnter",V="pointer"),ft=Q==null?K:Ln(Q),B=ye==null?K:Ln(ye),K=new Re(ee,V+"leave",Q,o,Z),K.target=ft,K.relatedTarget=B,ee=null,Ui(Z)===q&&(Re=new Re(P,V+"enter",ye,o,Z),Re.target=B,Re.relatedTarget=ft,ee=Re),ft=ee,Q&&ye)t:{for(Re=w1,P=Q,V=ye,B=0,ee=P;ee;ee=Re(ee))B++;ee=0;for(var Ae=V;Ae;Ae=Re(Ae))ee++;for(;0<B-ee;)P=Re(P),B--;for(;0<ee-B;)V=Re(V),ee--;for(;B--;){if(P===V||V!==null&&P===V.alternate){Re=P;break t}P=Re(P),V=Re(V)}Re=null}else Re=null;Q!==null&&pE(ne,K,Q,Re,!1),ye!==null&&ft!==null&&pE(ne,ft,ye,Re,!0)}}e:{if(K=q?Ln(q):window,Q=K.nodeName&&K.nodeName.toLowerCase(),Q==="select"||Q==="input"&&K.type==="file")var Ze=xy;else if(Dy(K))if(My)Ze=LR;else{Ze=VR;var Te=MR}else Q=K.nodeName,!Q||Q.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?q&&ro(q.elementType)&&(Ze=xy):Ze=kR;if(Ze&&(Ze=Ze(n,q))){Ny(ne,Ze,o,Z);break e}Te&&Te(n,K,q),n==="focusout"&&q&&K.type==="number"&&q.memoizedProps.value!=null&&Ol(K,"number",K.value)}switch(Te=q?Ln(q):window,n){case"focusin":(Dy(Te)||Te.contentEditable==="true")&&(ho=Te,yd=q,jl=null);break;case"focusout":jl=yd=ho=null;break;case"mousedown":_d=!0;break;case"contextmenu":case"mouseup":case"dragend":_d=!1,jy(ne,o,Z);break;case"selectionchange":if(UR)break;case"keydown":case"keyup":jy(ne,o,Z)}var Pe;if(tt)e:{switch(n){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else fo?ha(n,o)&&(qe="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(qe="onCompositionStart");qe&&(Yi&&o.locale!=="ko"&&(fo||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&fo&&(Pe=Vl()):(Hi=Z,Ml="value"in Hi?Hi.value:Hi.textContent,fo=!0)),Te=If(q,qe),0<Te.length&&(qe=new Ki(qe,n,null,o,Z),ne.push({event:qe,listeners:Te}),Pe?qe.data=Pe:(Pe=co(o),Pe!==null&&(qe.data=Pe)))),(Pe=Wn?OR(n,o):DR(n,o))&&(qe=If(q,"onBeforeInput"),0<qe.length&&(Te=new Ki("onBeforeInput","beforeinput",null,o,Z),ne.push({event:Te,listeners:qe}),Te.data=Pe)),T1(ne,n,q,o,Z)}dE(ne,s)})}function hu(n,s,o){return{instance:n,listener:s,currentTarget:o}}function If(n,s){for(var o=s+"Capture",u=[];n!==null;){var h=n,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=pi(n,o),h!=null&&u.unshift(hu(n,h,m)),h=pi(n,s),h!=null&&u.push(hu(n,h,m))),n.tag===3)return u;n=n.return}return[]}function w1(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function pE(n,s,o,u,h){for(var m=s._reactName,_=[];o!==null&&o!==u;){var b=o,N=b.alternate,q=b.stateNode;if(b=b.tag,N!==null&&N===u)break;b!==5&&b!==26&&b!==27||q===null||(N=q,h?(q=pi(o,m),q!=null&&_.unshift(hu(o,q,N))):h||(q=pi(o,m),q!=null&&_.push(hu(o,q,N)))),o=o.return}_.length!==0&&n.push({event:s,listeners:_})}var R1=/\r\n?/g,C1=/\u0000|\uFFFD/g;function gE(n){return(typeof n=="string"?n:""+n).replace(R1,`
`).replace(C1,"")}function yE(n,s){return s=gE(s),gE(n)===s}function ct(n,s,o,u,h,m){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||An(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&An(n,""+u);break;case"className":Pn(n,"class",u);break;case"tabIndex":Pn(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Pn(n,o,u);break;case"style":Nl(n,u,m);break;case"data":if(s!=="object"){Pn(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=so(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(s!=="input"&&ct(n,s,"name",h.name,h,null),ct(n,s,"formEncType",h.formEncType,h,null),ct(n,s,"formMethod",h.formMethod,h,null),ct(n,s,"formTarget",h.formTarget,h,null)):(ct(n,s,"encType",h.encType,h,null),ct(n,s,"method",h.method,h,null),ct(n,s,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=so(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=mi);break;case"onScroll":u!=null&&je("scroll",n);break;case"onScrollEnd":u!=null&&je("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(r(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=so(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":je("beforetoggle",n),je("toggle",n),no(n,"popover",u);break;case"xlinkActuate":Lt(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Lt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Lt(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Lt(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Lt(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Lt(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Lt(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Lt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Lt(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":no(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Cc.get(o)||o,no(n,o,u))}}function qm(n,s,o,u,h,m){switch(o){case"style":Nl(n,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(r(60));n.innerHTML=o}}break;case"children":typeof u=="string"?An(n,u):(typeof u=="number"||typeof u=="bigint")&&An(n,""+u);break;case"onScroll":u!=null&&je("scroll",n);break;case"onScrollEnd":u!=null&&je("scrollend",n);break;case"onClick":u!=null&&(n.onclick=mi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Al.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),s=o.slice(2,h?o.length-7:void 0),m=n[Xt]||null,m=m!=null?m[o]:null,typeof m=="function"&&n.removeEventListener(s,m,h),typeof u=="function")){typeof m!="function"&&m!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(s,u,h);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):no(n,o,u)}}}function an(n,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",n),je("load",n);var u=!1,h=!1,m;for(m in o)if(o.hasOwnProperty(m)){var _=o[m];if(_!=null)switch(m){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ct(n,s,m,_,o,null)}}h&&ct(n,s,"srcSet",o.srcSet,o,null),u&&ct(n,s,"src",o.src,o,null);return;case"input":je("invalid",n);var b=m=_=h=null,N=null,q=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":h=Z;break;case"type":_=Z;break;case"checked":N=Z;break;case"defaultChecked":q=Z;break;case"value":m=Z;break;case"defaultValue":b=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:ct(n,s,u,Z,o,null)}}Ac(n,m,b,N,q,_,h,!1);return;case"select":je("invalid",n),u=_=m=null;for(h in o)if(o.hasOwnProperty(h)&&(b=o[h],b!=null))switch(h){case"value":m=b;break;case"defaultValue":_=b;break;case"multiple":u=b;default:ct(n,s,h,b,o,null)}s=m,o=_,n.multiple=!!u,s!=null?Wr(n,!!u,s,!1):o!=null&&Wr(n,!!u,o,!0);return;case"textarea":je("invalid",n),m=h=u=null;for(_ in o)if(o.hasOwnProperty(_)&&(b=o[_],b!=null))switch(_){case"value":u=b;break;case"defaultValue":h=b;break;case"children":m=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:ct(n,s,_,b,o,null)}Jr(n,u,h,m);return;case"option":for(N in o)if(o.hasOwnProperty(N)&&(u=o[N],u!=null))switch(N){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ct(n,s,N,u,o,null)}return;case"dialog":je("beforetoggle",n),je("toggle",n),je("cancel",n),je("close",n);break;case"iframe":case"object":je("load",n);break;case"video":case"audio":for(u=0;u<fu.length;u++)je(fu[u],n);break;case"image":je("error",n),je("load",n);break;case"details":je("toggle",n);break;case"embed":case"source":case"link":je("error",n),je("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in o)if(o.hasOwnProperty(q)&&(u=o[q],u!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ct(n,s,q,u,o,null)}return;default:if(ro(s)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&qm(n,s,Z,u,o,void 0));return}}for(b in o)o.hasOwnProperty(b)&&(u=o[b],u!=null&&ct(n,s,b,u,o,null))}function I1(n,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,_=null,b=null,N=null,q=null,Z=null;for(Q in o){var ne=o[Q];if(o.hasOwnProperty(Q)&&ne!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":N=ne;default:u.hasOwnProperty(Q)||ct(n,s,Q,null,u,ne)}}for(var K in u){var Q=u[K];if(ne=o[K],u.hasOwnProperty(K)&&(Q!=null||ne!=null))switch(K){case"type":m=Q;break;case"name":h=Q;break;case"checked":q=Q;break;case"defaultChecked":Z=Q;break;case"value":_=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:Q!==ne&&ct(n,s,K,Q,u,ne)}}io(n,_,b,N,q,Z,m,h);return;case"select":Q=_=b=K=null;for(m in o)if(N=o[m],o.hasOwnProperty(m)&&N!=null)switch(m){case"value":break;case"multiple":Q=N;default:u.hasOwnProperty(m)||ct(n,s,m,null,u,N)}for(h in u)if(m=u[h],N=o[h],u.hasOwnProperty(h)&&(m!=null||N!=null))switch(h){case"value":K=m;break;case"defaultValue":b=m;break;case"multiple":_=m;default:m!==N&&ct(n,s,h,m,u,N)}s=b,o=_,u=Q,K!=null?Wr(n,!!o,K,!1):!!u!=!!o&&(s!=null?Wr(n,!!o,s,!0):Wr(n,!!o,o?[]:"",!1));return;case"textarea":Q=K=null;for(b in o)if(h=o[b],o.hasOwnProperty(b)&&h!=null&&!u.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:ct(n,s,b,null,u,h)}for(_ in u)if(h=u[_],m=o[_],u.hasOwnProperty(_)&&(h!=null||m!=null))switch(_){case"value":K=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==m&&ct(n,s,_,h,u,m)}wc(n,K,Q);return;case"option":for(var ye in o)if(K=o[ye],o.hasOwnProperty(ye)&&K!=null&&!u.hasOwnProperty(ye))switch(ye){case"selected":n.selected=!1;break;default:ct(n,s,ye,null,u,K)}for(N in u)if(K=u[N],Q=o[N],u.hasOwnProperty(N)&&K!==Q&&(K!=null||Q!=null))switch(N){case"selected":n.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:ct(n,s,N,K,u,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in o)K=o[Re],o.hasOwnProperty(Re)&&K!=null&&!u.hasOwnProperty(Re)&&ct(n,s,Re,null,u,K);for(q in u)if(K=u[q],Q=o[q],u.hasOwnProperty(q)&&K!==Q&&(K!=null||Q!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:ct(n,s,q,K,u,Q)}return;default:if(ro(s)){for(var ft in o)K=o[ft],o.hasOwnProperty(ft)&&K!==void 0&&!u.hasOwnProperty(ft)&&qm(n,s,ft,void 0,u,K);for(Z in u)K=u[Z],Q=o[Z],!u.hasOwnProperty(Z)||K===Q||K===void 0&&Q===void 0||qm(n,s,Z,K,u,Q);return}}for(var P in o)K=o[P],o.hasOwnProperty(P)&&K!=null&&!u.hasOwnProperty(P)&&ct(n,s,P,null,u,K);for(ne in u)K=u[ne],Q=o[ne],!u.hasOwnProperty(ne)||K===Q||K==null&&Q==null||ct(n,s,ne,K,u,Q)}function _E(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function O1(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var h=o[u],m=h.transferSize,_=h.initiatorType,b=h.duration;if(m&&b&&_E(_)){for(_=0,b=h.responseEnd,u+=1;u<o.length;u++){var N=o[u],q=N.startTime;if(q>b)break;var Z=N.transferSize,ne=N.initiatorType;Z&&_E(ne)&&(N=N.responseEnd,_+=Z*(N<b?1:(b-q)/(N-q)))}if(--u,s+=8*(m+_)/(h.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Hm=null,Gm=null;function Of(n){return n.nodeType===9?n:n.ownerDocument}function vE(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function EE(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function $m(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Km=null;function D1(){var n=window.event;return n&&n.type==="popstate"?n===Km?!1:(Km=n,!0):(Km=null,!1)}var TE=typeof setTimeout=="function"?setTimeout:void 0,N1=typeof clearTimeout=="function"?clearTimeout:void 0,bE=typeof Promise=="function"?Promise:void 0,x1=typeof queueMicrotask=="function"?queueMicrotask:typeof bE<"u"?function(n){return bE.resolve(null).then(n).catch(M1)}:TE;function M1(n){setTimeout(function(){throw n})}function Ts(n){return n==="head"}function SE(n,s){var o=s,u=0;do{var h=o.nextSibling;if(n.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"||o==="/&"){if(u===0){n.removeChild(h),Fo(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")du(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,du(o);for(var m=o.firstChild;m;){var _=m.nextSibling,b=m.nodeName;m[Pi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=_}}else o==="body"&&du(n.ownerDocument.body);o=h}while(o);Fo(s)}function AE(n,s){var o=n;n=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=u}while(o)}function Ym(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Ym(o),to(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function V1(n,s,o,u){for(;n.nodeType===1;){var h=o;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Pi])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=ri(n.nextSibling),n===null)break}return null}function k1(n,s,o){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=ri(n.nextSibling),n===null))return null;return n}function wE(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=ri(n.nextSibling),n===null))return null;return n}function Qm(n){return n.data==="$?"||n.data==="$~"}function Xm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function L1(n,s){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function ri(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var Wm=null;function RE(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(s===0)return ri(n.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}n=n.nextSibling}return null}function CE(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return n;s--}else o!=="/$"&&o!=="/&"||s++}n=n.previousSibling}return null}function IE(n,s,o){switch(s=Of(o),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function du(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);to(n)}var si=new Map,OE=new Set;function Df(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Vr=ue.d;ue.d={f:P1,r:U1,D:z1,C:F1,L:j1,m:B1,X:H1,S:q1,M:G1};function P1(){var n=Vr.f(),s=Tf();return n||s}function U1(n){var s=Yn(n);s!==null&&s.tag===5&&s.type==="form"?$_(s):Vr.r(n)}var Po=typeof document>"u"?null:document;function DE(n,s,o){var u=Po;if(u&&typeof s=="string"&&s){var h=Sn(s);h='link[rel="'+n+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),OE.has(h)||(OE.add(h),n={rel:n,crossOrigin:o,href:s},u.querySelector(h)===null&&(s=u.createElement("link"),an(s,"link",n),kt(s),u.head.appendChild(s)))}}function z1(n){Vr.D(n),DE("dns-prefetch",n,null)}function F1(n,s){Vr.C(n,s),DE("preconnect",n,s)}function j1(n,s,o){Vr.L(n,s,o);var u=Po;if(u&&n&&s){var h='link[rel="preload"][as="'+Sn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+Sn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+Sn(o.imageSizes)+'"]')):h+='[href="'+Sn(n)+'"]';var m=h;switch(s){case"style":m=Uo(n);break;case"script":m=zo(n)}si.has(m)||(n=T({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:n,as:s},o),si.set(m,n),u.querySelector(h)!==null||s==="style"&&u.querySelector(mu(m))||s==="script"&&u.querySelector(pu(m))||(s=u.createElement("link"),an(s,"link",n),kt(s),u.head.appendChild(s)))}}function B1(n,s){Vr.m(n,s);var o=Po;if(o&&n){var u=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+Sn(u)+'"][href="'+Sn(n)+'"]',m=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=zo(n)}if(!si.has(m)&&(n=T({rel:"modulepreload",href:n},s),si.set(m,n),o.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(pu(m)))return}u=o.createElement("link"),an(u,"link",n),kt(u),o.head.appendChild(u)}}}function q1(n,s,o){Vr.S(n,s,o);var u=Po;if(u&&n){var h=zi(u).hoistableStyles,m=Uo(n);s=s||"default";var _=h.get(m);if(!_){var b={loading:0,preload:null};if(_=u.querySelector(mu(m)))b.loading=5;else{n=T({rel:"stylesheet",href:n,"data-precedence":s},o),(o=si.get(m))&&Jm(n,o);var N=_=u.createElement("link");kt(N),an(N,"link",n),N._p=new Promise(function(q,Z){N.onload=q,N.onerror=Z}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Nf(_,s,u)}_={type:"stylesheet",instance:_,count:1,state:b},h.set(m,_)}}}function H1(n,s){Vr.X(n,s);var o=Po;if(o&&n){var u=zi(o).hoistableScripts,h=zo(n),m=u.get(h);m||(m=o.querySelector(pu(h)),m||(n=T({src:n,async:!0},s),(s=si.get(h))&&Zm(n,s),m=o.createElement("script"),kt(m),an(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(h,m))}}function G1(n,s){Vr.M(n,s);var o=Po;if(o&&n){var u=zi(o).hoistableScripts,h=zo(n),m=u.get(h);m||(m=o.querySelector(pu(h)),m||(n=T({src:n,async:!0,type:"module"},s),(s=si.get(h))&&Zm(n,s),m=o.createElement("script"),kt(m),an(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(h,m))}}function NE(n,s,o,u){var h=(h=Ve.current)?Df(h):null;if(!h)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Uo(o.href),o=zi(h).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Uo(o.href);var m=zi(h).hoistableStyles,_=m.get(n);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,_),(m=h.querySelector(mu(n)))&&!m._p&&(_.instance=m,_.state.loading=5),si.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},si.set(n,o),m||$1(h,n,o,_.state))),s&&u===null)throw Error(r(528,""));return _}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=zo(o),o=zi(h).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function Uo(n){return'href="'+Sn(n)+'"'}function mu(n){return'link[rel="stylesheet"]['+n+"]"}function xE(n){return T({},n,{"data-precedence":n.precedence,precedence:null})}function $1(n,s,o,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),an(s,"link",o),kt(s),n.head.appendChild(s))}function zo(n){return'[src="'+Sn(n)+'"]'}function pu(n){return"script[async]"+n}function ME(n,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+Sn(o.href)+'"]');if(u)return s.instance=u,kt(u),u;var h=T({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),kt(u),an(u,"style",h),Nf(u,o.precedence,n),s.instance=u;case"stylesheet":h=Uo(o.href);var m=n.querySelector(mu(h));if(m)return s.state.loading|=4,s.instance=m,kt(m),m;u=xE(o),(h=si.get(h))&&Jm(u,h),m=(n.ownerDocument||n).createElement("link"),kt(m);var _=m;return _._p=new Promise(function(b,N){_.onload=b,_.onerror=N}),an(m,"link",u),s.state.loading|=4,Nf(m,o.precedence,n),s.instance=m;case"script":return m=zo(o.src),(h=n.querySelector(pu(m)))?(s.instance=h,kt(h),h):(u=o,(h=si.get(m))&&(u=T({},o),Zm(u,h)),n=n.ownerDocument||n,h=n.createElement("script"),kt(h),an(h,"link",u),n.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Nf(u,o.precedence,n));return s.instance}function Nf(n,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,m=h,_=0;_<u.length;_++){var b=u[_];if(b.dataset.precedence===s)m=b;else if(m!==h)break}m?m.parentNode.insertBefore(n,m.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(n,s.firstChild))}function Jm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Zm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var xf=null;function VE(n,s,o){if(xf===null){var u=new Map,h=xf=new Map;h.set(o,u)}else h=xf,u=h.get(o),u||(u=new Map,h.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),h=0;h<o.length;h++){var m=o[h];if(!(m[Pi]||m[Vt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(s)||"";_=n+_;var b=u.get(_);b?b.push(m):u.set(_,[m])}}return u}function kE(n,s,o){n=n.ownerDocument||n,n.head.insertBefore(o,s==="title"?n.querySelector("head > title"):null)}function K1(n,s,o){if(o===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function LE(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function Y1(n,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var h=Uo(u.href),m=s.querySelector(mu(h));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=Mf.bind(n),s.then(n,n)),o.state.loading|=4,o.instance=m,kt(m);return}m=s.ownerDocument||s,u=xE(u),(h=si.get(h))&&Jm(u,h),m=m.createElement("link"),kt(m);var _=m;_._p=new Promise(function(b,N){_.onload=b,_.onerror=N}),an(m,"link",u),o.instance=m}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=Mf.bind(n),s.addEventListener("load",o),s.addEventListener("error",o))}}var ep=0;function Q1(n,s){return n.stylesheets&&n.count===0&&kf(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var u=setTimeout(function(){if(n.stylesheets&&kf(n,n.stylesheets),n.unsuspend){var m=n.unsuspend;n.unsuspend=null,m()}},6e4+s);0<n.imgBytes&&ep===0&&(ep=62500*O1());var h=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&kf(n,n.stylesheets),n.unsuspend)){var m=n.unsuspend;n.unsuspend=null,m()}},(n.imgBytes>ep?50:800)+s);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(h)}}:null}function Mf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kf(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Vf=null;function kf(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Vf=new Map,s.forEach(X1,n),Vf=null,Mf.call(n))}function X1(n,s){if(!(s.state.loading&4)){var o=Vf.get(n);if(o)var u=o.get(null);else{o=new Map,Vf.set(n,o);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var _=h[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),u=_)}u&&o.set(null,u)}h=s.instance,_=h.getAttribute("data-precedence"),m=o.get(_)||u,m===u&&o.set(null,h),o.set(_,h),this.count++,u=Mf.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),m?m.parentNode.insertBefore(h,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),s.state.loading|=4}}var gu={$$typeof:ae,Provider:null,Consumer:null,_currentValue:Se,_currentValue2:Se,_threadCount:0};function W1(n,s,o,u,h,m,_,b,N){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ki(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ki(0),this.hiddenUpdates=ki(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function PE(n,s,o,u,h,m,_,b,N,q,Z,ne){return n=new W1(n,s,o,_,N,q,Z,ne,b),s=1,m===!0&&(s|=24),m=zn(3,null,null,s),n.current=m,m.stateNode=n,s=Md(),s.refCount++,n.pooledCache=s,s.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:s},Pd(m),n}function UE(n){return n?(n=go,n):go}function zE(n,s,o,u,h,m){h=UE(h),u.context===null?u.context=h:u.pendingContext=h,u=cs(s),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=fs(n,u,s),o!==null&&(On(o,n,s),Yl(o,n,s))}function FE(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function tp(n,s){FE(n,s),(n=n.alternate)&&FE(n,s)}function jE(n){if(n.tag===13||n.tag===31){var s=pa(n,67108864);s!==null&&On(s,n,67108864),tp(n,67108864)}}function BE(n){if(n.tag===13||n.tag===31){var s=Hn();s=ia(s);var o=pa(n,s);o!==null&&On(o,n,s),tp(n,s)}}var Lf=!0;function J1(n,s,o,u){var h=X.T;X.T=null;var m=ue.p;try{ue.p=2,np(n,s,o,u)}finally{ue.p=m,X.T=h}}function Z1(n,s,o,u){var h=X.T;X.T=null;var m=ue.p;try{ue.p=8,np(n,s,o,u)}finally{ue.p=m,X.T=h}}function np(n,s,o,u){if(Lf){var h=ip(u);if(h===null)Bm(n,s,u,Pf,o),HE(n,u);else if(tC(h,n,s,o,u))u.stopPropagation();else if(HE(n,u),s&4&&-1<eC.indexOf(n)){for(;h!==null;){var m=Yn(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=Mi(m.pendingLanes);if(_!==0){var b=m;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var N=1<<31-_t(_);b.entanglements[1]|=N,_&=~N}Ji(m),(nt&6)===0&&(vf=oe()+500,cu(0))}}break;case 31:case 13:b=pa(m,2),b!==null&&On(b,m,2),Tf(),tp(m,2)}if(m=ip(u),m===null&&Bm(n,s,u,Pf,o),m===h)break;h=m}h!==null&&u.stopPropagation()}else Bm(n,s,u,null,o)}}function ip(n){return n=Qn(n),rp(n)}var Pf=null;function rp(n){if(Pf=null,n=Ui(n),n!==null){var s=l(n);if(s===null)n=null;else{var o=s.tag;if(o===13){if(n=c(s),n!==null)return n;n=null}else if(o===31){if(n=d(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Pf=n,null}function qE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(le()){case be:return 2;case Ye:return 8;case Qe:case cn:return 32;case mr:return 268435456;default:return 32}default:return 32}}var sp=!1,bs=null,Ss=null,As=null,yu=new Map,_u=new Map,ws=[],eC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function HE(n,s){switch(n){case"focusin":case"focusout":bs=null;break;case"dragenter":case"dragleave":Ss=null;break;case"mouseover":case"mouseout":As=null;break;case"pointerover":case"pointerout":yu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":_u.delete(s.pointerId)}}function vu(n,s,o,u,h,m){return n===null||n.nativeEvent!==m?(n={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[h]},s!==null&&(s=Yn(s),s!==null&&jE(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),n)}function tC(n,s,o,u,h){switch(s){case"focusin":return bs=vu(bs,n,s,o,u,h),!0;case"dragenter":return Ss=vu(Ss,n,s,o,u,h),!0;case"mouseover":return As=vu(As,n,s,o,u,h),!0;case"pointerover":var m=h.pointerId;return yu.set(m,vu(yu.get(m)||null,n,s,o,u,h)),!0;case"gotpointercapture":return m=h.pointerId,_u.set(m,vu(_u.get(m)||null,n,s,o,u,h)),!0}return!1}function GE(n){var s=Ui(n.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){n.blockedOn=s,hi(n.priority,function(){BE(o)});return}}else if(s===31){if(s=d(o),s!==null){n.blockedOn=s,hi(n.priority,function(){BE(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Uf(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=ip(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);xl=u,o.target.dispatchEvent(u),xl=null}else return s=Yn(o),s!==null&&jE(s),n.blockedOn=o,!1;s.shift()}return!0}function $E(n,s,o){Uf(n)&&o.delete(s)}function nC(){sp=!1,bs!==null&&Uf(bs)&&(bs=null),Ss!==null&&Uf(Ss)&&(Ss=null),As!==null&&Uf(As)&&(As=null),yu.forEach($E),_u.forEach($E)}function zf(n,s){n.blockedOn===s&&(n.blockedOn=null,sp||(sp=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,nC)))}var Ff=null;function KE(n){Ff!==n&&(Ff=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ff===n&&(Ff=null);for(var s=0;s<n.length;s+=3){var o=n[s],u=n[s+1],h=n[s+2];if(typeof u!="function"){if(rp(u||o)===null)continue;break}var m=Yn(o);m!==null&&(n.splice(s,3),s-=3,im(m,{pending:!0,data:h,method:o.method,action:u},u,h))}}))}function Fo(n){function s(N){return zf(N,n)}bs!==null&&zf(bs,n),Ss!==null&&zf(Ss,n),As!==null&&zf(As,n),yu.forEach(s),_u.forEach(s);for(var o=0;o<ws.length;o++){var u=ws[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<ws.length&&(o=ws[0],o.blockedOn===null);)GE(o),o.blockedOn===null&&ws.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var h=o[u],m=o[u+1],_=h[Xt]||null;if(typeof m=="function")_||KE(o);else if(_){var b=null;if(m&&m.hasAttribute("formAction")){if(h=m,_=m[Xt]||null)b=_.formAction;else if(rp(h)!==null)continue}else b=_.action;typeof b=="function"?o[u+1]=b:(o.splice(u,3),u-=3),KE(o)}}}function YE(){function n(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function s(){h!==null&&(h(),h=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,h=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),h!==null&&(h(),h=null)}}}function ap(n){this._internalRoot=n}jf.prototype.render=ap.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=Hn();zE(o,u,n,s,null,null)},jf.prototype.unmount=ap.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;zE(n.current,2,null,n,null,null),Tf(),s[Li]=null}};function jf(n){this._internalRoot=n}jf.prototype.unstable_scheduleHydration=function(n){if(n){var s=Ec();n={blockedOn:null,target:n,priority:s};for(var o=0;o<ws.length&&s!==0&&s<ws[o].priority;o++);ws.splice(o,0,n),o===0&&GE(n)}};var QE=e.version;if(QE!=="19.2.0")throw Error(r(527,QE,"19.2.0"));ue.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=g(s),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var iC={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bf.isDisabled&&Bf.supportsFiber)try{yn=Bf.inject(iC),Ct=Bf}catch{}}return Tu.createRoot=function(n,s){if(!a(n))throw Error(r(299));var o=!1,u="",h=nv,m=iv,_=rv;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=PE(n,1,!1,null,null,o,u,null,h,m,_,YE),n[Li]=s.current,jm(n),new ap(s)},Tu.hydrateRoot=function(n,s,o){if(!a(n))throw Error(r(299));var u=!1,h="",m=nv,_=iv,b=rv,N=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(b=o.onRecoverableError),o.formState!==void 0&&(N=o.formState)),s=PE(n,1,!0,s,o??null,u,h,N,m,_,b,YE),s.context=UE(null),o=s.current,u=Hn(),u=ia(u),h=cs(u),h.callback=null,fs(o,h,u),o=u,s.current.lanes=o,ta(s,o),Ji(s),n[Li]=s.current,jm(n),new jf(s)},Tu.version="19.2.0",Tu}var s0;function dC(){if(s0)return up.exports;s0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),up.exports=hC(),up.exports}var mC=dC();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var a0="popstate";function pC(i={}){function e(r,a){let{pathname:l,search:c,hash:d}=r.location;return kp("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:ju(a)}return yC(e,t,null,i)}function Tt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Ri(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gC(){return Math.random().toString(36).substring(2,10)}function o0(i,e){return{usr:i.state,key:i.key,idx:e}}function kp(i,e,t=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?cl(e):e,state:t,key:e&&e.key||r||gC()}}function ju({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function cl(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function yC(i,e,t,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,d="POP",p=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function T(){d="POP";let G=v(),$=G==null?null:G-g;g=G,p&&p({action:d,location:F.location,delta:$})}function S(G,$){d="PUSH";let H=kp(F.location,G,$);g=v()+1;let ae=o0(H,g),ve=F.createHref(H);try{c.pushState(ae,"",ve)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;a.location.assign(ve)}l&&p&&p({action:d,location:F.location,delta:1})}function x(G,$){d="REPLACE";let H=kp(F.location,G,$);g=v();let ae=o0(H,g),ve=F.createHref(H);c.replaceState(ae,"",ve),l&&p&&p({action:d,location:F.location,delta:0})}function U(G){return _C(G)}let F={get action(){return d},get location(){return i(a,c)},listen(G){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(a0,T),p=G,()=>{a.removeEventListener(a0,T),p=null}},createHref(G){return e(a,G)},createURL:U,encodeLocation(G){let $=U(G);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:S,replace:x,go(G){return c.go(G)}};return F}function _C(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Tt(t,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:ju(i);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function qb(i,e,t="/"){return vC(i,e,t,!1)}function vC(i,e,t,r){let a=typeof e=="string"?cl(e):e,l=Br(a.pathname||"/",t);if(l==null)return null;let c=Hb(i);EC(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=NC(l);d=OC(c[p],g,r)}return d}function Hb(i,e=[],t=[],r="",a=!1){let l=(c,d,p=a,g)=>{let v={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&p)return;Tt(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let T=zr([r,v.relativePath]),S=t.concat(v);c.children&&c.children.length>0&&(Tt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),Hb(c.children,e,S,T,p)),!(c.path==null&&!c.index)&&e.push({path:T,score:CC(T,c.index),routesMeta:S})};return i.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let p of Gb(c.path))l(c,d,!0,p)}),e}function Gb(i){let e=i.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=Gb(r.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),a&&d.push(...c),d.map(p=>i.startsWith("/")&&p===""?"/":p)}function EC(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:IC(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var TC=/^:[\w-]+$/,bC=3,SC=2,AC=1,wC=10,RC=-2,l0=i=>i==="*";function CC(i,e){let t=i.split("/"),r=t.length;return t.some(l0)&&(r+=RC),e&&(r+=SC),t.filter(a=>!l0(a)).reduce((a,l)=>a+(TC.test(l)?bC:l===""?AC:wC),r)}function IC(i,e){return i.length===e.length&&i.slice(0,-1).every((r,a)=>r===e[a])?i[i.length-1]-e[e.length-1]:0}function OC(i,e,t=!1){let{routesMeta:r}=i,a={},l="/",c=[];for(let d=0;d<r.length;++d){let p=r[d],g=d===r.length-1,v=l==="/"?e:e.slice(l.length)||"/",T=dh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),S=p.route;if(!T&&g&&t&&!r[r.length-1].route.index&&(T=dh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!T)return null;Object.assign(a,T.params),c.push({params:a,pathname:zr([l,T.pathname]),pathnameBase:kC(zr([l,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(l=zr([l,T.pathnameBase]))}return c}function dh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,r]=DC(i.path,i.caseSensitive,i.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((g,{paramName:v,isOptional:T},S)=>{if(v==="*"){let U=d[S]||"";c=l.slice(0,l.length-U.length).replace(/(.)\/+$/,"$1")}const x=d[S];return T&&!x?g[v]=void 0:g[v]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:i}}function DC(i,e=!1,t=!0){Ri(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(r.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(r.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function NC(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ri(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Br(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=i.charAt(t);return r&&r!=="/"?null:i.slice(t)||"/"}function xC(i,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof i=="string"?cl(i):i;return{pathname:t?t.startsWith("/")?t:MC(t,e):e,search:LC(r),hash:PC(a)}}function MC(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function dp(i,e,t,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function VC(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function pg(i){let e=VC(i);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function gg(i,e,t,r=!1){let a;typeof i=="string"?a=cl(i):(a={...i},Tt(!a.pathname||!a.pathname.includes("?"),dp("?","pathname","search",a)),Tt(!a.pathname||!a.pathname.includes("#"),dp("#","pathname","hash",a)),Tt(!a.search||!a.search.includes("#"),dp("#","search","hash",a)));let l=i===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let T=e.length-1;if(!r&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),T-=1;a.pathname=S.join("/")}d=T>=0?e[T]:"/"}let p=xC(a,d),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var zr=i=>i.join("/").replace(/\/\/+/g,"/"),kC=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),LC=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,PC=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function UC(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var $b=["POST","PUT","PATCH","DELETE"];new Set($b);var zC=["GET",...$b];new Set(zC);var fl=W.createContext(null);fl.displayName="DataRouter";var Fh=W.createContext(null);Fh.displayName="DataRouterState";W.createContext(!1);var Kb=W.createContext({isTransitioning:!1});Kb.displayName="ViewTransition";var FC=W.createContext(new Map);FC.displayName="Fetchers";var jC=W.createContext(null);jC.displayName="Await";var Di=W.createContext(null);Di.displayName="Navigation";var nc=W.createContext(null);nc.displayName="Location";var fr=W.createContext({outlet:null,matches:[],isDataRoute:!1});fr.displayName="Route";var yg=W.createContext(null);yg.displayName="RouteError";function BC(i,{relative:e}={}){Tt(hl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=W.useContext(Di),{hash:a,pathname:l,search:c}=rc(i,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:zr([t,l])),r.createHref({pathname:d,search:c,hash:a})}function hl(){return W.useContext(nc)!=null}function Qs(){return Tt(hl(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(nc).location}var Yb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Qb(i){W.useContext(Di).static||W.useLayoutEffect(i)}function ic(){let{isDataRoute:i}=W.useContext(fr);return i?tI():qC()}function qC(){Tt(hl(),"useNavigate() may be used only in the context of a <Router> component.");let i=W.useContext(fl),{basename:e,navigator:t}=W.useContext(Di),{matches:r}=W.useContext(fr),{pathname:a}=Qs(),l=JSON.stringify(pg(r)),c=W.useRef(!1);return Qb(()=>{c.current=!0}),W.useCallback((p,g={})=>{if(Ri(c.current,Yb),!c.current)return;if(typeof p=="number"){t.go(p);return}let v=gg(p,JSON.parse(l),a,g.relative==="path");i==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:zr([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,l,a,i])}W.createContext(null);function rc(i,{relative:e}={}){let{matches:t}=W.useContext(fr),{pathname:r}=Qs(),a=JSON.stringify(pg(t));return W.useMemo(()=>gg(i,JSON.parse(a),r,e==="path"),[i,a,r,e])}function HC(i,e){return Xb(i,e)}function Xb(i,e,t,r,a){Tt(hl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=W.useContext(Di),{matches:c}=W.useContext(fr),d=c[c.length-1],p=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",T=d&&d.route;{let H=T&&T.path||"";Wb(g,!T||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let S=Qs(),x;if(e){let H=typeof e=="string"?cl(e):e;Tt(v==="/"||H.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${H.pathname}" was given in the \`location\` prop.`),x=H}else x=S;let U=x.pathname||"/",F=U;if(v!=="/"){let H=v.replace(/^\//,"").split("/");F="/"+U.replace(/^\//,"").split("/").slice(H.length).join("/")}let G=qb(i,{pathname:F});Ri(T||G!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Ri(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=QC(G&&G.map(H=>Object.assign({},H,{params:Object.assign({},p,H.params),pathname:zr([v,l.encodeLocation?l.encodeLocation(H.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?v:zr([v,l.encodeLocation?l.encodeLocation(H.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathnameBase])})),c,t,r,a);return e&&$?W.createElement(nc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},$):$}function GC(){let i=eI(),e=UC(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",i),c=W.createElement(W.Fragment,null,W.createElement("p",null," Hey developer "),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:l},"ErrorBoundary")," or"," ",W.createElement("code",{style:l},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),t?W.createElement("pre",{style:a},t):null,c)}var $C=W.createElement(GC,null),KC=class extends W.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?W.createElement(fr.Provider,{value:this.props.routeContext},W.createElement(yg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function YC({routeContext:i,match:e,children:t}){let r=W.useContext(fl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(fr.Provider,{value:i},t)}function QC(i,e=[],t=null,r=null,a=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let l=i,c=t?.errors;if(c!=null){let g=l.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);Tt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let d=!1,p=-1;if(t)for(let g=0;g<l.length;g++){let v=l[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=g),v.route.id){let{loaderData:T,errors:S}=t,x=v.route.loader&&!T.hasOwnProperty(v.route.id)&&(!S||S[v.route.id]===void 0);if(v.route.lazy||x){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((g,v,T)=>{let S,x=!1,U=null,F=null;t&&(S=c&&v.route.id?c[v.route.id]:void 0,U=v.route.errorElement||$C,d&&(p<0&&T===0?(Wb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,F=null):p===T&&(x=!0,F=v.route.hydrateFallbackElement||null)));let G=e.concat(l.slice(0,T+1)),$=()=>{let H;return S?H=U:x?H=F:v.route.Component?H=W.createElement(v.route.Component,null):v.route.element?H=v.route.element:H=g,W.createElement(YC,{match:v,routeContext:{outlet:g,matches:G,isDataRoute:t!=null},children:H})};return t&&(v.route.ErrorBoundary||v.route.errorElement||T===0)?W.createElement(KC,{location:t.location,revalidation:t.revalidation,component:U,error:S,children:$(),routeContext:{outlet:null,matches:G,isDataRoute:!0},unstable_onError:r}):$()},null)}function _g(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XC(i){let e=W.useContext(fl);return Tt(e,_g(i)),e}function WC(i){let e=W.useContext(Fh);return Tt(e,_g(i)),e}function JC(i){let e=W.useContext(fr);return Tt(e,_g(i)),e}function vg(i){let e=JC(i),t=e.matches[e.matches.length-1];return Tt(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function ZC(){return vg("useRouteId")}function eI(){let i=W.useContext(yg),e=WC("useRouteError"),t=vg("useRouteError");return i!==void 0?i:e.errors?.[t]}function tI(){let{router:i}=XC("useNavigate"),e=vg("useNavigate"),t=W.useRef(!1);return Qb(()=>{t.current=!0}),W.useCallback(async(a,l={})=>{Ri(t.current,Yb),t.current&&(typeof a=="number"?i.navigate(a):await i.navigate(a,{fromRouteId:e,...l}))},[i,e])}var u0={};function Wb(i,e,t){!e&&!u0[i]&&(u0[i]=!0,Ri(!1,t))}W.memo(nI);function nI({routes:i,future:e,state:t,unstable_onError:r}){return Xb(i,void 0,t,r,e)}function Jb({to:i,replace:e,state:t,relative:r}){Tt(hl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=W.useContext(Di);Ri(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=W.useContext(fr),{pathname:c}=Qs(),d=ic(),p=gg(i,pg(l),c,r==="path"),g=JSON.stringify(p);return W.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:r})},[d,g,r,e,t]),null}function Ho(i){Tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iI({basename:i="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:l=!1}){Tt(!hl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=i.replace(/^\/*/,"/"),d=W.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=cl(t));let{pathname:p="/",search:g="",hash:v="",state:T=null,key:S="default"}=t,x=W.useMemo(()=>{let U=Br(p,c);return U==null?null:{location:{pathname:U,search:g,hash:v,state:T,key:S},navigationType:r}},[c,p,g,v,T,S,r]);return Ri(x!=null,`<Router basename="${c}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:W.createElement(Di.Provider,{value:d},W.createElement(nc.Provider,{children:e,value:x}))}function rI({children:i,location:e}){return HC(Lp(i),e)}function Lp(i,e=[]){let t=[];return W.Children.forEach(i,(r,a)=>{if(!W.isValidElement(r))return;let l=[...e,a];if(r.type===W.Fragment){t.push.apply(t,Lp(r.props.children,l));return}Tt(r.type===Ho,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Tt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Lp(r.props.children,l)),t.push(c)}),t}var Jf="get",Zf="application/x-www-form-urlencoded";function jh(i){return i!=null&&typeof i.tagName=="string"}function sI(i){return jh(i)&&i.tagName.toLowerCase()==="button"}function aI(i){return jh(i)&&i.tagName.toLowerCase()==="form"}function oI(i){return jh(i)&&i.tagName.toLowerCase()==="input"}function lI(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function uI(i,e){return i.button===0&&(!e||e==="_self")&&!lI(i)}var qf=null;function cI(){if(qf===null)try{new FormData(document.createElement("form"),0),qf=!1}catch{qf=!0}return qf}var fI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mp(i){return i!=null&&!fI.has(i)?(Ri(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zf}"`),null):i}function hI(i,e){let t,r,a,l,c;if(aI(i)){let d=i.getAttribute("action");r=d?Br(d,e):null,t=i.getAttribute("method")||Jf,a=mp(i.getAttribute("enctype"))||Zf,l=new FormData(i)}else if(sI(i)||oI(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||d.getAttribute("action");if(r=p?Br(p,e):null,t=i.getAttribute("formmethod")||d.getAttribute("method")||Jf,a=mp(i.getAttribute("formenctype"))||mp(d.getAttribute("enctype"))||Zf,l=new FormData(d,i),!cI()){let{name:g,type:v,value:T}=i;if(v==="image"){let S=g?`${g}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else g&&l.append(g,T)}}else{if(jh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Jf,r=null,a=Zf,c=i}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Eg(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function dI(i,e,t){let r=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Br(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function mI(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pI(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function gI(i,e,t){let r=await Promise.all(i.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await mI(l,t);return c.links?c.links():[]}return[]}));return EI(r.flat(1).filter(pI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function c0(i,e,t,r,a,l){let c=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>t[g].pathname!==p.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,g)=>c(p,g)||d(p,g)):l==="data"?e.filter((p,g)=>{let v=r.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function yI(i,e,{includeHydrateFallback:t}={}){return _I(i.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function _I(i){return[...new Set(i)]}function vI(i){let e={},t=Object.keys(i).sort();for(let r of t)e[r]=i[r];return e}function EI(i,e){let t=new Set;return new Set(e),i.reduce((r,a)=>{let l=JSON.stringify(vI(a));return t.has(l)||(t.add(l),r.push({key:l,link:a})),r},[])}function Zb(){let i=W.useContext(fl);return Eg(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function TI(){let i=W.useContext(Fh);return Eg(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Tg=W.createContext(void 0);Tg.displayName="FrameworkContext";function eS(){let i=W.useContext(Tg);return Eg(i,"You must render this element inside a <HydratedRouter> element"),i}function bI(i,e){let t=W.useContext(Tg),[r,a]=W.useState(!1),[l,c]=W.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:T}=e,S=W.useRef(null);W.useEffect(()=>{if(i==="render"&&c(!0),i==="viewport"){let F=$=>{$.forEach(H=>{c(H.isIntersecting)})},G=new IntersectionObserver(F,{threshold:.5});return S.current&&G.observe(S.current),()=>{G.disconnect()}}},[i]),W.useEffect(()=>{if(r){let F=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(F)}}},[r]);let x=()=>{a(!0)},U=()=>{a(!1),c(!1)};return t?i!=="intent"?[l,S,{}]:[l,S,{onFocus:bu(d,x),onBlur:bu(p,U),onMouseEnter:bu(g,x),onMouseLeave:bu(v,U),onTouchStart:bu(T,x)}]:[!1,S,{}]}function bu(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function SI({page:i,...e}){let{router:t}=Zb(),r=W.useMemo(()=>qb(t.routes,i,t.basename),[t.routes,i,t.basename]);return r?W.createElement(wI,{page:i,matches:r,...e}):null}function AI(i){let{manifest:e,routeModules:t}=eS(),[r,a]=W.useState([]);return W.useEffect(()=>{let l=!1;return gI(i,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[i,e,t]),r}function wI({page:i,matches:e,...t}){let r=Qs(),{manifest:a,routeModules:l}=eS(),{basename:c}=Zb(),{loaderData:d,matches:p}=TI(),g=W.useMemo(()=>c0(i,e,p,a,r,"data"),[i,e,p,a,r]),v=W.useMemo(()=>c0(i,e,p,a,r,"assets"),[i,e,p,a,r]),T=W.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let U=new Set,F=!1;if(e.forEach($=>{let H=a.routes[$.route.id];!H||!H.hasLoader||(!g.some(ae=>ae.route.id===$.route.id)&&$.route.id in d&&l[$.route.id]?.shouldRevalidate||H.hasClientLoader?F=!0:U.add($.route.id))}),U.size===0)return[];let G=dI(i,c,"data");return F&&U.size>0&&G.searchParams.set("_routes",e.filter($=>U.has($.route.id)).map($=>$.route.id).join(",")),[G.pathname+G.search]},[c,d,r,a,g,e,i,l]),S=W.useMemo(()=>yI(v,a),[v,a]),x=AI(v);return W.createElement(W.Fragment,null,T.map(U=>W.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...t})),S.map(U=>W.createElement("link",{key:U,rel:"modulepreload",href:U,...t})),x.map(({key:U,link:F})=>W.createElement("link",{key:U,nonce:t.nonce,...F})))}function RI(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var tS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tS&&(window.__reactRouterVersion="7.9.4")}catch{}function CI({basename:i,children:e,window:t}){let r=W.useRef();r.current==null&&(r.current=pC({window:t,v5Compat:!0}));let a=r.current,[l,c]=W.useState({action:a.action,location:a.location}),d=W.useCallback(p=>{W.startTransition(()=>c(p))},[c]);return W.useLayoutEffect(()=>a.listen(d),[a,d]),W.createElement(iI,{basename:i,children:e,location:l.location,navigationType:l.action,navigator:a})}var nS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Os=W.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:d,target:p,to:g,preventScrollReset:v,viewTransition:T,...S},x){let{basename:U}=W.useContext(Di),F=typeof g=="string"&&nS.test(g),G,$=!1;if(typeof g=="string"&&F&&(G=g,tS))try{let C=new URL(window.location.href),k=g.startsWith("//")?new URL(C.protocol+g):new URL(g),O=Br(k.pathname,U);k.origin===C.origin&&O!=null?g=O+k.search+k.hash:$=!0}catch{Ri(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=BC(g,{relative:a}),[ae,ve,he]=bI(r,S),Ee=NI(g,{replace:c,state:d,target:p,preventScrollReset:v,relative:a,viewTransition:T});function I(C){e&&e(C),C.defaultPrevented||Ee(C)}let w=W.createElement("a",{...S,...he,href:G||H,onClick:$||l?e:I,ref:RI(x,ve),target:p,"data-discover":!F&&t==="render"?"true":void 0});return ae&&!F?W.createElement(W.Fragment,null,w,W.createElement(SI,{page:H})):w});Os.displayName="Link";var II=W.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:d,children:p,...g},v){let T=rc(c,{relative:g.relative}),S=Qs(),x=W.useContext(Fh),{navigator:U,basename:F}=W.useContext(Di),G=x!=null&&LI(T)&&d===!0,$=U.encodeLocation?U.encodeLocation(T).pathname:T.pathname,H=S.pathname,ae=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(H=H.toLowerCase(),ae=ae?ae.toLowerCase():null,$=$.toLowerCase()),ae&&F&&(ae=Br(ae,F)||ae);const ve=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let he=H===$||!a&&H.startsWith($)&&H.charAt(ve)==="/",Ee=ae!=null&&(ae===$||!a&&ae.startsWith($)&&ae.charAt($.length)==="/"),I={isActive:he,isPending:Ee,isTransitioning:G},w=he?e:void 0,C;typeof r=="function"?C=r(I):C=[r,he?"active":null,Ee?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let k=typeof l=="function"?l(I):l;return W.createElement(Os,{...g,"aria-current":w,className:C,ref:v,style:k,to:c,viewTransition:d},typeof p=="function"?p(I):p)});II.displayName="NavLink";var OI=W.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:l,method:c=Jf,action:d,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:T,...S},x)=>{let U=VI(),F=kI(d,{relative:g}),G=c.toLowerCase()==="get"?"get":"post",$=typeof d=="string"&&nS.test(d),H=ae=>{if(p&&p(ae),ae.defaultPrevented)return;ae.preventDefault();let ve=ae.nativeEvent.submitter,he=ve?.getAttribute("formmethod")||c;U(ve||ae.currentTarget,{fetcherKey:e,method:he,navigate:t,replace:a,state:l,relative:g,preventScrollReset:v,viewTransition:T})};return W.createElement("form",{ref:x,method:G,action:F,onSubmit:r?p:H,...S,"data-discover":!$&&i==="render"?"true":void 0})});OI.displayName="Form";function DI(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iS(i){let e=W.useContext(fl);return Tt(e,DI(i)),e}function NI(i,{target:e,replace:t,state:r,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=ic(),p=Qs(),g=rc(i,{relative:l});return W.useCallback(v=>{if(uI(v,e)){v.preventDefault();let T=t!==void 0?t:ju(p)===ju(g);d(i,{replace:T,state:r,preventScrollReset:a,relative:l,viewTransition:c})}},[p,d,g,t,r,e,i,a,l,c])}var xI=0,MI=()=>`__${String(++xI)}__`;function VI(){let{router:i}=iS("useSubmit"),{basename:e}=W.useContext(Di),t=ZC();return W.useCallback(async(r,a={})=>{let{action:l,method:c,encType:d,formData:p,body:g}=hI(r,e);if(a.navigate===!1){let v=a.fetcherKey||MI();await i.fetch(v,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await i.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,e,t])}function kI(i,{relative:e}={}){let{basename:t}=W.useContext(Di),r=W.useContext(fr);Tt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...rc(i||".",{relative:e})},c=Qs();if(i==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(T=>T).forEach(T=>d.append("index",T));let v=d.toString();l.search=v?`?${v}`:""}}return(!i||i===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:zr([t,l.pathname])),ju(l)}function LI(i,{relative:e}={}){let t=W.useContext(Kb);Tt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=iS("useViewTransitionState"),a=rc(i,{relative:e});if(!t.isTransitioning)return!1;let l=Br(t.currentLocation.pathname,r)||t.currentLocation.pathname,c=Br(t.nextLocation.pathname,r)||t.nextLocation.pathname;return dh(a.pathname,c)!=null||dh(a.pathname,l)!=null}var sc=i=>i.type==="checkbox",Oa=i=>i instanceof Date,xn=i=>i==null;const rS=i=>typeof i=="object";var Gt=i=>!xn(i)&&!Array.isArray(i)&&rS(i)&&!Oa(i),PI=i=>Gt(i)&&i.target?sc(i.target)?i.target.checked:i.target.value:i,UI=i=>i.substring(0,i.search(/\.\d+(\.|$)/))||i,zI=(i,e)=>i.has(UI(e)),FI=i=>{const e=i.constructor&&i.constructor.prototype;return Gt(e)&&e.hasOwnProperty("isPrototypeOf")},bg=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Zt(i){let e;const t=Array.isArray(i),r=typeof FileList<"u"?i instanceof FileList:!1;if(i instanceof Date)e=new Date(i);else if(!(bg&&(i instanceof Blob||r))&&(t||Gt(i)))if(e=t?[]:Object.create(Object.getPrototypeOf(i)),!t&&!FI(i))e=i;else for(const a in i)i.hasOwnProperty(a)&&(e[a]=Zt(i[a]));else return i;return e}var Bh=i=>/^\w*$/.test(i),Nt=i=>i===void 0,Sg=i=>Array.isArray(i)?i.filter(Boolean):[],Ag=i=>Sg(i.replace(/["|']|\]/g,"").split(/\.|\[/)),_e=(i,e,t)=>{if(!e||!Gt(i))return t;const r=(Bh(e)?[e]:Ag(e)).reduce((a,l)=>xn(a)?a:a[l],i);return Nt(r)||r===i?Nt(i[e])?t:i[e]:r},Zi=i=>typeof i=="boolean",dt=(i,e,t)=>{let r=-1;const a=Bh(e)?[e]:Ag(e),l=a.length,c=l-1;for(;++r<l;){const d=a[r];let p=t;if(r!==c){const g=i[d];p=Gt(g)||Array.isArray(g)?g:isNaN(+a[r+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;i[d]=p,i=i[d]}};const f0={BLUR:"blur",FOCUS_OUT:"focusout"},bi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},kr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},jI=Gn.createContext(null);jI.displayName="HookFormContext";var BI=(i,e,t,r=!0)=>{const a={defaultValues:e._defaultValues};for(const l in i)Object.defineProperty(a,l,{get:()=>{const c=l;return e._proxyFormState[c]!==bi.all&&(e._proxyFormState[c]=!r||bi.all),i[c]}});return a};const qI=typeof window<"u"?Gn.useLayoutEffect:Gn.useEffect;var $n=i=>typeof i=="string",HI=(i,e,t,r,a)=>$n(i)?(r&&e.watch.add(i),_e(t,i,a)):Array.isArray(i)?i.map(l=>(r&&e.watch.add(l),_e(t,l))):(r&&(e.watchAll=!0),t),Pp=i=>xn(i)||!rS(i);function Ds(i,e,t=new WeakSet){if(Pp(i)||Pp(e))return i===e;if(Oa(i)&&Oa(e))return i.getTime()===e.getTime();const r=Object.keys(i),a=Object.keys(e);if(r.length!==a.length)return!1;if(t.has(i)||t.has(e))return!0;t.add(i),t.add(e);for(const l of r){const c=i[l];if(!a.includes(l))return!1;if(l!=="ref"){const d=e[l];if(Oa(c)&&Oa(d)||Gt(c)&&Gt(d)||Array.isArray(c)&&Array.isArray(d)?!Ds(c,d,t):c!==d)return!1}}return!0}var sS=(i,e,t,r,a)=>e?{...t[i],types:{...t[i]&&t[i].types?t[i].types:{},[r]:a||!0}}:{},Nu=i=>Array.isArray(i)?i:[i],h0=()=>{let i=[];return{get observers(){return i},next:a=>{for(const l of i)l.next&&l.next(a)},subscribe:a=>(i.push(a),{unsubscribe:()=>{i=i.filter(l=>l!==a)}}),unsubscribe:()=>{i=[]}}};function aS(i,e){const t={};for(const r in i)if(i.hasOwnProperty(r)){const a=i[r],l=e[r];if(a&&Gt(a)&&l){const c=aS(a,l);Gt(c)&&(t[r]=c)}else i[r]&&(t[r]=l)}return t}var Nn=i=>Gt(i)&&!Object.keys(i).length,wg=i=>i.type==="file",Si=i=>typeof i=="function",mh=i=>{if(!bg)return!1;const e=i?i.ownerDocument:0;return i instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},oS=i=>i.type==="select-multiple",Rg=i=>i.type==="radio",GI=i=>Rg(i)||sc(i),pp=i=>mh(i)&&i.isConnected;function $I(i,e){const t=e.slice(0,-1).length;let r=0;for(;r<t;)i=Nt(i)?r++:i[e[r++]];return i}function KI(i){for(const e in i)if(i.hasOwnProperty(e)&&!Nt(i[e]))return!1;return!0}function jt(i,e){const t=Array.isArray(e)?e:Bh(e)?[e]:Ag(e),r=t.length===1?i:$I(i,t),a=t.length-1,l=t[a];return r&&delete r[l],a!==0&&(Gt(r)&&Nn(r)||Array.isArray(r)&&KI(r))&&jt(i,t.slice(0,-1)),i}var YI=i=>{for(const e in i)if(Si(i[e]))return!0;return!1};function lS(i){return Array.isArray(i)||Gt(i)&&!YI(i)}function Up(i,e={}){for(const t in i)lS(i[t])?(e[t]=Array.isArray(i[t])?[]:{},Up(i[t],e[t])):Nt(i[t])||(e[t]=!0);return e}function Go(i,e,t){t||(t=Up(e));for(const r in i)lS(i[r])?Nt(e)||Pp(t[r])?t[r]=Up(i[r],Array.isArray(i[r])?[]:{}):Go(i[r],xn(e)?{}:e[r],t[r]):t[r]=!Ds(i[r],e[r]);return t}const d0={value:!1,isValid:!1},m0={value:!0,isValid:!0};var uS=i=>{if(Array.isArray(i)){if(i.length>1){const e=i.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return i[0].checked&&!i[0].disabled?i[0].attributes&&!Nt(i[0].attributes.value)?Nt(i[0].value)||i[0].value===""?m0:{value:i[0].value,isValid:!0}:m0:d0}return d0},cS=(i,{valueAsNumber:e,valueAsDate:t,setValueAs:r})=>Nt(i)?i:e?i===""?NaN:i&&+i:t&&$n(i)?new Date(i):r?r(i):i;const p0={isValid:!1,value:null};var fS=i=>Array.isArray(i)?i.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,p0):p0;function g0(i){const e=i.ref;return wg(e)?e.files:Rg(e)?fS(i.refs).value:oS(e)?[...e.selectedOptions].map(({value:t})=>t):sc(e)?uS(i.refs).value:cS(Nt(e.value)?i.ref.value:e.value,i)}var QI=(i,e,t,r)=>{const a={};for(const l of i){const c=_e(e,l);c&&dt(a,l,c._f)}return{criteriaMode:t,names:[...i],fields:a,shouldUseNativeValidation:r}},ph=i=>i instanceof RegExp,Su=i=>Nt(i)?i:ph(i)?i.source:Gt(i)?ph(i.value)?i.value.source:i.value:i,y0=i=>({isOnSubmit:!i||i===bi.onSubmit,isOnBlur:i===bi.onBlur,isOnChange:i===bi.onChange,isOnAll:i===bi.all,isOnTouch:i===bi.onTouched});const _0="AsyncFunction";var XI=i=>!!i&&!!i.validate&&!!(Si(i.validate)&&i.validate.constructor.name===_0||Gt(i.validate)&&Object.values(i.validate).find(e=>e.constructor.name===_0)),WI=i=>i.mount&&(i.required||i.min||i.max||i.maxLength||i.minLength||i.pattern||i.validate),v0=(i,e,t)=>!t&&(e.watchAll||e.watch.has(i)||[...e.watch].some(r=>i.startsWith(r)&&/^\.\w+/.test(i.slice(r.length))));const xu=(i,e,t,r)=>{for(const a of t||Object.keys(i)){const l=_e(i,a);if(l){const{_f:c,...d}=l;if(c){if(c.refs&&c.refs[0]&&e(c.refs[0],a)&&!r)return!0;if(c.ref&&e(c.ref,c.name)&&!r)return!0;if(xu(d,e))break}else if(Gt(d)&&xu(d,e))break}}};function E0(i,e,t){const r=_e(i,t);if(r||Bh(t))return{error:r,name:t};const a=t.split(".");for(;a.length;){const l=a.join("."),c=_e(e,l),d=_e(i,l);if(c&&!Array.isArray(c)&&t!==l)return{name:t};if(d&&d.type)return{name:l,error:d};if(d&&d.root&&d.root.type)return{name:`${l}.root`,error:d.root};a.pop()}return{name:t}}var JI=(i,e,t,r)=>{t(i);const{name:a,...l}=i;return Nn(l)||Object.keys(l).length>=Object.keys(e).length||Object.keys(l).find(c=>e[c]===(!r||bi.all))},ZI=(i,e,t)=>!i||!e||i===e||Nu(i).some(r=>r&&(t?r===e:r.startsWith(e)||e.startsWith(r))),e2=(i,e,t,r,a)=>a.isOnAll?!1:!t&&a.isOnTouch?!(e||i):(t?r.isOnBlur:a.isOnBlur)?!i:(t?r.isOnChange:a.isOnChange)?i:!0,t2=(i,e)=>!Sg(_e(i,e)).length&&jt(i,e),n2=(i,e,t)=>{const r=Nu(_e(i,t));return dt(r,"root",e[t]),dt(i,t,r),i};function T0(i,e,t="validate"){if($n(i)||Array.isArray(i)&&i.every($n)||Zi(i)&&!i)return{type:t,message:$n(i)?i:"",ref:e}}var jo=i=>Gt(i)&&!ph(i)?i:{value:i,message:""},b0=async(i,e,t,r,a,l)=>{const{ref:c,refs:d,required:p,maxLength:g,minLength:v,min:T,max:S,pattern:x,validate:U,name:F,valueAsNumber:G,mount:$}=i._f,H=_e(t,F);if(!$||e.has(F))return{};const ae=d?d[0]:c,ve=M=>{a&&ae.reportValidity&&(ae.setCustomValidity(Zi(M)?"":M||""),ae.reportValidity())},he={},Ee=Rg(c),I=sc(c),w=Ee||I,C=(G||wg(c))&&Nt(c.value)&&Nt(H)||mh(c)&&c.value===""||H===""||Array.isArray(H)&&!H.length,k=sS.bind(null,F,r,he),O=(M,R,De,Ke=kr.maxLength,X=kr.minLength)=>{const ue=M?R:De;he[F]={type:M?Ke:X,message:ue,ref:c,...k(M?Ke:X,ue)}};if(l?!Array.isArray(H)||!H.length:p&&(!w&&(C||xn(H))||Zi(H)&&!H||I&&!uS(d).isValid||Ee&&!fS(d).isValid)){const{value:M,message:R}=$n(p)?{value:!!p,message:p}:jo(p);if(M&&(he[F]={type:kr.required,message:R,ref:ae,...k(kr.required,R)},!r))return ve(R),he}if(!C&&(!xn(T)||!xn(S))){let M,R;const De=jo(S),Ke=jo(T);if(!xn(H)&&!isNaN(H)){const X=c.valueAsNumber||H&&+H;xn(De.value)||(M=X>De.value),xn(Ke.value)||(R=X<Ke.value)}else{const X=c.valueAsDate||new Date(H),ue=We=>new Date(new Date().toDateString()+" "+We),Se=c.type=="time",Ue=c.type=="week";$n(De.value)&&H&&(M=Se?ue(H)>ue(De.value):Ue?H>De.value:X>new Date(De.value)),$n(Ke.value)&&H&&(R=Se?ue(H)<ue(Ke.value):Ue?H<Ke.value:X<new Date(Ke.value))}if((M||R)&&(O(!!M,De.message,Ke.message,kr.max,kr.min),!r))return ve(he[F].message),he}if((g||v)&&!C&&($n(H)||l&&Array.isArray(H))){const M=jo(g),R=jo(v),De=!xn(M.value)&&H.length>+M.value,Ke=!xn(R.value)&&H.length<+R.value;if((De||Ke)&&(O(De,M.message,R.message),!r))return ve(he[F].message),he}if(x&&!C&&$n(H)){const{value:M,message:R}=jo(x);if(ph(M)&&!H.match(M)&&(he[F]={type:kr.pattern,message:R,ref:c,...k(kr.pattern,R)},!r))return ve(R),he}if(U){if(Si(U)){const M=await U(H,t),R=T0(M,ae);if(R&&(he[F]={...R,...k(kr.validate,R.message)},!r))return ve(R.message),he}else if(Gt(U)){let M={};for(const R in U){if(!Nn(M)&&!r)break;const De=T0(await U[R](H,t),ae,R);De&&(M={...De,...k(R,De.message)},ve(De.message),r&&(he[F]=M))}if(!Nn(M)&&(he[F]={ref:ae,...M},!r))return he}}return ve(!0),he};const i2={mode:bi.onSubmit,reValidateMode:bi.onChange,shouldFocusError:!0};function r2(i={}){let e={...i2,...i},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:Si(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},a=Gt(e.defaultValues)||Gt(e.values)?Zt(e.defaultValues||e.values)||{}:{},l=e.shouldUnregister?{}:Zt(a),c={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},p,g=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let T={...v};const S={array:h0(),state:h0()},x=e.criteriaMode===bi.all,U=D=>j=>{clearTimeout(g),g=setTimeout(D,j)},F=async D=>{if(!e.disabled&&(v.isValid||T.isValid||D)){const j=e.resolver?Nn((await I()).errors):await C(r,!0);j!==t.isValid&&S.state.next({isValid:j})}},G=(D,j)=>{!e.disabled&&(v.isValidating||v.validatingFields||T.isValidating||T.validatingFields)&&((D||Array.from(d.mount)).forEach(J=>{J&&(j?dt(t.validatingFields,J,j):jt(t.validatingFields,J))}),S.state.next({validatingFields:t.validatingFields,isValidating:!Nn(t.validatingFields)}))},$=(D,j=[],J,de,oe=!0,le=!0)=>{if(de&&J&&!e.disabled){if(c.action=!0,le&&Array.isArray(_e(r,D))){const be=J(_e(r,D),de.argA,de.argB);oe&&dt(r,D,be)}if(le&&Array.isArray(_e(t.errors,D))){const be=J(_e(t.errors,D),de.argA,de.argB);oe&&dt(t.errors,D,be),t2(t.errors,D)}if((v.touchedFields||T.touchedFields)&&le&&Array.isArray(_e(t.touchedFields,D))){const be=J(_e(t.touchedFields,D),de.argA,de.argB);oe&&dt(t.touchedFields,D,be)}(v.dirtyFields||T.dirtyFields)&&(t.dirtyFields=Go(a,l)),S.state.next({name:D,isDirty:O(D,j),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else dt(l,D,j)},H=(D,j)=>{dt(t.errors,D,j),S.state.next({errors:t.errors})},ae=D=>{t.errors=D,S.state.next({errors:t.errors,isValid:!1})},ve=(D,j,J,de)=>{const oe=_e(r,D);if(oe){const le=_e(l,D,Nt(J)?_e(a,D):J);Nt(le)||de&&de.defaultChecked||j?dt(l,D,j?le:g0(oe._f)):De(D,le),c.mount&&F()}},he=(D,j,J,de,oe)=>{let le=!1,be=!1;const Ye={name:D};if(!e.disabled){if(!J||de){(v.isDirty||T.isDirty)&&(be=t.isDirty,t.isDirty=Ye.isDirty=O(),le=be!==Ye.isDirty);const Qe=Ds(_e(a,D),j);be=!!_e(t.dirtyFields,D),Qe?jt(t.dirtyFields,D):dt(t.dirtyFields,D,!0),Ye.dirtyFields=t.dirtyFields,le=le||(v.dirtyFields||T.dirtyFields)&&be!==!Qe}if(J){const Qe=_e(t.touchedFields,D);Qe||(dt(t.touchedFields,D,J),Ye.touchedFields=t.touchedFields,le=le||(v.touchedFields||T.touchedFields)&&Qe!==J)}le&&oe&&S.state.next(Ye)}return le?Ye:{}},Ee=(D,j,J,de)=>{const oe=_e(t.errors,D),le=(v.isValid||T.isValid)&&Zi(j)&&t.isValid!==j;if(e.delayError&&J?(p=U(()=>H(D,J)),p(e.delayError)):(clearTimeout(g),p=null,J?dt(t.errors,D,J):jt(t.errors,D)),(J?!Ds(oe,J):oe)||!Nn(de)||le){const be={...de,...le&&Zi(j)?{isValid:j}:{},errors:t.errors,name:D};t={...t,...be},S.state.next(be)}},I=async D=>{G(D,!0);const j=await e.resolver(l,e.context,QI(D||d.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return G(D),j},w=async D=>{const{errors:j}=await I(D);if(D)for(const J of D){const de=_e(j,J);de?dt(t.errors,J,de):jt(t.errors,J)}else t.errors=j;return j},C=async(D,j,J={valid:!0})=>{for(const de in D){const oe=D[de];if(oe){const{_f:le,...be}=oe;if(le){const Ye=d.array.has(le.name),Qe=oe._f&&XI(oe._f);Qe&&v.validatingFields&&G([le.name],!0);const cn=await b0(oe,d.disabled,l,x,e.shouldUseNativeValidation&&!j,Ye);if(Qe&&v.validatingFields&&G([le.name]),cn[le.name]&&(J.valid=!1,j))break;!j&&(_e(cn,le.name)?Ye?n2(t.errors,cn,le.name):dt(t.errors,le.name,cn[le.name]):jt(t.errors,le.name))}!Nn(be)&&await C(be,j,J)}}return J.valid},k=()=>{for(const D of d.unMount){const j=_e(r,D);j&&(j._f.refs?j._f.refs.every(J=>!pp(J)):!pp(j._f.ref))&&ze(D)}d.unMount=new Set},O=(D,j)=>!e.disabled&&(D&&j&&dt(l,D,j),!Ds(We(),a)),M=(D,j,J)=>HI(D,d,{...c.mount?l:Nt(j)?a:$n(D)?{[D]:j}:j},J,j),R=D=>Sg(_e(c.mount?l:a,D,e.shouldUnregister?_e(a,D,[]):[])),De=(D,j,J={})=>{const de=_e(r,D);let oe=j;if(de){const le=de._f;le&&(!le.disabled&&dt(l,D,cS(j,le)),oe=mh(le.ref)&&xn(j)?"":j,oS(le.ref)?[...le.ref.options].forEach(be=>be.selected=oe.includes(be.value)):le.refs?sc(le.ref)?le.refs.forEach(be=>{(!be.defaultChecked||!be.disabled)&&(Array.isArray(oe)?be.checked=!!oe.find(Ye=>Ye===be.value):be.checked=oe===be.value||!!oe)}):le.refs.forEach(be=>be.checked=be.value===oe):wg(le.ref)?le.ref.value="":(le.ref.value=oe,le.ref.type||S.state.next({name:D,values:Zt(l)})))}(J.shouldDirty||J.shouldTouch)&&he(D,oe,J.shouldTouch,J.shouldDirty,!0),J.shouldValidate&&Ue(D)},Ke=(D,j,J)=>{for(const de in j){if(!j.hasOwnProperty(de))return;const oe=j[de],le=D+"."+de,be=_e(r,le);(d.array.has(D)||Gt(oe)||be&&!be._f)&&!Oa(oe)?Ke(le,oe,J):De(le,oe,J)}},X=(D,j,J={})=>{const de=_e(r,D),oe=d.array.has(D),le=Zt(j);dt(l,D,le),oe?(S.array.next({name:D,values:Zt(l)}),(v.isDirty||v.dirtyFields||T.isDirty||T.dirtyFields)&&J.shouldDirty&&S.state.next({name:D,dirtyFields:Go(a,l),isDirty:O(D,le)})):de&&!de._f&&!xn(le)?Ke(D,le,J):De(D,le,J),v0(D,d)&&S.state.next({...t,name:D}),S.state.next({name:c.mount?D:void 0,values:Zt(l)})},ue=async D=>{c.mount=!0;const j=D.target;let J=j.name,de=!0;const oe=_e(r,J),le=Qe=>{de=Number.isNaN(Qe)||Oa(Qe)&&isNaN(Qe.getTime())||Ds(Qe,_e(l,J,Qe))},be=y0(e.mode),Ye=y0(e.reValidateMode);if(oe){let Qe,cn;const mr=j.type?g0(oe._f):PI(D),kn=D.type===f0.BLUR||D.type===f0.FOCUS_OUT,Ja=!WI(oe._f)&&!e.resolver&&!_e(t.errors,J)&&!oe._f.deps||e2(kn,_e(t.touchedFields,J),t.isSubmitted,Ye,be),yn=v0(J,d,kn);dt(l,J,mr),kn?(!j||!j.readOnly)&&(oe._f.onBlur&&oe._f.onBlur(D),p&&p(0)):oe._f.onChange&&oe._f.onChange(D);const Ct=he(J,mr,kn),bn=!Nn(Ct)||yn;if(!kn&&S.state.next({name:J,type:D.type,values:Zt(l)}),Ja)return(v.isValid||T.isValid)&&(e.mode==="onBlur"?kn&&F():kn||F()),bn&&S.state.next({name:J,...yn?{}:Ct});if(!kn&&yn&&S.state.next({...t}),e.resolver){const{errors:_t}=await I([J]);if(le(mr),de){const Za=E0(t.errors,r,J),pr=E0(_t,r,Za.name||J);Qe=pr.error,J=pr.name,cn=Nn(_t)}}else G([J],!0),Qe=(await b0(oe,d.disabled,l,x,e.shouldUseNativeValidation))[J],G([J]),le(mr),de&&(Qe?cn=!1:(v.isValid||T.isValid)&&(cn=await C(r,!0)));de&&(oe._f.deps&&(!Array.isArray(oe._f.deps)||oe._f.deps.length>0)&&Ue(oe._f.deps),Ee(J,cn,Qe,Ct))}},Se=(D,j)=>{if(_e(t.errors,j)&&D.focus)return D.focus(),1},Ue=async(D,j={})=>{let J,de;const oe=Nu(D);if(e.resolver){const le=await w(Nt(D)?D:oe);J=Nn(le),de=D?!oe.some(be=>_e(le,be)):J}else D?(de=(await Promise.all(oe.map(async le=>{const be=_e(r,le);return await C(be&&be._f?{[le]:be}:be)}))).every(Boolean),!(!de&&!t.isValid)&&F()):de=J=await C(r);return S.state.next({...!$n(D)||(v.isValid||T.isValid)&&J!==t.isValid?{}:{name:D},...e.resolver||!D?{isValid:J}:{},errors:t.errors}),j.shouldFocus&&!de&&xu(r,Se,D?oe:d.mount),de},We=(D,j)=>{let J={...c.mount?l:a};return j&&(J=aS(j.dirtyFields?t.dirtyFields:t.touchedFields,J)),Nt(D)?J:$n(D)?_e(J,D):D.map(de=>_e(J,de))},L=(D,j)=>({invalid:!!_e((j||t).errors,D),isDirty:!!_e((j||t).dirtyFields,D),error:_e((j||t).errors,D),isValidating:!!_e(t.validatingFields,D),isTouched:!!_e((j||t).touchedFields,D)}),te=D=>{D&&Nu(D).forEach(j=>jt(t.errors,j)),S.state.next({errors:D?t.errors:{}})},fe=(D,j,J)=>{const de=(_e(r,D,{_f:{}})._f||{}).ref,oe=_e(t.errors,D)||{},{ref:le,message:be,type:Ye,...Qe}=oe;dt(t.errors,D,{...Qe,...j,ref:de}),S.state.next({name:D,errors:t.errors,isValid:!1}),J&&J.shouldFocus&&de&&de.focus&&de.focus()},me=(D,j)=>Si(D)?S.state.subscribe({next:J=>"values"in J&&D(M(void 0,j),J)}):M(D,j,!0),Ce=D=>S.state.subscribe({next:j=>{ZI(D.name,j.name,D.exact)&&JI(j,D.formState||v,Zs,D.reRenderRoot)&&D.callback({values:{...l},...t,...j,defaultValues:a})}}).unsubscribe,Ve=D=>(c.mount=!0,T={...T,...D.formState},Ce({...D,formState:T})),ze=(D,j={})=>{for(const J of D?Nu(D):d.mount)d.mount.delete(J),d.array.delete(J),j.keepValue||(jt(r,J),jt(l,J)),!j.keepError&&jt(t.errors,J),!j.keepDirty&&jt(t.dirtyFields,J),!j.keepTouched&&jt(t.touchedFields,J),!j.keepIsValidating&&jt(t.validatingFields,J),!e.shouldUnregister&&!j.keepDefaultValue&&jt(a,J);S.state.next({values:Zt(l)}),S.state.next({...t,...j.keepDirty?{isDirty:O()}:{}}),!j.keepIsValid&&F()},At=({disabled:D,name:j})=>{(Zi(D)&&c.mount||D||d.disabled.has(j))&&(D?d.disabled.add(j):d.disabled.delete(j))},ot=(D,j={})=>{let J=_e(r,D);const de=Zi(j.disabled)||Zi(e.disabled);return dt(r,D,{...J||{},_f:{...J&&J._f?J._f:{ref:{name:D}},name:D,mount:!0,...j}}),d.mount.add(D),J?At({disabled:Zi(j.disabled)?j.disabled:e.disabled,name:D}):ve(D,!0,j.value),{...de?{disabled:j.disabled||e.disabled}:{},...e.progressive?{required:!!j.required,min:Su(j.min),max:Su(j.max),minLength:Su(j.minLength),maxLength:Su(j.maxLength),pattern:Su(j.pattern)}:{},name:D,onChange:ue,onBlur:ue,ref:oe=>{if(oe){ot(D,j),J=_e(r,D);const le=Nt(oe.value)&&oe.querySelectorAll&&oe.querySelectorAll("input,select,textarea")[0]||oe,be=GI(le),Ye=J._f.refs||[];if(be?Ye.find(Qe=>Qe===le):le===J._f.ref)return;dt(r,D,{_f:{...J._f,...be?{refs:[...Ye.filter(pp),le,...Array.isArray(_e(a,D))?[{}]:[]],ref:{type:le.type,name:D}}:{ref:le}}}),ve(D,!1,void 0,le)}else J=_e(r,D,{}),J._f&&(J._f.mount=!1),(e.shouldUnregister||j.shouldUnregister)&&!(zI(d.array,D)&&c.action)&&d.unMount.add(D)}}},ci=()=>e.shouldFocusError&&xu(r,Se,d.mount),Kr=D=>{Zi(D)&&(S.state.next({disabled:D}),xu(r,(j,J)=>{const de=_e(r,J);de&&(j.disabled=de._f.disabled||D,Array.isArray(de._f.refs)&&de._f.refs.forEach(oe=>{oe.disabled=de._f.disabled||D}))},0,!1))},hr=(D,j)=>async J=>{let de;J&&(J.preventDefault&&J.preventDefault(),J.persist&&J.persist());let oe=Zt(l);if(S.state.next({isSubmitting:!0}),e.resolver){const{errors:le,values:be}=await I();t.errors=le,oe=Zt(be)}else await C(r);if(d.disabled.size)for(const le of d.disabled)jt(oe,le);if(jt(t.errors,"root"),Nn(t.errors)){S.state.next({errors:{}});try{await D(oe,J)}catch(le){de=le}}else j&&await j({...t.errors},J),ci(),setTimeout(ci);if(S.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Nn(t.errors)&&!de,submitCount:t.submitCount+1,errors:t.errors}),de)throw de},Yr=(D,j={})=>{_e(r,D)&&(Nt(j.defaultValue)?X(D,Zt(_e(a,D))):(X(D,j.defaultValue),dt(a,D,Zt(j.defaultValue))),j.keepTouched||jt(t.touchedFields,D),j.keepDirty||(jt(t.dirtyFields,D),t.isDirty=j.defaultValue?O(D,Zt(_e(a,D))):O()),j.keepError||(jt(t.errors,D),v.isValid&&F()),S.state.next({...t}))},Vn=(D,j={})=>{const J=D?Zt(D):a,de=Zt(J),oe=Nn(D),le=oe?a:de;if(j.keepDefaultValues||(a=J),!j.keepValues){if(j.keepDirtyValues){const be=new Set([...d.mount,...Object.keys(Go(a,l))]);for(const Ye of Array.from(be))_e(t.dirtyFields,Ye)?dt(le,Ye,_e(l,Ye)):X(Ye,_e(le,Ye))}else{if(bg&&Nt(D))for(const be of d.mount){const Ye=_e(r,be);if(Ye&&Ye._f){const Qe=Array.isArray(Ye._f.refs)?Ye._f.refs[0]:Ye._f.ref;if(mh(Qe)){const cn=Qe.closest("form");if(cn){cn.reset();break}}}}if(j.keepFieldsRef)for(const be of d.mount)X(be,_e(le,be));else r={}}l=e.shouldUnregister?j.keepDefaultValues?Zt(a):{}:Zt(le),S.array.next({values:{...le}}),S.state.next({values:{...le}})}d={mount:j.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!v.isValid||!!j.keepIsValid||!!j.keepDirtyValues,c.watch=!!e.shouldUnregister,S.state.next({submitCount:j.keepSubmitCount?t.submitCount:0,isDirty:oe?!1:j.keepDirty?t.isDirty:!!(j.keepDefaultValues&&!Ds(D,a)),isSubmitted:j.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:oe?{}:j.keepDirtyValues?j.keepDefaultValues&&l?Go(a,l):t.dirtyFields:j.keepDefaultValues&&D?Go(a,D):j.keepDirty?t.dirtyFields:{},touchedFields:j.keepTouched?t.touchedFields:{},errors:j.keepErrors?t.errors:{},isSubmitSuccessful:j.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},Qr=(D,j)=>Vn(Si(D)?D(l):D,j),dr=(D,j={})=>{const J=_e(r,D),de=J&&J._f;if(de){const oe=de.refs?de.refs[0]:de.ref;oe.focus&&(oe.focus(),j.shouldSelect&&Si(oe.select)&&oe.select())}},Zs=D=>{t={...t,...D}},bt={control:{register:ot,unregister:ze,getFieldState:L,handleSubmit:hr,setError:fe,_subscribe:Ce,_runSchema:I,_focusError:ci,_getWatch:M,_getDirty:O,_setValid:F,_setFieldArray:$,_setDisabledField:At,_setErrors:ae,_getFieldArray:R,_reset:Vn,_resetDefaultValues:()=>Si(e.defaultValues)&&e.defaultValues().then(D=>{Qr(D,e.resetOptions),S.state.next({isLoading:!1})}),_removeUnmounted:k,_disableForm:Kr,_subjects:S,_proxyFormState:v,get _fields(){return r},get _formValues(){return l},get _state(){return c},set _state(D){c=D},get _defaultValues(){return a},get _names(){return d},set _names(D){d=D},get _formState(){return t},get _options(){return e},set _options(D){e={...e,...D}}},subscribe:Ve,trigger:Ue,register:ot,handleSubmit:hr,watch:me,setValue:X,getValues:We,reset:Qr,resetField:Yr,clearErrors:te,unregister:ze,setError:fe,setFocus:dr,getFieldState:L};return{...bt,formControl:bt}}function s2(i={}){const e=Gn.useRef(void 0),t=Gn.useRef(void 0),[r,a]=Gn.useState({isDirty:!1,isValidating:!1,isLoading:Si(i.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:i.errors||{},disabled:i.disabled||!1,isReady:!1,defaultValues:Si(i.defaultValues)?void 0:i.defaultValues});if(!e.current)if(i.formControl)e.current={...i.formControl,formState:r},i.defaultValues&&!Si(i.defaultValues)&&i.formControl.reset(i.defaultValues,i.resetOptions);else{const{formControl:c,...d}=r2(i);e.current={...d,formState:r}}const l=e.current.control;return l._options=i,qI(()=>{const c=l._subscribe({formState:l._proxyFormState,callback:()=>a({...l._formState}),reRenderRoot:!0});return a(d=>({...d,isReady:!0})),l._formState.isReady=!0,c},[l]),Gn.useEffect(()=>l._disableForm(i.disabled),[l,i.disabled]),Gn.useEffect(()=>{i.mode&&(l._options.mode=i.mode),i.reValidateMode&&(l._options.reValidateMode=i.reValidateMode)},[l,i.mode,i.reValidateMode]),Gn.useEffect(()=>{i.errors&&(l._setErrors(i.errors),l._focusError())},[l,i.errors]),Gn.useEffect(()=>{i.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,i.shouldUnregister]),Gn.useEffect(()=>{if(l._proxyFormState.isDirty){const c=l._getDirty();c!==r.isDirty&&l._subjects.state.next({isDirty:c})}},[l,r.isDirty]),Gn.useEffect(()=>{i.values&&!Ds(i.values,t.current)?(l._reset(i.values,{keepFieldsRef:!0,...l._options.resetOptions}),t.current=i.values,a(c=>({...c}))):l._resetDefaultValues()},[l,i.values]),Gn.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),e.current.formState=BI(r,l),e.current}const S0=(i,e,t)=>{if(i&&"reportValidity"in i){const r=_e(t,e);i.setCustomValidity(r&&r.message||""),i.reportValidity()}},hS=(i,e)=>{for(const t in e.fields){const r=e.fields[t];r&&r.ref&&"reportValidity"in r.ref?S0(r.ref,t,i):r&&r.refs&&r.refs.forEach(a=>S0(a,t,i))}},a2=(i,e)=>{e.shouldUseNativeValidation&&hS(i,e);const t={};for(const r in i){const a=_e(e.fields,r),l=Object.assign(i[r]||{},{ref:a&&a.ref});if(o2(e.names||Object.keys(i),r)){const c=Object.assign({},_e(t,r));dt(c,"root",l),dt(t,r,c)}else dt(t,r,l)}return t},o2=(i,e)=>{const t=A0(e);return i.some(r=>A0(r).match(`^${t}\\.\\d+`))};function A0(i){return i.replace(/\]|\[/g,"")}function l2(i,e,t){return t===void 0&&(t={}),function(r,a,l){try{return Promise.resolve((function(c,d){try{var p=(e?.context,Promise.resolve(i[t.mode==="sync"?"validateSync":"validate"](r,Object.assign({abortEarly:!1},e,{context:a}))).then(function(g){return l.shouldUseNativeValidation&&hS({},l),{values:t.raw?Object.assign({},r):g,errors:{}}}))}catch(g){return d(g)}return p&&p.then?p.then(void 0,d):p})(0,function(c){if(!c.inner)throw c;return{values:{},errors:a2((d=c,p=!l.shouldUseNativeValidation&&l.criteriaMode==="all",(d.inner||[]).reduce(function(g,v){if(g[v.path]||(g[v.path]={message:v.message,type:v.type}),p){var T=g[v.path].types,S=T&&T[v.type];g[v.path]=sS(v.path,p,g,v.type,S?[].concat(S,v.message):v.message)}return g},{})),l)};var d,p}))}catch(c){return Promise.reject(c)}}}const u2=()=>{};var w0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=function(i){const e=[];let t=0;for(let r=0;r<i.length;r++){let a=i.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},c2=function(i){const e=[];let t=0,r=0;for(;t<i.length;){const a=i[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=i[t++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=i[t++],c=i[t++],d=i[t++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const l=i[t++],c=i[t++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},mS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<i.length;a+=3){const l=i[a],c=a+1<i.length,d=c?i[a+1]:0,p=a+2<i.length,g=p?i[a+2]:0,v=l>>2,T=(l&3)<<4|d>>4;let S=(d&15)<<2|g>>6,x=g&63;p||(x=64,c||(S=64)),r.push(t[v],t[T],t[S],t[x])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(dS(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):c2(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<i.length;){const l=t[i.charAt(a++)],d=a<i.length?t[i.charAt(a)]:0;++a;const g=a<i.length?t[i.charAt(a)]:64;++a;const T=a<i.length?t[i.charAt(a)]:64;if(++a,l==null||d==null||g==null||T==null)throw new f2;const S=l<<2|d>>4;if(r.push(S),g!==64){const x=d<<4&240|g>>2;if(r.push(x),T!==64){const U=g<<6&192|T;r.push(U)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class f2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const h2=function(i){const e=dS(i);return mS.encodeByteArray(e,!0)},gh=function(i){return h2(i).replace(/\./g,"")},pS=function(i){try{return mS.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=()=>d2().__FIREBASE_DEFAULTS__,p2=()=>{if(typeof process>"u"||typeof w0>"u")return;const i=w0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},g2=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&pS(i[1]);return e&&JSON.parse(e)},qh=()=>{try{return u2()||m2()||p2()||g2()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},gS=i=>qh()?.emulatorHosts?.[i],y2=i=>{const e=gS(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},yS=()=>qh()?.config,_S=i=>qh()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vS(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...i};return[gh(JSON.stringify(t)),gh(JSON.stringify(c)),""].join(".")}const Mu={};function E2(){const i={prod:[],emulator:[]};for(const e of Object.keys(Mu))Mu[e]?i.emulator.push(e):i.prod.push(e);return i}function T2(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let R0=!1;function ES(i,e){if(typeof window>"u"||typeof document>"u"||!dl(window.location.host)||Mu[i]===e||Mu[i]||R0)return;Mu[i]=e;function t(S){return`__firebase__banner__${S}`}const r="__firebase__banner",l=E2().prod.length>0;function c(){const S=document.getElementById(r);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,x){S.setAttribute("width","24"),S.setAttribute("id",x),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{R0=!0,c()},S}function v(S,x){S.setAttribute("id",x),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=T2(r),x=t("text"),U=document.getElementById(x)||document.createElement("span"),F=t("learnmore"),G=document.getElementById(F)||document.createElement("a"),$=t("preprendIcon"),H=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const ae=S.element;d(ae),v(G,F);const ve=g();p(H,$),ae.append(H,U,G,ve),document.body.appendChild(ae)}l?(U.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function b2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function S2(){const i=qh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function A2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TS(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function w2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function R2(){const i=gn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function C2(){return!S2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bS(){try{return typeof indexedDB=="object"}catch{return!1}}function SS(){return new Promise((i,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),i(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}function I2(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="FirebaseError";class Ni extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=O2,Object.setPrototypeOf(this,Ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qa.prototype.create)}}class qa{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?D2(l,r):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Ni(a,d,r)}}function D2(i,e){return i.replace(N2,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const N2=/\{\$([^}]+)}/g;function x2(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Bs(i,e){if(i===e)return!0;const t=Object.keys(i),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const l=i[a],c=e[a];if(C0(l)&&C0(c)){if(!Bs(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function C0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(i){const e=[];for(const[t,r]of Object.entries(i))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Au(i){const e={};return i.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function wu(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function M2(i,e){const t=new V2(i,e);return t.subscribe.bind(t)}class V2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");k2(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=gp),a.error===void 0&&(a.error=gp),a.complete===void 0&&(a.complete=gp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function k2(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function gp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=1e3,P2=2,U2=14400*1e3,z2=.5;function I0(i,e=L2,t=P2){const r=e*Math.pow(t,i),a=Math.round(z2*r*(Math.random()-.5)*2);return Math.min(U2,r+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(i){return i&&i._delegate?i._delegate:i}class Ci{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new _2;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(B2(e))try{this.getOrInitializeService({instanceIdentifier:Ia})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=Ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ia){return this.instances.has(e)}getOptions(e=Ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);r===d&&c.resolve(a)}return a}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:j2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ia){return this.component?this.component.multipleInstances?e:Ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function j2(i){return i===Ia?void 0:i}function B2(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new F2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(He||(He={}));const H2={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},G2=He.INFO,$2={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},K2=(i,e,...t)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),a=$2[e];if(a)console[a](`[${r}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hh{constructor(e){this.name=e,this._logLevel=G2,this._logHandler=K2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?H2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const Y2=(i,e)=>e.some(t=>i instanceof t);let O0,D0;function Q2(){return O0||(O0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function X2(){return D0||(D0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AS=new WeakMap,zp=new WeakMap,wS=new WeakMap,yp=new WeakMap,Cg=new WeakMap;function W2(i){const e=new Promise((t,r)=>{const a=()=>{i.removeEventListener("success",l),i.removeEventListener("error",c)},l=()=>{t(Ls(i.result)),a()},c=()=>{r(i.error),a()};i.addEventListener("success",l),i.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&AS.set(t,i)}).catch(()=>{}),Cg.set(e,i),e}function J2(i){if(zp.has(i))return;const e=new Promise((t,r)=>{const a=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",c),i.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{r(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",l),i.addEventListener("error",c),i.addEventListener("abort",c)});zp.set(i,e)}let Fp={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return zp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||wS.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ls(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function Z2(i){Fp=i(Fp)}function eO(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=i.call(_p(this),e,...t);return wS.set(r,e.sort?e.sort():[e]),Ls(r)}:X2().includes(i)?function(...e){return i.apply(_p(this),e),Ls(AS.get(this))}:function(...e){return Ls(i.apply(_p(this),e))}}function tO(i){return typeof i=="function"?eO(i):(i instanceof IDBTransaction&&J2(i),Y2(i,Q2())?new Proxy(i,Fp):i)}function Ls(i){if(i instanceof IDBRequest)return W2(i);if(yp.has(i))return yp.get(i);const e=tO(i);return e!==i&&(yp.set(i,e),Cg.set(e,i)),e}const _p=i=>Cg.get(i);function RS(i,e,{blocked:t,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(i,e),d=Ls(c);return r&&c.addEventListener("upgradeneeded",p=>{r(Ls(c.result),p.oldVersion,p.newVersion,Ls(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const nO=["get","getKey","getAll","getAllKeys","count"],iO=["put","add","delete","clear"],vp=new Map;function N0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(vp.get(e))return vp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=iO.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||nO.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,a?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),a&&p.done]))[0]};return vp.set(e,l),l}Z2(i=>({...i,get:(e,t,r)=>N0(e,t)||i.get(e,t,r),has:(e,t)=>!!N0(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(sO(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function sO(i){return i.getComponent()?.type==="VERSION"}const jp="@firebase/app",x0="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr=new Hh("@firebase/app"),aO="@firebase/app-compat",oO="@firebase/analytics-compat",lO="@firebase/analytics",uO="@firebase/app-check-compat",cO="@firebase/app-check",fO="@firebase/auth",hO="@firebase/auth-compat",dO="@firebase/database",mO="@firebase/data-connect",pO="@firebase/database-compat",gO="@firebase/functions",yO="@firebase/functions-compat",_O="@firebase/installations",vO="@firebase/installations-compat",EO="@firebase/messaging",TO="@firebase/messaging-compat",bO="@firebase/performance",SO="@firebase/performance-compat",AO="@firebase/remote-config",wO="@firebase/remote-config-compat",RO="@firebase/storage",CO="@firebase/storage-compat",IO="@firebase/firestore",OO="@firebase/ai",DO="@firebase/firestore-compat",NO="firebase",xO="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp="[DEFAULT]",MO={[jp]:"fire-core",[aO]:"fire-core-compat",[lO]:"fire-analytics",[oO]:"fire-analytics-compat",[cO]:"fire-app-check",[uO]:"fire-app-check-compat",[fO]:"fire-auth",[hO]:"fire-auth-compat",[dO]:"fire-rtdb",[mO]:"fire-data-connect",[pO]:"fire-rtdb-compat",[gO]:"fire-fn",[yO]:"fire-fn-compat",[_O]:"fire-iid",[vO]:"fire-iid-compat",[EO]:"fire-fcm",[TO]:"fire-fcm-compat",[bO]:"fire-perf",[SO]:"fire-perf-compat",[AO]:"fire-rc",[wO]:"fire-rc-compat",[RO]:"fire-gcs",[CO]:"fire-gcs-compat",[IO]:"fire-fst",[DO]:"fire-fst-compat",[OO]:"fire-vertex","fire-js":"fire-js",[NO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=new Map,VO=new Map,qp=new Map;function M0(i,e){try{i.container.addComponent(e)}catch(t){qr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function lr(i){const e=i.name;if(qp.has(e))return qr.debug(`There were multiple attempts to register component ${e}.`),!1;qp.set(e,i);for(const t of yh.values())M0(t,i);for(const t of VO.values())M0(t,i);return!0}function Ha(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function ai(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ps=new qa("app","Firebase",kO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ci("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ps.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml=xO;function CS(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const r={name:Bp,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Ps.create("bad-app-name",{appName:String(a)});if(t||(t=yS()),!t)throw Ps.create("no-options");const l=yh.get(a);if(l){if(Bs(t,l.options)&&Bs(r,l.config))return l;throw Ps.create("duplicate-app",{appName:a})}const c=new q2(a);for(const p of qp.values())c.addComponent(p);const d=new LO(t,r,c);return yh.set(a,d),d}function Ig(i=Bp){const e=yh.get(i);if(!e&&i===Bp&&yS())return CS();if(!e)throw Ps.create("no-app",{appName:i});return e}function ui(i,e,t){let r=MO[i]??i;t&&(r+=`-${t}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${r}" with version "${e}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qr.warn(c.join(" "));return}lr(new Ci(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO="firebase-heartbeat-database",UO=1,Bu="firebase-heartbeat-store";let Ep=null;function IS(){return Ep||(Ep=RS(PO,UO,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Bu)}catch(t){console.warn(t)}}}}).catch(i=>{throw Ps.create("idb-open",{originalErrorMessage:i.message})})),Ep}async function zO(i){try{const t=(await IS()).transaction(Bu),r=await t.objectStore(Bu).get(OS(i));return await t.done,r}catch(e){if(e instanceof Ni)qr.warn(e.message);else{const t=Ps.create("idb-get",{originalErrorMessage:e?.message});qr.warn(t.message)}}}async function V0(i,e){try{const r=(await IS()).transaction(Bu,"readwrite");await r.objectStore(Bu).put(e,OS(i)),await r.done}catch(t){if(t instanceof Ni)qr.warn(t.message);else{const r=Ps.create("idb-set",{originalErrorMessage:t?.message});qr.warn(r.message)}}}function OS(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=1024,jO=30;class BO{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new HO(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=k0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>jO){const a=GO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){qr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=k0(),{heartbeatsToSend:t,unsentEntries:r}=qO(this._heartbeatsCache.heartbeats),a=gh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return qr.warn(e),""}}}function k0(){return new Date().toISOString().substring(0,10)}function qO(i,e=FO){const t=[];let r=i.slice();for(const a of i){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),L0(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),L0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class HO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bS()?SS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await zO(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return V0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return V0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function L0(i){return gh(JSON.stringify({version:2,heartbeats:i})).length}function GO(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let r=1;r<i.length;r++)i[r].date<t&&(t=i[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(i){lr(new Ci("platform-logger",e=>new rO(e),"PRIVATE")),lr(new Ci("heartbeat",e=>new BO(e),"PRIVATE")),ui(jp,x0,i),ui(jp,x0,"esm2020"),ui("fire-js","")}$O("");var KO="firebase",YO="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ui(KO,YO,"app");const DS="@firebase/installations",Og="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS=1e4,xS=`w:${Og}`,MS="FIS_v2",QO="https://firebaseinstallations.googleapis.com/v1",XO=3600*1e3,WO="installations",JO="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},La=new qa(WO,JO,ZO);function VS(i){return i instanceof Ni&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS({projectId:i}){return`${QO}/projects/${i}/installations`}function LS(i){return{token:i.token,requestStatus:2,expiresIn:tD(i.expiresIn),creationTime:Date.now()}}async function PS(i,e){const r=(await e.json()).error;return La.create("request-failed",{requestName:i,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function US({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function eD(i,{refreshToken:e}){const t=US(i);return t.append("Authorization",nD(e)),t}async function zS(i){const e=await i();return e.status>=500&&e.status<600?i():e}function tD(i){return Number(i.replace("s","000"))}function nD(i){return`${MS} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD({appConfig:i,heartbeatServiceProvider:e},{fid:t}){const r=kS(i),a=US(i),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const c={fid:t,authVersion:MS,appId:i.appId,sdkVersion:xS},d={method:"POST",headers:a,body:JSON.stringify(c)},p=await zS(()=>fetch(r,d));if(p.ok){const g=await p.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:LS(g.authToken)}}else throw await PS("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=/^[cdef][\w-]{21}$/,Hp="";function aD(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const t=oD(i);return sD.test(t)?t:Hp}catch{return Hp}}function oD(i){return rD(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS=new Map;function BS(i,e){const t=Gh(i);qS(t,e),lD(t,e)}function qS(i,e){const t=jS.get(i);if(t)for(const r of t)r(e)}function lD(i,e){const t=uD();t&&t.postMessage({key:i,fid:e}),cD()}let Da=null;function uD(){return!Da&&"BroadcastChannel"in self&&(Da=new BroadcastChannel("[Firebase] FID Change"),Da.onmessage=i=>{qS(i.data.key,i.data.fid)}),Da}function cD(){jS.size===0&&Da&&(Da.close(),Da=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD="firebase-installations-database",hD=1,Pa="firebase-installations-store";let Tp=null;function Dg(){return Tp||(Tp=RS(fD,hD,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(Pa)}}})),Tp}async function _h(i,e){const t=Gh(i),a=(await Dg()).transaction(Pa,"readwrite"),l=a.objectStore(Pa),c=await l.get(t);return await l.put(e,t),await a.done,(!c||c.fid!==e.fid)&&BS(i,e.fid),e}async function HS(i){const e=Gh(i),r=(await Dg()).transaction(Pa,"readwrite");await r.objectStore(Pa).delete(e),await r.done}async function $h(i,e){const t=Gh(i),a=(await Dg()).transaction(Pa,"readwrite"),l=a.objectStore(Pa),c=await l.get(t),d=e(c);return d===void 0?await l.delete(t):await l.put(d,t),await a.done,d&&(!c||c.fid!==d.fid)&&BS(i,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ng(i){let e;const t=await $h(i.appConfig,r=>{const a=dD(r),l=mD(i,a);return e=l.registrationPromise,l.installationEntry});return t.fid===Hp?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function dD(i){const e=i||{fid:aD(),registrationStatus:0};return GS(e)}function mD(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(La.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=pD(i,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:gD(i)}:{installationEntry:e}}async function pD(i,e){try{const t=await iD(i,e);return _h(i.appConfig,t)}catch(t){throw VS(t)&&t.customData.serverCode===409?await HS(i.appConfig):await _h(i.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function gD(i){let e=await P0(i.appConfig);for(;e.registrationStatus===1;)await FS(100),e=await P0(i.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await Ng(i);return r||t}return e}function P0(i){return $h(i,e=>{if(!e)throw La.create("installation-not-found");return GS(e)})}function GS(i){return yD(i)?{fid:i.fid,registrationStatus:0}:i}function yD(i){return i.registrationStatus===1&&i.registrationTime+NS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _D({appConfig:i,heartbeatServiceProvider:e},t){const r=vD(i,t),a=eD(i,t),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const c={installation:{sdkVersion:xS,appId:i.appId}},d={method:"POST",headers:a,body:JSON.stringify(c)},p=await zS(()=>fetch(r,d));if(p.ok){const g=await p.json();return LS(g)}else throw await PS("Generate Auth Token",p)}function vD(i,{fid:e}){return`${kS(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xg(i,e=!1){let t;const r=await $h(i.appConfig,l=>{if(!$S(l))throw La.create("not-registered");const c=l.authToken;if(!e&&bD(c))return l;if(c.requestStatus===1)return t=ED(i,e),l;{if(!navigator.onLine)throw La.create("app-offline");const d=AD(l);return t=TD(i,d),d}});return t?await t:r.authToken}async function ED(i,e){let t=await U0(i.appConfig);for(;t.authToken.requestStatus===1;)await FS(100),t=await U0(i.appConfig);const r=t.authToken;return r.requestStatus===0?xg(i,e):r}function U0(i){return $h(i,e=>{if(!$S(e))throw La.create("not-registered");const t=e.authToken;return wD(t)?{...e,authToken:{requestStatus:0}}:e})}async function TD(i,e){try{const t=await _D(i,e),r={...e,authToken:t};return await _h(i.appConfig,r),t}catch(t){if(VS(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await HS(i.appConfig);else{const r={...e,authToken:{requestStatus:0}};await _h(i.appConfig,r)}throw t}}function $S(i){return i!==void 0&&i.registrationStatus===2}function bD(i){return i.requestStatus===2&&!SD(i)}function SD(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+XO}function AD(i){const e={requestStatus:1,requestTime:Date.now()};return{...i,authToken:e}}function wD(i){return i.requestStatus===1&&i.requestTime+NS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RD(i){const e=i,{installationEntry:t,registrationPromise:r}=await Ng(e);return r?r.catch(console.error):xg(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CD(i,e=!1){const t=i;return await ID(t),(await xg(t,e)).token}async function ID(i){const{registrationPromise:e}=await Ng(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(i){if(!i||!i.options)throw bp("App Configuration");if(!i.name)throw bp("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!i.options[t])throw bp(t);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function bp(i){return La.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS="installations",DD="installations-internal",ND=i=>{const e=i.getProvider("app").getImmediate(),t=OD(e),r=Ha(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},xD=i=>{const e=i.getProvider("app").getImmediate(),t=Ha(e,KS).getImmediate();return{getId:()=>RD(t),getToken:a=>CD(t,a)}};function MD(){lr(new Ci(KS,ND,"PUBLIC")),lr(new Ci(DD,xD,"PRIVATE"))}MD();ui(DS,Og);ui(DS,Og,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh="analytics",VD="firebase_id",kD="origin",LD=60*1e3,PD="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Mg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn=new Hh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Kn=new qa("analytics","Analytics",UD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(i){if(!i.startsWith(Mg)){const e=Kn.create("invalid-gtag-resource",{gtagURL:i});return Tn.warn(e.message),""}return i}function YS(i){return Promise.all(i.map(e=>e.catch(t=>t)))}function FD(i,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(i,e)),t}function jD(i,e){const t=FD("firebase-js-sdk-policy",{createScriptURL:zD}),r=document.createElement("script"),a=`${Mg}?l=${i}&id=${e}`;r.src=t?t?.createScriptURL(a):a,r.async=!0,document.head.appendChild(r)}function BD(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function qD(i,e,t,r,a,l){const c=r[a];try{if(c)await e[c];else{const p=(await YS(t)).find(g=>g.measurementId===a);p&&await e[p.appId]}}catch(d){Tn.error(d)}i("config",a,l)}async function HD(i,e,t,r,a){try{let l=[];if(a&&a.send_to){let c=a.send_to;Array.isArray(c)||(c=[c]);const d=await YS(t);for(const p of c){const g=d.find(T=>T.measurementId===p),v=g&&e[g.appId];if(v)l.push(v);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),i("event",r,a||{})}catch(l){Tn.error(l)}}function GD(i,e,t,r){async function a(l,...c){try{if(l==="event"){const[d,p]=c;await HD(i,e,t,d,p)}else if(l==="config"){const[d,p]=c;await qD(i,e,t,r,d,p)}else if(l==="consent"){const[d,p]=c;i("consent",d,p)}else if(l==="get"){const[d,p,g]=c;i("get",d,p,g)}else if(l==="set"){const[d]=c;i("set",d)}else i(l,...c)}catch(d){Tn.error(d)}}return a}function $D(i,e,t,r,a){let l=function(...c){window[r].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=GD(l,i,e,t),{gtagCore:l,wrappedGtag:window[a]}}function KD(i){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Mg)&&t.src.includes(i))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=30,QD=1e3;class XD{constructor(e={},t=QD){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const QS=new XD;function WD(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function JD(i){const{appId:e,apiKey:t}=i,r={method:"GET",headers:WD(t)},a=PD.replace("{app-id}",e),l=await fetch(a,r);if(l.status!==200&&l.status!==304){let c="";try{const d=await l.json();d.error?.message&&(c=d.error.message)}catch{}throw Kn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:c})}return l.json()}async function ZD(i,e=QS,t){const{appId:r,apiKey:a,measurementId:l}=i.options;if(!r)throw Kn.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:r};throw Kn.create("no-api-key")}const c=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new nN;return setTimeout(async()=>{d.abort()},LD),XS({appId:r,apiKey:a,measurementId:l},c,d,e)}async function XS(i,{throttleEndTimeMillis:e,backoffCount:t},r,a=QS){const{appId:l,measurementId:c}=i;try{await eN(r,e)}catch(d){if(c)return Tn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:l,measurementId:c};throw d}try{const d=await JD(i);return a.deleteThrottleMetadata(l),d}catch(d){const p=d;if(!tN(p)){if(a.deleteThrottleMetadata(l),c)return Tn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:l,measurementId:c};throw d}const g=Number(p?.customData?.httpStatus)===503?I0(t,a.intervalMillis,YD):I0(t,a.intervalMillis),v={throttleEndTimeMillis:Date.now()+g,backoffCount:t+1};return a.setThrottleMetadata(l,v),Tn.debug(`Calling attemptFetch again in ${g} millis`),XS(i,v,r,a)}}function eN(i,e){return new Promise((t,r)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(t,a);i.addEventListener(()=>{clearTimeout(l),r(Kn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function tN(i){if(!(i instanceof Ni)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class nN{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function iN(i,e,t,r,a){if(a&&a.global){i("event",t,r);return}else{const l=await e,c={...r,send_to:l};i("event",t,c)}}async function rN(i,e,t,r){if(r&&r.global){const a={};for(const l of Object.keys(t))a[`user_properties.${l}`]=t[l];return i("set",a),Promise.resolve()}else{const a=await e;i("config",a,{update:!0,user_properties:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sN(){if(bS())try{await SS()}catch(i){return Tn.warn(Kn.create("indexeddb-unavailable",{errorInfo:i?.toString()}).message),!1}else return Tn.warn(Kn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function aN(i,e,t,r,a,l,c){const d=ZD(i);d.then(S=>{t[S.measurementId]=S.appId,i.options.measurementId&&S.measurementId!==i.options.measurementId&&Tn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>Tn.error(S)),e.push(d);const p=sN().then(S=>{if(S)return r.getId()}),[g,v]=await Promise.all([d,p]);KD(l)||jD(l,g.measurementId),a("js",new Date);const T=c?.config??{};return T[kD]="firebase",T.update=!0,v!=null&&(T[VD]=v),a("config",g.measurementId,T),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e){this.app=e}_delete(){return delete Jo[this.app.options.appId],Promise.resolve()}}let Jo={},z0=[];const F0={};let Sp="dataLayer",lN="gtag",j0,Vg,B0=!1;function uN(){const i=[];if(TS()&&i.push("This is a browser extension environment."),I2()||i.push("Cookies are not available."),i.length>0){const e=i.map((r,a)=>`(${a+1}) ${r}`).join(" "),t=Kn.create("invalid-analytics-context",{errorInfo:e});Tn.warn(t.message)}}function cN(i,e,t){uN();const r=i.options.appId;if(!r)throw Kn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)Tn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Kn.create("no-api-key");if(Jo[r]!=null)throw Kn.create("already-exists",{id:r});if(!B0){BD(Sp);const{wrappedGtag:l,gtagCore:c}=$D(Jo,z0,F0,Sp,lN);Vg=l,j0=c,B0=!0}return Jo[r]=aN(i,z0,F0,e,j0,Sp,t),new oN(i)}function fN(i=Ig()){i=Qt(i);const e=Ha(i,vh);return e.isInitialized()?e.getImmediate():hN(i)}function hN(i,e={}){const t=Ha(i,vh);if(t.isInitialized()){const a=t.getImmediate();if(Bs(e,t.getOptions()))return a;throw Kn.create("already-initialized")}return t.initialize({options:e})}function dN(i,e,t){i=Qt(i),rN(Vg,Jo[i.app.options.appId],e,t).catch(r=>Tn.error(r))}function mN(i,e,t,r){i=Qt(i),iN(Vg,Jo[i.app.options.appId],e,t,r).catch(a=>Tn.error(a))}const q0="@firebase/analytics",H0="0.10.19";function pN(){lr(new Ci(vh,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return cN(r,a,t)},"PUBLIC")),lr(new Ci("analytics-internal",i,"PRIVATE")),ui(q0,H0),ui(q0,H0,"esm2020");function i(e){try{const t=e.getProvider(vh).getImmediate();return{logEvent:(r,a,l)=>mN(t,r,a,l),setUserProperties:(r,a)=>dN(t,r,a)}}catch(t){throw Kn.create("interop-component-reg-failed",{reason:t})}}}pN();function WS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gN=WS,JS=new qa("auth","Firebase",WS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=new Hh("@firebase/auth");function yN(i,...e){Eh.logLevel<=He.WARN&&Eh.warn(`Auth (${ml}): ${i}`,...e)}function eh(i,...e){Eh.logLevel<=He.ERROR&&Eh.error(`Auth (${ml}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(i,...e){throw kg(i,...e)}function nr(i,...e){return kg(i,...e)}function ZS(i,e,t){const r={...gN(),[e]:t};return new qa("auth","Firebase",r).create(e,{appName:i.name})}function Fr(i){return ZS(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kg(i,...e){if(typeof i!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(t,...r)}return JS.create(i,...e)}function Ie(i,e,...t){if(!i)throw kg(e,...t)}function Pr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw eh(e),new Error(e)}function Hr(i,e){i||Pr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(){return typeof self<"u"&&self.location?.href||""}function _N(){return G0()==="http:"||G0()==="https:"}function G0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_N()||TS()||"connection"in navigator)?navigator.onLine:!0}function EN(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Hr(t>e,"Short delay should be less than long delay!"),this.isMobile=b2()||w2()}get(){return vN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(i,e){Hr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],SN=new oc(3e4,6e4);function Xs(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Ws(i,e,t,r,a={}){return tA(i,a,async()=>{let l={},c={};r&&(e==="GET"?c=r:l={body:JSON.stringify(r)});const d=ac({key:i.config.apiKey,...c}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...l};return A2()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&dl(i.emulatorConfig.host)&&(g.credentials="include"),eA.fetch()(await nA(i,i.config.apiHost,t,d),g)})}async function tA(i,e,t){i._canInitEmulator=!1;const r={...TN,...e};try{const a=new wN(i),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Hf(i,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hf(i,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Hf(i,"email-already-in-use",c);if(p==="USER_DISABLED")throw Hf(i,"user-disabled",c);const v=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw ZS(i,v,g);Ii(i,v)}}catch(a){if(a instanceof Ni)throw a;Ii(i,"network-request-failed",{message:String(a)})}}async function lc(i,e,t,r,a={}){const l=await Ws(i,e,t,r,a);return"mfaPendingCredential"in l&&Ii(i,"multi-factor-auth-required",{_serverResponse:l}),l}async function nA(i,e,t,r){const a=`${e}${t}?${r}`,l=i,c=l.config.emulator?Lg(i.config,a):`${i.config.apiScheme}://${a}`;return bN.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function AN(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(nr(this.auth,"network-request-failed")),SN.get())})}}function Hf(i,e,t){const r={appName:i.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=nr(i,e,r);return a.customData._tokenResponse=t,a}function $0(i){return i!==void 0&&i.enterprise!==void 0}class RN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return AN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function CN(i,e){return Ws(i,"GET","/v2/recaptchaConfig",Xs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IN(i,e){return Ws(i,"POST","/v1/accounts:delete",e)}async function Th(i,e){return Ws(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ON(i,e=!1){const t=Qt(i),r=await t.getIdToken(e),a=Pg(r);Ie(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:r,authTime:Vu(Ap(a.auth_time)),issuedAtTime:Vu(Ap(a.iat)),expirationTime:Vu(Ap(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Ap(i){return Number(i)*1e3}function Pg(i){const[e,t,r]=i.split(".");if(e===void 0||t===void 0||r===void 0)return eh("JWT malformed, contained fewer than 3 sections"),null;try{const a=pS(t);return a?JSON.parse(a):(eh("Failed to decode base64 JWT payload"),null)}catch(a){return eh("Caught error parsing JWT payload as JSON",a?.toString()),null}}function K0(i){const e=Pg(i);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qu(i,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ni&&DN(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function DN({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vu(this.lastLoginAt),this.creationTime=Vu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bh(i){const e=i.auth,t=await i.getIdToken(),r=await qu(i,Th(e,{idToken:t}));Ie(r?.users.length,e,"internal-error");const a=r.users[0];i._notifyReloadListener(a);const l=a.providerUserInfo?.length?iA(a.providerUserInfo):[],c=MN(i.providerData,l),d=i.isAnonymous,p=!(i.email&&a.passwordHash)&&!c?.length,g=d?p:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new $p(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(i,v)}async function xN(i){const e=Qt(i);await bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function MN(i,e){return[...i.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function iA(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VN(i,e){const t=await tA(i,{},async()=>{const r=ac({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=i.config,c=await nA(i,a,"/v1/token",`key=${l}`),d=await i._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:r};return i.emulatorConfig&&dl(i.emulatorConfig.host)&&(p.credentials="include"),eA.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function kN(i,e){return Ws(i,"POST","/v2/accounts:revokeToken",Xs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):K0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const t=K0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:l}=await VN(e,t);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:l}=t,c=new Zo;return r&&(Ie(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(Ie(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ie(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zo,this.toJSON())}_performRefresh(){return Pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(i,e){Ie(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Ai{constructor({uid:e,auth:t,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new NN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new $p(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await qu(this,this.stsTokenManager.getToken(this.auth,e));return Ie(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return ON(this,e)}reload(){return xN(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ai({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await bh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ai(this.auth.app))return Promise.reject(Fr(this.auth));const e=await this.getIdToken();return await qu(this,IN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:T,emailVerified:S,isAnonymous:x,providerData:U,stsTokenManager:F}=t;Ie(T&&F,e,"internal-error");const G=Zo.fromJSON(this.name,F);Ie(typeof T=="string",e,"internal-error"),Cs(r,e.name),Cs(a,e.name),Ie(typeof S=="boolean",e,"internal-error"),Ie(typeof x=="boolean",e,"internal-error"),Cs(l,e.name),Cs(c,e.name),Cs(d,e.name),Cs(p,e.name),Cs(g,e.name),Cs(v,e.name);const $=new Ai({uid:T,auth:e,email:a,emailVerified:S,displayName:r,isAnonymous:x,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:G,createdAt:g,lastLoginAt:v});return U&&Array.isArray(U)&&($.providerData=U.map(H=>({...H}))),p&&($._redirectEventId=p),$}static async _fromIdTokenResponse(e,t,r=!1){const a=new Zo;a.updateFromServerResponse(t);const l=new Ai({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await bh(l),l}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];Ie(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?iA(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new Zo;d.updateFromIdToken(r);const p=new Ai({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new $p(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0=new Map;function Ur(i){Hr(i instanceof Function,"Expected a class definition");let e=Y0.get(i);return e?(Hr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Y0.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}rA.type="NONE";const Q0=rA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(i,e,t){return`firebase:${i}:${e}:${t}`}class el{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=th(this.userKey,a.apiKey,l),this.fullPersistenceKey=th("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Th(this.auth,{idToken:e}).catch(()=>{});return t?Ai._fromGetAccountInfoResponse(this.auth,t,e):null}return Ai._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new el(Ur(Q0),e,r);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Ur(Q0);const c=th(r,e.config.apiKey,e.name);let d=null;for(const g of t)try{const v=await g._get(c);if(v){let T;if(typeof v=="string"){const S=await Th(e,{idToken:v}).catch(()=>{});if(!S)break;T=await Ai._fromGetAccountInfoResponse(e,S,v)}else T=Ai._fromJSON(e,v);g!==l&&(d=T),l=g;break}}catch{}const p=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new el(l,e,r):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new el(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cA(e))return"Blackberry";if(fA(e))return"Webos";if(aA(e))return"Safari";if((e.includes("chrome/")||oA(e))&&!e.includes("edge/"))return"Chrome";if(uA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(t);if(r?.length===2)return r[1]}return"Other"}function sA(i=gn()){return/firefox\//i.test(i)}function aA(i=gn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oA(i=gn()){return/crios\//i.test(i)}function lA(i=gn()){return/iemobile/i.test(i)}function uA(i=gn()){return/android/i.test(i)}function cA(i=gn()){return/blackberry/i.test(i)}function fA(i=gn()){return/webos/i.test(i)}function Ug(i=gn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function LN(i=gn()){return Ug(i)&&!!window.navigator?.standalone}function PN(){return R2()&&document.documentMode===10}function hA(i=gn()){return Ug(i)||uA(i)||fA(i)||cA(i)||/windows phone/i.test(i)||lA(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(i,e=[]){let t;switch(i){case"Browser":t=X0(gn());break;case"Worker":t=`${X0(gn())}-${i}`;break;default:t=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ml}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zN(i,e={}){return Ws(i,"GET","/v2/passwordPolicy",Xs(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=6;class jN{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??FN,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new W0(this),this.idTokenSubscription=new W0(this),this.beforeStateQueue=new UN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ur(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await el.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Th(this,{idToken:e}),r=await Ai._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ai(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(r=d.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await bh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=EN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ai(this.app))return Promise.reject(Fr(this));const t=e?Qt(e):null;return t&&Ie(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ai(this.app)?Promise.reject(Fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ai(this.app)?Promise.reject(Fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ur(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zN(this),t=new jN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qa("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await kN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ur(e)||this._popupRedirectResolver;Ie(t,this,"argument-error"),this.redirectPersistenceManager=await el.create(this,[Ur(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,r,a);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ai(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&yN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ga(i){return Qt(i)}class W0{constructor(e){this.auth=e,this.observer=null,this.addObserver=M2(t=>this.observer=t)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qN(i){Kh=i}function mA(i){return Kh.loadJS(i)}function HN(){return Kh.recaptchaEnterpriseScript}function GN(){return Kh.gapiScript}function $N(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class KN{constructor(){this.enterprise=new YN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class YN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const QN="recaptcha-enterprise",pA="NO_RECAPTCHA";class XN{constructor(e){this.type=QN,this.auth=Ga(e)}async verify(e="verify",t=!1){async function r(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{CN(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new RN(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(p=>{d(p)})})}function a(l,c,d){const p=window.grecaptcha;$0(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(pA)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new KN().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{r(this.auth).then(d=>{if(!t&&$0(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=HN();p.length!==0&&(p+=d),mA(p).then(()=>{a(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function J0(i,e,t,r=!1,a=!1){const l=new XN(i);let c;if(a)c=pA;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Kp(i,e,t,r,a){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await J0(i,e,t,t==="getOobCode");return r(i,l)}else return r(i,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await J0(i,e,t,t==="getOobCode");return r(i,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(i,e){const t=Ha(i,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Bs(l,e??{}))return a;Ii(a,"already-initialized")}return t.initialize({options:e})}function JN(i,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ur);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e?.popupRedirectResolver)}function ZN(i,e,t){const r=Ga(i);Ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=gA(e),{host:c,port:d}=ex(e),p=d===null?"":`:${d}`,g={url:`${l}//${c}${p}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ie(Bs(g,r.config.emulator)&&Bs(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,dl(c)?(vS(`${l}//${c}${p}`),ES("Auth",!0)):tx()}function gA(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function ex(i){const e=gA(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:Z0(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:Z0(c)}}}function Z0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function tx(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Pr("not implemented")}_getIdTokenResponse(e){return Pr("not implemented")}_linkToIdToken(e,t){return Pr("not implemented")}_getReauthenticationResolver(e){return Pr("not implemented")}}async function nx(i,e){return Ws(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ix(i,e){return lc(i,"POST","/v1/accounts:signInWithPassword",Xs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rx(i,e){return lc(i,"POST","/v1/accounts:signInWithEmailLink",Xs(i,e))}async function sx(i,e){return lc(i,"POST","/v1/accounts:signInWithEmailLink",Xs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu extends zg{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Hu(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Hu(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kp(e,t,"signInWithPassword",ix);case"emailLink":return rx(e,{email:this._email,oobCode:this._password});default:Ii(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kp(e,r,"signUpPassword",nx);case"emailLink":return sx(e,{idToken:t,email:this._email,oobCode:this._password});default:Ii(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tl(i,e){return lc(i,"POST","/v1/accounts:signInWithIdp",Xs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax="http://localhost";class Ua extends zg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ua(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ii("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...l}=t;if(!r||!a)return null;const c=new Ua(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return tl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,tl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,tl(e,t)}buildRequest(){const e={requestUri:ax,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ac(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lx(i){const e=Au(wu(i)).link,t=e?Au(wu(e)).deep_link_id:null,r=Au(wu(i)).deep_link_id;return(r?Au(wu(r)).link:null)||r||t||e||i}class Fg{constructor(e){const t=Au(wu(e)),r=t.apiKey??null,a=t.oobCode??null,l=ox(t.mode??null);Ie(r&&a&&l,"argument-error"),this.apiKey=r,this.operation=l,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=lx(e);try{return new Fg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(){this.providerId=pl.PROVIDER_ID}static credential(e,t){return Hu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Fg.parseLink(t);return Ie(r,"argument-error"),Hu._fromEmailAndCode(e,r.code,r.tenantId)}}pl.PROVIDER_ID="password";pl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends yA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends uc{constructor(){super("facebook.com")}static credential(e){return Ua._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ns.credential(e.oauthAccessToken)}catch{return null}}}Ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ns.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends uc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ua._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return xs.credential(t,r)}catch{return null}}}xs.GOOGLE_SIGN_IN_METHOD="google.com";xs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends uc{constructor(){super("github.com")}static credential(e){return Ua._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ms.credential(e.oauthAccessToken)}catch{return null}}}Ms.GITHUB_SIGN_IN_METHOD="github.com";Ms.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends uc{constructor(){super("twitter.com")}static credential(e,t){return Ua._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Vs.credential(t,r)}catch{return null}}}Vs.TWITTER_SIGN_IN_METHOD="twitter.com";Vs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ux(i,e){return lc(i,"POST","/v1/accounts:signUp",Xs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const l=await Ai._fromIdTokenResponse(e,r,a),c=eT(r);return new za({user:l,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=eT(r);return new za({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function eT(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh extends Ni{constructor(e,t,r,a){super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Sh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new Sh(e,t,r,a)}}function _A(i,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Sh._fromErrorAndOperation(i,l,e,r):l})}async function cx(i,e,t=!1){const r=await qu(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return za._forOperation(i,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fx(i,e,t=!1){const{auth:r}=i;if(ai(r.app))return Promise.reject(Fr(r));const a="reauthenticate";try{const l=await qu(i,_A(r,a,e,i),t);Ie(l.idToken,r,"internal-error");const c=Pg(l.idToken);Ie(c,r,"internal-error");const{sub:d}=c;return Ie(i.uid===d,r,"user-mismatch"),za._forOperation(i,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Ii(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vA(i,e,t=!1){if(ai(i.app))return Promise.reject(Fr(i));const r="signIn",a=await _A(i,r,e),l=await za._fromIdTokenResponse(i,r,a);return t||await i._updateCurrentUser(l.user),l}async function hx(i,e){return vA(Ga(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EA(i){const e=Ga(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function dx(i,e,t){if(ai(i.app))return Promise.reject(Fr(i));const r=Ga(i),c=await Kp(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ux).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&EA(i),p}),d=await za._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(d.user),d}function mx(i,e,t){return ai(i.app)?Promise.reject(Fr(i)):hx(Qt(i),pl.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&EA(i),r})}function px(i,e,t,r){return Qt(i).onIdTokenChanged(e,t,r)}function gx(i,e,t){return Qt(i).beforeAuthStateChanged(e,t)}function yx(i,e,t,r){return Qt(i).onAuthStateChanged(e,t,r)}function _x(i){return Qt(i).signOut()}const Ah="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ah,"1"),this.storage.removeItem(Ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=1e3,Ex=10;class bA extends TA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);PN()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,Ex):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},vx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}bA.type="LOCAL";const Tx=bA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA extends TA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}SA.type="SESSION";const AA=SA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new Yh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const d=Array.from(c).map(async g=>g(t.origin,l)),p=await bx(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(i="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const g=jg("",20);a.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(T){const S=T;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(S.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(){return window}function Ax(i){ir().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(){return typeof ir().WorkerGlobalScope<"u"&&typeof ir().importScripts=="function"}async function wx(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Rx(){return navigator?.serviceWorker?.controller||null}function Cx(){return wA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="firebaseLocalStorageDb",Ix=1,wh="firebaseLocalStorage",CA="fbase_key";class cc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Qh(i,e){return i.transaction([wh],e?"readwrite":"readonly").objectStore(wh)}function Ox(){const i=indexedDB.deleteDatabase(RA);return new cc(i).toPromise()}function Yp(){const i=indexedDB.open(RA,Ix);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(wh,{keyPath:CA})}catch(a){t(a)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(wh)?e(r):(r.close(),await Ox(),e(await Yp()))})})}async function tT(i,e,t){const r=Qh(i,!0).put({[CA]:e,value:t});return new cc(r).toPromise()}async function Dx(i,e){const t=Qh(i,!1).get(e),r=await new cc(t).toPromise();return r===void 0?null:r.value}function nT(i,e){const t=Qh(i,!0).delete(e);return new cc(t).toPromise()}const Nx=800,xx=3;class IA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>xx)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yh._getInstance(Cx()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await wx(),!this.activeServiceWorker)return;this.sender=new Sx(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Rx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Yp();return await tT(e,Ah,"1"),await nT(e,Ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>tT(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>Dx(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>nT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Qh(a,!1).getAll();return new cc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Nx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IA.type="LOCAL";const Mx=IA;new oc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(i,e){return e?Ur(e):(Ie(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg extends zg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return tl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return tl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function kx(i){return vA(i.auth,new Bg(i),i.bypassAuthState)}function Lx(i){const{auth:e,user:t}=i;return Ie(t,e,"internal-error"),fx(t,new Bg(i),i.bypassAuthState)}async function Px(i){const{auth:e,user:t}=i;return Ie(t,e,"internal-error"),cx(t,new Bg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,t,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kx;case"linkViaPopup":case"linkViaRedirect":return Px;case"reauthViaPopup":case"reauthViaRedirect":return Lx;default:Ii(this.auth,"internal-error")}}resolve(e){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux=new oc(2e3,1e4);class Xo extends OA{constructor(e,t,r,a,l){super(e,t,a,l),this.provider=r,this.authWindow=null,this.pollId=null,Xo.currentPopupAction&&Xo.currentPopupAction.cancel(),Xo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){Hr(this.filter.length===1,"Popup operations only handle one event");const e=jg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(nr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(nr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(nr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Ux.get())};e()}}Xo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx="pendingRedirect",nh=new Map;class Fx extends OA{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=nh.get(this.auth._key());if(!e){try{const r=await jx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}nh.set(this.auth._key(),e)}return this.bypassAuthState||nh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jx(i,e){const t=Hx(e),r=qx(i);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function Bx(i,e){nh.set(i._key(),e)}function qx(i){return Ur(i._redirectPersistence)}function Hx(i){return th(zx,i.config.apiKey,i.name)}async function Gx(i,e,t=!1){if(ai(i.app))return Promise.reject(Fr(i));const r=Ga(i),a=Vx(r,e),c=await new Fx(r,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x=600*1e3;class Kx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Yx(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!DA(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(nr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$x&&this.cachedEventUids.clear(),this.cachedEventUids.has(iT(e))}saveEventToCache(e){this.cachedEventUids.add(iT(e)),this.lastProcessedEventTime=Date.now()}}function iT(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function DA({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function Yx(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DA(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qx(i,e={}){return Ws(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wx=/^https?/;async function Jx(i){if(i.config.emulator)return;const{authorizedDomains:e}=await Qx(i);for(const t of e)try{if(Zx(t))return}catch{}Ii(i,"unauthorized-domain")}function Zx(i){const e=Gp(),{protocol:t,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&r===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!Wx.test(t))return!1;if(Xx.test(i))return r===i;const a=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM=new oc(3e4,6e4);function rT(){const i=ir().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function tM(i){return new Promise((e,t)=>{function r(){rT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rT(),t(nr(i,"network-request-failed"))},timeout:eM.get()})}if(ir().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ir().gapi?.load)r();else{const a=$N("iframefcb");return ir()[a]=()=>{gapi.load?r():t(nr(i,"network-request-failed"))},mA(`${GN()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw ih=null,e})}let ih=null;function nM(i){return ih=ih||tM(i),ih}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM=new oc(5e3,15e3),rM="__/auth/iframe",sM="emulator/auth/iframe",aM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lM(i){const e=i.config;Ie(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Lg(e,sM):`https://${i.config.authDomain}/${rM}`,r={apiKey:e.apiKey,appName:i.name,v:ml},a=oM.get(i.config.apiHost);a&&(r.eid=a);const l=i._getFrameworks();return l.length&&(r.fw=l.join(",")),`${t}?${ac(r).slice(1)}`}async function uM(i){const e=await nM(i),t=ir().gapi;return Ie(t,i,"internal-error"),e.open({where:document.body,url:lM(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aM,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=nr(i,"network-request-failed"),d=ir().setTimeout(()=>{l(c)},iM.get());function p(){ir().clearTimeout(d),a(r)}r.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fM=500,hM=600,dM="_blank",mM="http://localhost";class sT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pM(i,e,t,r=fM,a=hM){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const p={...cM,width:r.toString(),height:a.toString(),top:l,left:c},g=gn().toLowerCase();t&&(d=oA(g)?dM:t),sA(g)&&(e=e||mM,p.scrollbars="yes");const v=Object.entries(p).reduce((S,[x,U])=>`${S}${x}=${U},`,"");if(LN(g)&&d!=="_self")return gM(e||"",d),new sT(null);const T=window.open(e||"",d,v);Ie(T,i,"popup-blocked");try{T.focus()}catch{}return new sT(T)}function gM(i,e){const t=document.createElement("a");t.href=i,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM="__/auth/handler",_M="emulator/auth/handler",vM=encodeURIComponent("fac");async function aT(i,e,t,r,a,l){Ie(i.config.authDomain,i,"auth-domain-config-required"),Ie(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:r,v:ml,eventId:a};if(e instanceof yA){e.setDefaultLanguage(i.languageCode),c.providerId=e.providerId||"",x2(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))c[v]=T}if(e instanceof uc){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(c.scopes=v.join(","))}i.tenantId&&(c.tid=i.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await i._getAppCheckToken(),g=p?`#${vM}=${encodeURIComponent(p)}`:"";return`${EM(i)}?${ac(d).slice(1)}${g}`}function EM({config:i}){return i.emulator?Lg(i,_M):`https://${i.authDomain}/${yM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp="webStorageSupport";class TM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AA,this._completeRedirectFn=Gx,this._overrideRedirectResult=Bx}async _openPopup(e,t,r,a){Hr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await aT(e,t,r,Gp(),a);return pM(e,l,jg())}async _openRedirect(e,t,r,a){await this._originValidation(e);const l=await aT(e,t,r,Gp(),a);return Ax(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Hr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await uM(e),r=new Kx(e);return t.register("authEvent",a=>(Ie(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(wp,{type:wp},a=>{const l=a?.[0]?.[wp];l!==void 0&&t(!!l),Ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Jx(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return hA()||aA()||Ug()}}const bM=TM;var oT="@firebase/auth",lT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wM(i){lr(new Ci("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;Ie(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:c,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dA(i)},g=new BN(r,a,l,p);return JN(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),lr(new Ci("auth-internal",e=>{const t=Ga(e.getProvider("auth").getImmediate());return(r=>new SM(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ui(oT,lT,AM(i)),ui(oT,lT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM=300,CM=_S("authIdTokenMaxAge")||RM;let uT=null;const IM=i=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>CM)return;const a=t?.token;uT!==a&&(uT=a,await fetch(i,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function OM(i=Ig()){const e=Ha(i,"auth");if(e.isInitialized())return e.getImmediate();const t=WN(i,{popupRedirectResolver:bM,persistence:[Mx,Tx,AA]}),r=_S("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=IM(l.toString());gx(t,c,()=>c(t.currentUser)),px(t,d=>c(d))}}const a=gS("auth");return a&&ZN(t,`http://${a}`),t}function DM(){return document.getElementsByTagName("head")?.[0]??document}qN({loadJS(i){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=a=>{const l=nr("internal-error");l.customData=a,t(l)},r.type="text/javascript",r.charset="UTF-8",DM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wM("Browser");var cT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Us,NA;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,w){function C(){}C.prototype=w.prototype,I.F=w.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(k,O,M){for(var R=Array(arguments.length-2),De=2;De<arguments.length;De++)R[De-2]=arguments[De];return w.prototype[O].apply(k,R)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,w,C){C||(C=0);const k=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)k[O]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(O=0;O<16;++O)k[O]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=I.g[0],C=I.g[1],O=I.g[2];let M=I.g[3],R;R=w+(M^C&(O^M))+k[0]+3614090360&4294967295,w=C+(R<<7&4294967295|R>>>25),R=M+(O^w&(C^O))+k[1]+3905402710&4294967295,M=w+(R<<12&4294967295|R>>>20),R=O+(C^M&(w^C))+k[2]+606105819&4294967295,O=M+(R<<17&4294967295|R>>>15),R=C+(w^O&(M^w))+k[3]+3250441966&4294967295,C=O+(R<<22&4294967295|R>>>10),R=w+(M^C&(O^M))+k[4]+4118548399&4294967295,w=C+(R<<7&4294967295|R>>>25),R=M+(O^w&(C^O))+k[5]+1200080426&4294967295,M=w+(R<<12&4294967295|R>>>20),R=O+(C^M&(w^C))+k[6]+2821735955&4294967295,O=M+(R<<17&4294967295|R>>>15),R=C+(w^O&(M^w))+k[7]+4249261313&4294967295,C=O+(R<<22&4294967295|R>>>10),R=w+(M^C&(O^M))+k[8]+1770035416&4294967295,w=C+(R<<7&4294967295|R>>>25),R=M+(O^w&(C^O))+k[9]+2336552879&4294967295,M=w+(R<<12&4294967295|R>>>20),R=O+(C^M&(w^C))+k[10]+4294925233&4294967295,O=M+(R<<17&4294967295|R>>>15),R=C+(w^O&(M^w))+k[11]+2304563134&4294967295,C=O+(R<<22&4294967295|R>>>10),R=w+(M^C&(O^M))+k[12]+1804603682&4294967295,w=C+(R<<7&4294967295|R>>>25),R=M+(O^w&(C^O))+k[13]+4254626195&4294967295,M=w+(R<<12&4294967295|R>>>20),R=O+(C^M&(w^C))+k[14]+2792965006&4294967295,O=M+(R<<17&4294967295|R>>>15),R=C+(w^O&(M^w))+k[15]+1236535329&4294967295,C=O+(R<<22&4294967295|R>>>10),R=w+(O^M&(C^O))+k[1]+4129170786&4294967295,w=C+(R<<5&4294967295|R>>>27),R=M+(C^O&(w^C))+k[6]+3225465664&4294967295,M=w+(R<<9&4294967295|R>>>23),R=O+(w^C&(M^w))+k[11]+643717713&4294967295,O=M+(R<<14&4294967295|R>>>18),R=C+(M^w&(O^M))+k[0]+3921069994&4294967295,C=O+(R<<20&4294967295|R>>>12),R=w+(O^M&(C^O))+k[5]+3593408605&4294967295,w=C+(R<<5&4294967295|R>>>27),R=M+(C^O&(w^C))+k[10]+38016083&4294967295,M=w+(R<<9&4294967295|R>>>23),R=O+(w^C&(M^w))+k[15]+3634488961&4294967295,O=M+(R<<14&4294967295|R>>>18),R=C+(M^w&(O^M))+k[4]+3889429448&4294967295,C=O+(R<<20&4294967295|R>>>12),R=w+(O^M&(C^O))+k[9]+568446438&4294967295,w=C+(R<<5&4294967295|R>>>27),R=M+(C^O&(w^C))+k[14]+3275163606&4294967295,M=w+(R<<9&4294967295|R>>>23),R=O+(w^C&(M^w))+k[3]+4107603335&4294967295,O=M+(R<<14&4294967295|R>>>18),R=C+(M^w&(O^M))+k[8]+1163531501&4294967295,C=O+(R<<20&4294967295|R>>>12),R=w+(O^M&(C^O))+k[13]+2850285829&4294967295,w=C+(R<<5&4294967295|R>>>27),R=M+(C^O&(w^C))+k[2]+4243563512&4294967295,M=w+(R<<9&4294967295|R>>>23),R=O+(w^C&(M^w))+k[7]+1735328473&4294967295,O=M+(R<<14&4294967295|R>>>18),R=C+(M^w&(O^M))+k[12]+2368359562&4294967295,C=O+(R<<20&4294967295|R>>>12),R=w+(C^O^M)+k[5]+4294588738&4294967295,w=C+(R<<4&4294967295|R>>>28),R=M+(w^C^O)+k[8]+2272392833&4294967295,M=w+(R<<11&4294967295|R>>>21),R=O+(M^w^C)+k[11]+1839030562&4294967295,O=M+(R<<16&4294967295|R>>>16),R=C+(O^M^w)+k[14]+4259657740&4294967295,C=O+(R<<23&4294967295|R>>>9),R=w+(C^O^M)+k[1]+2763975236&4294967295,w=C+(R<<4&4294967295|R>>>28),R=M+(w^C^O)+k[4]+1272893353&4294967295,M=w+(R<<11&4294967295|R>>>21),R=O+(M^w^C)+k[7]+4139469664&4294967295,O=M+(R<<16&4294967295|R>>>16),R=C+(O^M^w)+k[10]+3200236656&4294967295,C=O+(R<<23&4294967295|R>>>9),R=w+(C^O^M)+k[13]+681279174&4294967295,w=C+(R<<4&4294967295|R>>>28),R=M+(w^C^O)+k[0]+3936430074&4294967295,M=w+(R<<11&4294967295|R>>>21),R=O+(M^w^C)+k[3]+3572445317&4294967295,O=M+(R<<16&4294967295|R>>>16),R=C+(O^M^w)+k[6]+76029189&4294967295,C=O+(R<<23&4294967295|R>>>9),R=w+(C^O^M)+k[9]+3654602809&4294967295,w=C+(R<<4&4294967295|R>>>28),R=M+(w^C^O)+k[12]+3873151461&4294967295,M=w+(R<<11&4294967295|R>>>21),R=O+(M^w^C)+k[15]+530742520&4294967295,O=M+(R<<16&4294967295|R>>>16),R=C+(O^M^w)+k[2]+3299628645&4294967295,C=O+(R<<23&4294967295|R>>>9),R=w+(O^(C|~M))+k[0]+4096336452&4294967295,w=C+(R<<6&4294967295|R>>>26),R=M+(C^(w|~O))+k[7]+1126891415&4294967295,M=w+(R<<10&4294967295|R>>>22),R=O+(w^(M|~C))+k[14]+2878612391&4294967295,O=M+(R<<15&4294967295|R>>>17),R=C+(M^(O|~w))+k[5]+4237533241&4294967295,C=O+(R<<21&4294967295|R>>>11),R=w+(O^(C|~M))+k[12]+1700485571&4294967295,w=C+(R<<6&4294967295|R>>>26),R=M+(C^(w|~O))+k[3]+2399980690&4294967295,M=w+(R<<10&4294967295|R>>>22),R=O+(w^(M|~C))+k[10]+4293915773&4294967295,O=M+(R<<15&4294967295|R>>>17),R=C+(M^(O|~w))+k[1]+2240044497&4294967295,C=O+(R<<21&4294967295|R>>>11),R=w+(O^(C|~M))+k[8]+1873313359&4294967295,w=C+(R<<6&4294967295|R>>>26),R=M+(C^(w|~O))+k[15]+4264355552&4294967295,M=w+(R<<10&4294967295|R>>>22),R=O+(w^(M|~C))+k[6]+2734768916&4294967295,O=M+(R<<15&4294967295|R>>>17),R=C+(M^(O|~w))+k[13]+1309151649&4294967295,C=O+(R<<21&4294967295|R>>>11),R=w+(O^(C|~M))+k[4]+4149444226&4294967295,w=C+(R<<6&4294967295|R>>>26),R=M+(C^(w|~O))+k[11]+3174756917&4294967295,M=w+(R<<10&4294967295|R>>>22),R=O+(w^(M|~C))+k[2]+718787259&4294967295,O=M+(R<<15&4294967295|R>>>17),R=C+(M^(O|~w))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+M&4294967295}r.prototype.v=function(I,w){w===void 0&&(w=I.length);const C=w-this.blockSize,k=this.C;let O=this.h,M=0;for(;M<w;){if(O==0)for(;M<=C;)a(this,I,M),M+=this.blockSize;if(typeof I=="string"){for(;M<w;)if(k[O++]=I.charCodeAt(M++),O==this.blockSize){a(this,k),O=0;break}}else for(;M<w;)if(k[O++]=I[M++],O==this.blockSize){a(this,k),O=0;break}}this.h=O,this.o+=w},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;w=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=w&255,w/=256;for(this.v(I),I=Array(16),w=0,C=0;C<4;++C)for(let k=0;k<32;k+=8)I[w++]=this.g[C]>>>k&255;return I};function l(I,w){var C=d;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=w(I)}function c(I,w){this.h=w;const C=[];let k=!0;for(let O=I.length-1;O>=0;O--){const M=I[O]|0;k&&M==w||(C[O]=M,k=!1)}this.g=C}var d={};function p(I){return-128<=I&&I<128?l(I,function(w){return new c([w|0],w<0?-1:0)}):new c([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return T;if(I<0)return G(g(-I));const w=[];let C=1;for(let k=0;I>=C;k++)w[k]=I/C|0,C*=4294967296;return new c(w,0)}function v(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return G(v(I.substring(1),w));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(w,8));let k=T;for(let M=0;M<I.length;M+=8){var O=Math.min(8,I.length-M);const R=parseInt(I.substring(M,M+O),w);O<8?(O=g(Math.pow(w,O)),k=k.j(O).add(g(R))):(k=k.j(C),k=k.add(g(R)))}return k}var T=p(0),S=p(1),x=p(16777216);i=c.prototype,i.m=function(){if(F(this))return-G(this).m();let I=0,w=1;for(let C=0;C<this.g.length;C++){const k=this.i(C);I+=(k>=0?k:4294967296+k)*w,w*=4294967296}return I},i.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(U(this))return"0";if(F(this))return"-"+G(this).toString(I);const w=g(Math.pow(I,6));var C=this;let k="";for(;;){const O=ve(C,w).g;C=$(C,O.j(w));let M=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=O,U(C))return M+k;for(;M.length<6;)M="0"+M;k=M+k}},i.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function U(I){if(I.h!=0)return!1;for(let w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function F(I){return I.h==-1}i.l=function(I){return I=$(this,I),F(I)?-1:U(I)?0:1};function G(I){const w=I.g.length,C=[];for(let k=0;k<w;k++)C[k]=~I.g[k];return new c(C,~I.h).add(S)}i.abs=function(){return F(this)?G(this):this},i.add=function(I){const w=Math.max(this.g.length,I.g.length),C=[];let k=0;for(let O=0;O<=w;O++){let M=k+(this.i(O)&65535)+(I.i(O)&65535),R=(M>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);k=R>>>16,M&=65535,R&=65535,C[O]=R<<16|M}return new c(C,C[C.length-1]&-2147483648?-1:0)};function $(I,w){return I.add(G(w))}i.j=function(I){if(U(this)||U(I))return T;if(F(this))return F(I)?G(this).j(G(I)):G(G(this).j(I));if(F(I))return G(this.j(G(I)));if(this.l(x)<0&&I.l(x)<0)return g(this.m()*I.m());const w=this.g.length+I.g.length,C=[];for(var k=0;k<2*w;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(let O=0;O<I.g.length;O++){const M=this.i(k)>>>16,R=this.i(k)&65535,De=I.i(O)>>>16,Ke=I.i(O)&65535;C[2*k+2*O]+=R*Ke,H(C,2*k+2*O),C[2*k+2*O+1]+=M*Ke,H(C,2*k+2*O+1),C[2*k+2*O+1]+=R*De,H(C,2*k+2*O+1),C[2*k+2*O+2]+=M*De,H(C,2*k+2*O+2)}for(I=0;I<w;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=w;I<2*w;I++)C[I]=0;return new c(C,0)};function H(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function ae(I,w){this.g=I,this.h=w}function ve(I,w){if(U(w))throw Error("division by zero");if(U(I))return new ae(T,T);if(F(I))return w=ve(G(I),w),new ae(G(w.g),G(w.h));if(F(w))return w=ve(I,G(w)),new ae(G(w.g),w.h);if(I.g.length>30){if(F(I)||F(w))throw Error("slowDivide_ only works with positive integers.");for(var C=S,k=w;k.l(I)<=0;)C=he(C),k=he(k);var O=Ee(C,1),M=Ee(k,1);for(k=Ee(k,2),C=Ee(C,2);!U(k);){var R=M.add(k);R.l(I)<=0&&(O=O.add(C),M=R),k=Ee(k,1),C=Ee(C,1)}return w=$(I,O.j(w)),new ae(O,w)}for(O=T;I.l(w)>=0;){for(C=Math.max(1,Math.floor(I.m()/w.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),M=g(C),R=M.j(w);F(R)||R.l(I)>0;)C-=k,M=g(C),R=M.j(w);U(M)&&(M=S),O=O.add(M),I=$(I,R)}return new ae(O,I)}i.B=function(I){return ve(this,I).h},i.and=function(I){const w=Math.max(this.g.length,I.g.length),C=[];for(let k=0;k<w;k++)C[k]=this.i(k)&I.i(k);return new c(C,this.h&I.h)},i.or=function(I){const w=Math.max(this.g.length,I.g.length),C=[];for(let k=0;k<w;k++)C[k]=this.i(k)|I.i(k);return new c(C,this.h|I.h)},i.xor=function(I){const w=Math.max(this.g.length,I.g.length),C=[];for(let k=0;k<w;k++)C[k]=this.i(k)^I.i(k);return new c(C,this.h^I.h)};function he(I){const w=I.g.length+1,C=[];for(let k=0;k<w;k++)C[k]=I.i(k)<<1|I.i(k-1)>>>31;return new c(C,I.h)}function Ee(I,w){const C=w>>5;w%=32;const k=I.g.length-C,O=[];for(let M=0;M<k;M++)O[M]=w>0?I.i(M+C)>>>w|I.i(M+C+1)<<32-w:I.i(M+C);return new c(O,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,NA=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,Us=c}).apply(typeof cT<"u"?cT:typeof self<"u"?self:typeof window<"u"?window:{});var Gf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xA,Ru,MA,rh,Qp,VA,kA,LA;(function(){var i,e=Object.defineProperty;function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gf=="object"&&Gf];for(var y=0;y<f.length;++y){var E=f[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function a(f,y){if(y)e:{var E=r;f=f.split(".");for(var A=0;A<f.length-1;A++){var z=f[A];if(!(z in E))break e;E=E[z]}f=f[f.length-1],A=E[f],y=y(A),y!=A&&y!=null&&e(E,f,{configurable:!0,writable:!0,value:y})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(y){var E=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&E.push([A,y[A]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function p(f,y,E){return f.call.apply(f.bind,arguments)}function g(f,y,E){return g=p,g.apply(null,arguments)}function v(f,y){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),f.apply(this,A)}}function T(f,y){function E(){}E.prototype=y.prototype,f.Z=y.prototype,f.prototype=new E,f.prototype.constructor=f,f.Ob=function(A,z,Y){for(var ce=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)ce[ke-2]=arguments[ke];return y.prototype[z].apply(A,ce)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function x(f){const y=f.length;if(y>0){const E=Array(y);for(let A=0;A<y;A++)E[A]=f[A];return E}return[]}function U(f,y){for(let A=1;A<arguments.length;A++){const z=arguments[A];var E=typeof z;if(E=E!="object"?E:z?Array.isArray(z)?"array":E:"null",E=="array"||E=="object"&&typeof z.length=="number"){E=f.length||0;const Y=z.length||0;f.length=E+Y;for(let ce=0;ce<Y;ce++)f[E+ce]=z[ce]}else f.push(z)}}class F{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function G(f){c.setTimeout(()=>{throw f},0)}function $(){var f=I;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class H{constructor(){this.h=this.g=null}add(y,E){const A=ae.get();A.set(y,E),this.h?this.h.next=A:this.g=A,this.h=A}}var ae=new F(()=>new ve,f=>f.reset());class ve{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let he,Ee=!1,I=new H,w=()=>{const f=Promise.resolve(void 0);he=()=>{f.then(C)}};function C(){for(var f;f=$();){try{f.h.call(f.g)}catch(E){G(E)}var y=ae;y.j(f),y.h<100&&(y.h++,f.next=y.g,y.g=f)}Ee=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return f})();function R(f){return/^[\s\xa0]*$/.test(f)}function De(f,y){O.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,y)}T(De,O),De.prototype.init=function(f,y){const E=this.type=f.type,A=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget,y||(E=="mouseover"?y=f.fromElement:E=="mouseout"&&(y=f.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&De.Z.h.call(this)},De.prototype.h=function(){De.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ke="closure_listenable_"+(Math.random()*1e6|0),X=0;function ue(f,y,E,A,z){this.listener=f,this.proxy=null,this.src=y,this.type=E,this.capture=!!A,this.ha=z,this.key=++X,this.da=this.fa=!1}function Se(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Ue(f,y,E){for(const A in f)y.call(E,f[A],A,f)}function We(f,y){for(const E in f)y.call(void 0,f[E],E,f)}function L(f){const y={};for(const E in f)y[E]=f[E];return y}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fe(f,y){let E,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(E in A)f[E]=A[E];for(let Y=0;Y<te.length;Y++)E=te[Y],Object.prototype.hasOwnProperty.call(A,E)&&(f[E]=A[E])}}function me(f){this.src=f,this.g={},this.h=0}me.prototype.add=function(f,y,E,A,z){const Y=f.toString();f=this.g[Y],f||(f=this.g[Y]=[],this.h++);const ce=Ve(f,y,A,z);return ce>-1?(y=f[ce],E||(y.fa=!1)):(y=new ue(y,this.src,Y,!!A,z),y.fa=E,f.push(y)),y};function Ce(f,y){const E=y.type;if(E in f.g){var A=f.g[E],z=Array.prototype.indexOf.call(A,y,void 0),Y;(Y=z>=0)&&Array.prototype.splice.call(A,z,1),Y&&(Se(y),f.g[E].length==0&&(delete f.g[E],f.h--))}}function Ve(f,y,E,A){for(let z=0;z<f.length;++z){const Y=f[z];if(!Y.da&&Y.listener==y&&Y.capture==!!E&&Y.ha==A)return z}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),At={};function ot(f,y,E,A,z){if(Array.isArray(y)){for(let Y=0;Y<y.length;Y++)ot(f,y[Y],E,A,z);return null}return E=Wa(E),f&&f[Ke]?f.J(y,E,d(A)?!!A.capture:!1,z):ci(f,y,E,!1,A,z)}function ci(f,y,E,A,z,Y){if(!y)throw Error("Invalid event type");const ce=d(z)?!!z.capture:!!z;let ke=dr(f);if(ke||(f[ze]=ke=new me(f)),E=ke.add(y,E,A,ce,Y),E.proxy)return E;if(A=Kr(),E.proxy=A,A.src=f,A.listener=E,f.addEventListener)M||(z=ce),z===void 0&&(z=!1),f.addEventListener(y.toString(),A,z);else if(f.attachEvent)f.attachEvent(Vn(y.toString()),A);else if(f.addListener&&f.removeListener)f.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Kr(){function f(E){return y.call(f.src,f.listener,E)}const y=Qr;return f}function hr(f,y,E,A,z){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)hr(f,y[Y],E,A,z);else A=d(A)?!!A.capture:!!A,E=Wa(E),f&&f[Ke]?(f=f.i,Y=String(y).toString(),Y in f.g&&(y=f.g[Y],E=Ve(y,E,A,z),E>-1&&(Se(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete f.g[Y],f.h--)))):f&&(f=dr(f))&&(y=f.g[y.toString()],f=-1,y&&(f=Ve(y,E,A,z)),(E=f>-1?y[f]:null)&&Yr(E))}function Yr(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[Ke])Ce(y.i,f);else{var E=f.type,A=f.proxy;y.removeEventListener?y.removeEventListener(E,A,f.capture):y.detachEvent?y.detachEvent(Vn(E),A):y.addListener&&y.removeListener&&y.removeListener(A),(E=dr(y))?(Ce(E,f),E.h==0&&(E.src=null,y[ze]=null)):Se(f)}}}function Vn(f){return f in At?At[f]:At[f]="on"+f}function Qr(f,y){if(f.da)f=!0;else{y=new De(y,this);const E=f.listener,A=f.ha||f.src;f.fa&&Yr(f),f=E.call(A,y)}return f}function dr(f){return f=f[ze],f instanceof me?f:null}var Zs="__closure_events_fn_"+(Math.random()*1e9>>>0);function Wa(f){return typeof f=="function"?f:(f[Zs]||(f[Zs]=function(y){return f.handleEvent(y)}),f[Zs])}function bt(){k.call(this),this.i=new me(this),this.M=this,this.G=null}T(bt,k),bt.prototype[Ke]=!0,bt.prototype.removeEventListener=function(f,y,E,A){hr(this,f,y,E,A)};function D(f,y){var E,A=f.G;if(A)for(E=[];A;A=A.G)E.push(A);if(f=f.M,A=y.type||y,typeof y=="string")y=new O(y,f);else if(y instanceof O)y.target=y.target||f;else{var z=y;y=new O(A,f),fe(y,z)}z=!0;let Y,ce;if(E)for(ce=E.length-1;ce>=0;ce--)Y=y.g=E[ce],z=j(Y,A,!0,y)&&z;if(Y=y.g=f,z=j(Y,A,!0,y)&&z,z=j(Y,A,!1,y)&&z,E)for(ce=0;ce<E.length;ce++)Y=y.g=E[ce],z=j(Y,A,!1,y)&&z}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var f=this.i;for(const y in f.g){const E=f.g[y];for(let A=0;A<E.length;A++)Se(E[A]);delete f.g[y],f.h--}}this.G=null},bt.prototype.J=function(f,y,E,A){return this.i.add(String(f),y,!1,E,A)},bt.prototype.K=function(f,y,E,A){return this.i.add(String(f),y,!0,E,A)};function j(f,y,E,A){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let Y=0;Y<y.length;++Y){const ce=y[Y];if(ce&&!ce.da&&ce.capture==E){const ke=ce.listener,It=ce.ha||ce.src;ce.fa&&Ce(f.i,ce),z=ke.call(It,A)!==!1&&z}}return z&&!A.defaultPrevented}function J(f,y){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=g(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(f,y||0)}function de(f){f.g=J(()=>{f.g=null,f.i&&(f.i=!1,de(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class oe extends k{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:de(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(f){k.call(this),this.h=f,this.g={}}T(le,k);var be=[];function Ye(f){Ue(f.g,function(y,E){this.g.hasOwnProperty(E)&&Yr(y)},f),f.g={}}le.prototype.N=function(){le.Z.N.call(this),Ye(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qe=c.JSON.stringify,cn=c.JSON.parse,mr=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function kn(){}function Ja(){}var yn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ct(){O.call(this,"d")}T(Ct,O);function bn(){O.call(this,"c")}T(bn,O);var _t={},Za=null;function pr(){return Za=Za||new bt}_t.Ia="serverreachability";function _c(f){O.call(this,_t.Ia,f)}T(_c,O);function xi(f){const y=pr();D(y,new _c(y))}_t.STAT_EVENT="statevent";function ea(f,y){O.call(this,_t.STAT_EVENT,f),this.stat=y}T(ea,O);function Mt(f){const y=pr();D(y,new ea(y,f))}_t.Ja="timingevent";function Mi(f,y){O.call(this,_t.Ja,f),this.size=y}T(Mi,O);function Vi(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},y)}function fi(){this.g=!0}fi.prototype.ua=function(){this.g=!1};function fd(f,y,E,A,z,Y){f.info(function(){if(f.g)if(Y){var ce="",ke=Y.split("&");for(let tt=0;tt<ke.length;tt++){var It=ke[tt].split("=");if(It.length>1){const vt=It[0];It=It[1];const Wn=vt.split("_");ce=Wn.length>=2&&Wn[1]=="type"?ce+(vt+"="+It+"&"):ce+(vt+"=redacted&")}}}else ce=null;else ce=Y;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+y+`
`+E+`
`+ce})}function vc(f,y,E,A,z,Y,ce){f.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+y+`
`+E+`
`+Y+" "+ce})}function ki(f,y,E,A){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+hd(f,E)+(A?" "+A:"")})}function ta(f,y){f.info(function(){return"TIMEOUT: "+y})}fi.prototype.info=function(){};function hd(f,y){if(!f.g)return y;if(!y)return null;try{const Y=JSON.parse(y);if(Y){for(f=0;f<Y.length;f++)if(Array.isArray(Y[f])){var E=Y[f];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var z=A[0];if(z!="noop"&&z!="stop"&&z!="close")for(let ce=1;ce<A.length;ce++)A[ce]=""}}}}return Qe(Y)}catch{return y}}var na={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Tl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},bl;function ia(){}T(ia,kn),ia.prototype.g=function(){return new XMLHttpRequest},bl=new ia;function gr(f){return encodeURIComponent(String(f))}function Ec(f){var y=1;f=f.split(":");const E=[];for(;y>0&&f.length;)E.push(f.shift()),y--;return f.length&&E.push(f.join(":")),E}function hi(f,y,E,A){this.j=f,this.i=y,this.l=E,this.S=A||1,this.V=new le(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new di}function di(){this.i=null,this.g="",this.h=!1}var Vt={},Xt={};function Li(f,y,E){f.M=1,f.A=ra(Lt(y)),f.u=E,f.R=!0,eo(f,null)}function eo(f,y){f.F=Date.now(),Pi(f),f.B=Lt(f.A);var E=f.B,A=f.S;Array.isArray(A)||(A=[String(A)]),ro(E.i,"t",A),f.C=0,E=f.j.L,f.h=new di,f.g=kc(f.j,E?y:null,!f.u),f.P>0&&(f.O=new oe(g(f.Y,f,f.g),f.P)),y=f.V,E=f.g,A=f.ba;var z="readystatechange";Array.isArray(z)||(z&&(be[0]=z.toString()),z=be);for(let Y=0;Y<z.length;Y++){const ce=ot(E,z[Y],A||y.handleEvent,!1,y.h||y);if(!ce)break;y.g[ce.key]=ce}y=f.J?L(f.J):{},f.u?(f.v||(f.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,y)):(f.v="GET",f.g.ea(f.B,f.v,null,y)),xi(),fd(f.i,f.v,f.B,f.l,f.S,f.u)}hi.prototype.ba=function(f){f=f.target;const y=this.O;y&&gi(f)==3?y.j():this.Y(f)},hi.prototype.Y=function(f){try{if(f==this.g)e:{const ke=gi(this.g),It=this.g.ya(),tt=this.g.ca();if(!(ke<3)&&(ke!=3||this.g&&(this.h.h||this.g.la()||tn(this.g)))){this.K||ke!=4||It==7||(It==8||tt<=0?xi(3):xi(2)),Ui(this);var y=this.g.ca();this.X=y;var E=dd(this);if(this.o=y==200,vc(this.i,this.v,this.B,this.l,this.S,ke,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,z=this.g;if((A=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var Y=A;break t}}Y=null}if(f=Y)ki(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,zi(this,f);else{this.o=!1,this.m=3,Mt(12),Ln(this),Yn(this);break e}}if(this.R){f=!0;let vt;for(;!this.K&&this.C<E.length;)if(vt=bc(this,E),vt==Xt){ke==4&&(this.m=4,Mt(14),f=!1),ki(this.i,this.l,null,"[Incomplete Response]");break}else if(vt==Vt){this.m=4,Mt(15),ki(this.i,this.l,E,"[Invalid Chunk]"),f=!1;break}else ki(this.i,this.l,vt,null),zi(this,vt);if(Tc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||E.length!=0||this.h.h||(this.m=1,Mt(16),f=!1),this.o=this.o&&f,!f)ki(this.i,this.l,E,"[Invalid Chunked Response]"),Ln(this),Yn(this);else if(E.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Pl(ce),ce.P=!0,Mt(11))}}else ki(this.i,this.l,E,null),zi(this,E);ke==4&&Ln(this),this.o&&!this.K&&(ke==4?Nc(this.j,this):(this.o=!1,Pi(this)))}else _r(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,Mt(12)):(this.m=0,Mt(13)),Ln(this),Yn(this)}}}catch{}finally{}};function dd(f){if(!Tc(f))return f.g.la();const y=tn(f.g);if(y==="")return"";let E="";const A=y.length,z=gi(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Ln(f),Yn(f),"";f.h.i=new c.TextDecoder}for(let Y=0;Y<A;Y++)f.h.h=!0,E+=f.h.i.decode(y[Y],{stream:!(z&&Y==A-1)});return y.length=0,f.h.g+=E,f.C=0,f.h.g}function Tc(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function bc(f,y){var E=f.C,A=y.indexOf(`
`,E);return A==-1?Xt:(E=Number(y.substring(E,A)),isNaN(E)?Vt:(A+=1,A+E>y.length?Xt:(y=y.slice(A,A+E),f.C=A+E,y)))}hi.prototype.cancel=function(){this.K=!0,Ln(this)};function Pi(f){f.T=Date.now()+f.H,to(f,f.H)}function to(f,y){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Vi(g(f.aa,f),y)}function Ui(f){f.D&&(c.clearTimeout(f.D),f.D=null)}hi.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(ta(this.i,this.B),this.M!=2&&(xi(),Mt(17)),Ln(this),this.m=2,Yn(this)):to(this,this.T-f)};function Yn(f){f.j.I==0||f.K||Nc(f.j,f)}function Ln(f){Ui(f);var y=f.O;y&&typeof y.dispose=="function"&&y.dispose(),f.O=null,Ye(f.V),f.g&&(y=f.g,f.g=null,y.abort(),y.dispose())}function zi(f,y){try{var E=f.j;if(E.I!=0&&(E.g==f||ji(E.h,f))){if(!f.L&&ji(E.h,f)&&E.I==3){try{var A=E.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<f.F)uo(E),is(E);else break e;fa(E),Mt(18)}}else E.xa=z[1],0<E.xa-E.K&&z[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Vi(g(E.Va,E),6e3));Fi(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ki(E,11)}else if((f.L||E.g==f)&&uo(E),!R(y))for(z=E.Ba.g.parse(y),y=0;y<z.length;y++){let tt=z[y];const vt=tt[0];if(!(vt<=E.K))if(E.K=vt,tt=tt[1],E.I==2)if(tt[0]=="c"){E.M=tt[1],E.ba=tt[2];const Wn=tt[3];Wn!=null&&(E.ka=Wn,E.j.info("VER="+E.ka));const Yi=tt[4];Yi!=null&&(E.za=Yi,E.j.info("SVER="+E.za));const yi=tt[5];yi!=null&&typeof yi=="number"&&yi>0&&(A=1.5*yi,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const _i=f.g;if(_i){const ha=_i.g?_i.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ha){var Y=A.h;Y.g||ha.indexOf("spdy")==-1&&ha.indexOf("quic")==-1&&ha.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(wl(Y,Y.h),Y.h=null))}if(A.G){const co=_i.g?_i.g.getResponseHeader("X-HTTP-Session-Id"):null;co&&(A.wa=co,rt(A.J,A.G,co))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-f.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var ce=f;if(A.na=Vc(A,A.L?A.ba:null,A.W),ce.L){Rl(A.h,ce);var ke=ce,It=A.O;It&&(ke.H=It),ke.D&&(Ui(ke),Pi(ke)),A.g=ce}else Oc(A);E.i.length>0&&$i(E)}else tt[0]!="stop"&&tt[0]!="close"||Ki(E,7);else E.I==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?Ki(E,7):kl(E):tt[0]!="noop"&&E.l&&E.l.qa(tt),E.A=0)}}xi(4)}catch{}}var kt=class{constructor(f,y){this.g=f,this.map=y}};function Sl(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Al(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Fi(f){return f.h?1:f.g?f.g.size:0}function ji(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function wl(f,y){f.g?f.g.add(y):f.h=y}function Rl(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}Sl.prototype.cancel=function(){if(this.i=Cl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Cl(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const E of f.g.values())y=y.concat(E.G);return y}return x(f.i)}var Sc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function no(f,y){if(f){f=f.split("&");for(let E=0;E<f.length;E++){const A=f[E].indexOf("=");let z,Y=null;A>=0?(z=f[E].substring(0,A),Y=f[E].substring(A+1)):z=f[E],y(z,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Pn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;f instanceof Pn?(this.l=f.l,Wt(this,f.j),this.o=f.o,this.g=f.g,Xr(this,f.u),this.h=f.h,Il(this,Cc(f.i)),this.m=f.m):f&&(y=String(f).match(Sc))?(this.l=!1,Wt(this,y[1]||"",!0),this.o=Bi(y[2]||""),this.g=Bi(y[3]||"",!0),Xr(this,y[4]),this.h=Bi(y[5]||"",!0),Il(this,y[6]||"",!0),this.m=Bi(y[7]||"")):(this.l=!1,this.i=new Jr(null,this.l))}Pn.prototype.toString=function(){const f=[];var y=this.j;y&&f.push(sa(y,io,!0),":");var E=this.g;return(E||y=="file")&&(f.push("//"),(y=this.o)&&f.push(sa(y,io,!0),"@"),f.push(gr(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&f.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(sa(E,E.charAt(0)=="/"?Ol:Ac,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",sa(E,wc)),f.join("")},Pn.prototype.resolve=function(f){const y=Lt(this);let E=!!f.j;E?Wt(y,f.j):E=!!f.o,E?y.o=f.o:E=!!f.g,E?y.g=f.g:E=f.u!=null;var A=f.h;if(E)Xr(y,f.u);else if(E=!!f.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var z=y.h.lastIndexOf("/");z!=-1&&(A=y.h.slice(0,z+1)+A)}if(z=A,z==".."||z==".")A="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){A=z.lastIndexOf("/",0)==0,z=z.split("/");const Y=[];for(let ce=0;ce<z.length;){const ke=z[ce++];ke=="."?A&&ce==z.length&&Y.push(""):ke==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),A&&ce==z.length&&Y.push("")):(Y.push(ke),A=!0)}A=Y.join("/")}else A=z}return E?y.h=A:E=f.i.toString()!=="",E?Il(y,Cc(f.i)):E=!!f.m,E&&(y.m=f.m),y};function Lt(f){return new Pn(f)}function Wt(f,y,E){f.j=E?Bi(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function Xr(f,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);f.u=y}else f.u=null}function Il(f,y,E){y instanceof Jr?(f.i=y,so(f.i,f.l)):(E||(y=sa(y,Wr)),f.i=new Jr(y,f.l))}function rt(f,y,E){f.i.set(y,E)}function ra(f){return rt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Bi(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function sa(f,y,E){return typeof f=="string"?(f=encodeURI(f).replace(y,Sn),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Sn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var io=/[#\/\?@]/g,Ac=/[#\?:]/g,Ol=/[#\?]/g,Wr=/[#\?@]/g,wc=/#/g;function Jr(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function An(f){f.g||(f.g=new Map,f.h=0,f.i&&no(f.i,function(y,E){f.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}i=Jr.prototype,i.add=function(f,y){An(this),this.i=null,f=Zr(this,f);let E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(y),this.h+=1,this};function Rc(f,y){An(f),y=Zr(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function Dl(f,y){return An(f),y=Zr(f,y),f.g.has(y)}i.forEach=function(f,y){An(this),this.g.forEach(function(E,A){E.forEach(function(z){f.call(y,z,A,this)},this)},this)};function Nl(f,y){An(f);let E=[];if(typeof y=="string")Dl(f,y)&&(E=E.concat(f.g.get(Zr(f,y))));else for(f=Array.from(f.g.values()),y=0;y<f.length;y++)E=E.concat(f[y]);return E}i.set=function(f,y){return An(this),this.i=null,f=Zr(this,f),Dl(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},i.get=function(f,y){return f?(f=Nl(this,f),f.length>0?String(f[0]):y):y};function ro(f,y,E){Rc(f,y),E.length>0&&(f.i=null,f.g.set(Zr(f,y),x(E)),f.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var E=y[A];const z=gr(E);E=Nl(this,E);for(let Y=0;Y<E.length;Y++){let ce=z;E[Y]!==""&&(ce+="="+gr(E[Y])),f.push(ce)}}return this.i=f.join("&")};function Cc(f){const y=new Jr;return y.i=f.i,f.g&&(y.g=new Map(f.g),y.h=f.h),y}function Zr(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function so(f,y){y&&!f.j&&(An(f),f.i=null,f.g.forEach(function(E,A){const z=A.toLowerCase();A!=z&&(Rc(this,A),ro(this,z,E))},f)),f.j=y}function mi(f,y){const E=new fi;if(c.Image){const A=new Image;A.onload=v(Qn,E,"TestLoadImage: loaded",!0,y,A),A.onerror=v(Qn,E,"TestLoadImage: error",!1,y,A),A.onabort=v(Qn,E,"TestLoadImage: abort",!1,y,A),A.ontimeout=v(Qn,E,"TestLoadImage: timeout",!1,y,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=f}else y(!1)}function xl(f,y){const E=new fi,A=new AbortController,z=setTimeout(()=>{A.abort(),Qn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:A.signal}).then(Y=>{clearTimeout(z),Y.ok?Qn(E,"TestPingServer: ok",!0,y):Qn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Qn(E,"TestPingServer: error",!1,y)})}function Qn(f,y,E,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(E)}catch{}}function es(){this.g=new mr}function qi(f){this.i=f.Sb||null,this.h=f.ab||!1}T(qi,kn),qi.prototype.g=function(){return new aa(this.i,this.h)};function aa(f,y){bt.call(this),this.H=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(aa,bt),i=aa.prototype,i.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=y,this.readyState=1,pi(this)},i.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(y.body=f),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ts(this)),this.readyState=0},i.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,pi(this)),this.g&&(this.readyState=3,pi(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ao(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function ao(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}i.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?ts(this):pi(this),this.readyState==3&&ao(this)}},i.Oa=function(f){this.g&&(this.response=this.responseText=f,ts(this))},i.Na=function(f){this.g&&(this.response=f,ts(this))},i.ga=function(){this.g&&ts(this)};function ts(f){f.readyState=4,f.l=null,f.j=null,f.B=null,pi(f)}i.setRequestHeader=function(f,y){this.A.append(f,y)},i.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=y.next();return f.join(`\r
`)};function pi(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(aa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Xn(f){let y="";return Ue(f,function(E,A){y+=A,y+=":",y+=E,y+=`\r
`}),y}function oa(f,y,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=Xn(E),typeof f=="string"?E!=null&&gr(E):rt(f,y,E))}function lt(f){bt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(lt,bt);var Hi=/^https?$/i,Ml=["POST","PUT"];i=lt.prototype,i.Fa=function(f){this.H=f},i.ea=function(f,y,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():bl.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(Y){la(this,Y);return}if(f=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)E.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())E.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),z=c.FormData&&f instanceof c.FormData,!(Array.prototype.indexOf.call(Ml,y,void 0)>=0)||A||z||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ce]of E)this.g.setRequestHeader(Y,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(Y){la(this,Y)}};function la(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.o=5,Vl(f),yr(f)}function Vl(f){f.A||(f.A=!0,D(f,"complete"),D(f,"error"))}i.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,D(this,"complete"),D(this,"abort"),yr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yr(this,!0)),lt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?ua(this):this.Xa())},i.Xa=function(){ua(this)};function ua(f){if(f.h&&typeof l<"u"){if(f.v&&gi(f)==4)setTimeout(f.Ca.bind(f),0);else if(D(f,"readystatechange"),gi(f)==4){f.h=!1;try{const Y=f.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var A;if(A=Y===0){let ce=String(f.D).match(Sc)[1]||null;!ce&&c.self&&c.self.location&&(ce=c.self.location.protocol.slice(0,-1)),A=!Hi.test(ce?ce.toLowerCase():"")}E=A}if(E)D(f,"complete"),D(f,"success");else{f.o=6;try{var z=gi(f)>2?f.g.statusText:""}catch{z=""}f.l=z+" ["+f.ca()+"]",Vl(f)}}finally{yr(f)}}}}function yr(f,y){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const E=f.g;f.g=null,y||D(f,"ready");try{E.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function gi(f){return f.g?f.g.readyState:0}i.ca=function(){try{return gi(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),cn(y)}};function tn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function _r(f){const y={};f=(f.g&&gi(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<f.length;A++){if(R(f[A]))continue;var E=Ec(f[A]);const z=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=y[z]||[];y[z]=Y,Y.push(E)}We(y,function(A){return A.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gi(f,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||y}function ns(f){this.za=0,this.i=[],this.j=new fi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Gi("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Gi("baseRetryDelayMs",5e3,f),this.Za=Gi("retryDelaySeedMs",1e4,f),this.Ta=Gi("forwardChannelMaxRetries",2,f),this.va=Gi("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Sl(f&&f.concurrentRequestLimit),this.Ba=new es,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=ns.prototype,i.ka=8,i.I=1,i.connect=function(f,y,E,A){Mt(0),this.W=f,this.H=y||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=Vc(this,null,this.W),$i(this)};function kl(f){if(oo(f),f.I==3){var y=f.V++,E=Lt(f.J);if(rt(E,"SID",f.M),rt(E,"RID",y),rt(E,"TYPE","terminate"),ca(f,E),y=new hi(f,f.j,y),y.M=2,y.A=ra(Lt(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.A,E=!0),E||(y.g=kc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Pi(y)}Mc(f)}function is(f){f.g&&(Pl(f),f.g.cancel(),f.g=null)}function oo(f){is(f),f.v&&(c.clearTimeout(f.v),f.v=null),uo(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&c.clearTimeout(f.m),f.m=null)}function $i(f){if(!Al(f.h)&&!f.m){f.m=!0;var y=f.Ea;he||w(),Ee||(he(),Ee=!0),I.add(y,f),f.D=0}}function lo(f,y){return Fi(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=y.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Vi(g(f.Ea,f,y),xc(f,f.D)),f.D++,!0)}i.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const z=new hi(this,this.j,f);let Y=this.o;if(this.U&&(Y?(Y=L(Y),fe(Y,this.U)):Y=this.U),this.u!==null||this.R||(z.J=Y,Y=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Ic(this,z,y),E=Lt(this.J),rt(E,"RID",f),rt(E,"CVER",22),this.G&&rt(E,"X-HTTP-Session-Id",this.G),ca(this,E),Y&&(this.R?y="headers="+gr(Xn(Y))+"&"+y:this.u&&oa(E,this.u,Y)),wl(this.h,z),this.Ra&&rt(E,"TYPE","init"),this.S?(rt(E,"$req",y),rt(E,"SID","null"),z.U=!0,Li(z,E,null)):Li(z,E,y),this.I=2}}else this.I==3&&(f?Ll(this,f):this.i.length==0||Al(this.h)||Ll(this))};function Ll(f,y){var E;y?E=y.l:E=f.V++;const A=Lt(f.J);rt(A,"SID",f.M),rt(A,"RID",E),rt(A,"AID",f.K),ca(f,A),f.u&&f.o&&oa(A,f.u,f.o),E=new hi(f,f.j,E,f.D+1),f.u===null&&(E.J=f.o),y&&(f.i=y.G.concat(f.i)),y=Ic(f,E,1e3),E.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),wl(f.h,E),Li(E,A,y)}function ca(f,y){f.H&&Ue(f.H,function(E,A){rt(y,A,E)}),f.l&&Ue({},function(E,A){rt(y,A,E)})}function Ic(f,y,E){E=Math.min(f.i.length,E);const A=f.l?g(f.l.Ka,f.l,f):null;e:{var z=f.i;let ke=-1;for(;;){const It=["count="+E];ke==-1?E>0?(ke=z[0].g,It.push("ofs="+ke)):ke=0:It.push("ofs="+ke);let tt=!0;for(let vt=0;vt<E;vt++){var Y=z[vt].g;const Wn=z[vt].map;if(Y-=ke,Y<0)ke=Math.max(0,z[vt].g-100),tt=!1;else try{Y="req"+Y+"_"||"";try{var ce=Wn instanceof Map?Wn:Object.entries(Wn);for(const[Yi,yi]of ce){let _i=yi;d(yi)&&(_i=Qe(yi)),It.push(Y+Yi+"="+encodeURIComponent(_i))}}catch(Yi){throw It.push(Y+"type="+encodeURIComponent("_badmap")),Yi}}catch{A&&A(Wn)}}if(tt){ce=It.join("&");break e}}ce=void 0}return f=f.i.splice(0,E),y.G=f,ce}function Oc(f){if(!f.g&&!f.v){f.Y=1;var y=f.Da;he||w(),Ee||(he(),Ee=!0),I.add(y,f),f.A=0}}function fa(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Vi(g(f.Da,f),xc(f,f.A)),f.A++,!0)}i.Da=function(){if(this.v=null,Dc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Vi(g(this.Wa,this),f)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Mt(10),is(this),Dc(this))};function Pl(f){f.B!=null&&(c.clearTimeout(f.B),f.B=null)}function Dc(f){f.g=new hi(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var y=Lt(f.na);rt(y,"RID","rpc"),rt(y,"SID",f.M),rt(y,"AID",f.K),rt(y,"CI",f.F?"0":"1"),!f.F&&f.ia&&rt(y,"TO",f.ia),rt(y,"TYPE","xmlhttp"),ca(f,y),f.u&&f.o&&oa(y,f.u,f.o),f.O&&(f.g.H=f.O);var E=f.g;f=f.ba,E.M=1,E.A=ra(Lt(y)),E.u=null,E.R=!0,eo(E,f)}i.Va=function(){this.C!=null&&(this.C=null,is(this),fa(this),Mt(19))};function uo(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function Nc(f,y){var E=null;if(f.g==y){uo(f),Pl(f),f.g=null;var A=2}else if(ji(f.h,y))E=y.G,Rl(f.h,y),A=1;else return;if(f.I!=0){if(y.o)if(A==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var z=f.D;A=pr(),D(A,new Mi(A,E)),$i(f)}else Oc(f);else if(z=y.m,z==3||z==0&&y.X>0||!(A==1&&lo(f,y)||A==2&&fa(f)))switch(E&&E.length>0&&(y=f.h,y.i=y.i.concat(E)),z){case 1:Ki(f,5);break;case 4:Ki(f,10);break;case 3:Ki(f,6);break;default:Ki(f,2)}}}function xc(f,y){let E=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(E*=2),E*y}function Ki(f,y){if(f.j.info("Error code "+y),y==2){var E=g(f.bb,f),A=f.Ua;const z=!A;A=new Pn(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Wt(A,"https"),ra(A),z?mi(A.toString(),E):xl(A.toString(),E)}else Mt(2);f.I=0,f.l&&f.l.pa(y),Mc(f),oo(f)}i.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function Mc(f){if(f.I=0,f.ja=[],f.l){const y=Cl(f.h);(y.length!=0||f.i.length!=0)&&(U(f.ja,y),U(f.ja,f.i),f.h.i.length=0,x(f.i),f.i.length=0),f.l.oa()}}function Vc(f,y,E){var A=E instanceof Pn?Lt(E):new Pn(E);if(A.g!="")y&&(A.g=y+"."+A.g),Xr(A,A.u);else{var z=c.location;A=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const Y=new Pn(null);A&&Wt(Y,A),y&&(Y.g=y),z&&Xr(Y,z),E&&(Y.h=E),A=Y}return E=f.G,y=f.wa,E&&y&&rt(A,E,y),rt(A,"VER",f.ka),ca(f,A),A}function kc(f,y,E){if(y&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Aa&&!f.ma?new lt(new qi({ab:E})):new lt(f.ma),y.Fa(f.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lc(){}i=Lc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function rs(){}rs.prototype.g=function(f,y){return new _n(f,y)};function _n(f,y){bt.call(this),this.g=new ns(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(f?f["X-WebChannel-Client-Profile"]=y.sa:f={"X-WebChannel-Client-Profile":y.sa}),this.g.U=f,(f=y&&y.Qb)&&!R(f)&&(this.g.u=f),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!R(y)&&(this.g.G=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new vr(this)}T(_n,bt),_n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){kl(this.g)},_n.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.v&&(E={},E.__data__=Qe(f),f=E);y.i.push(new kt(y.Ya++,f)),y.I==3&&$i(y)},_n.prototype.N=function(){this.g.l=null,delete this.j,kl(this.g),delete this.g,_n.Z.N.call(this)};function Pc(f){Ct.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const E in y){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}T(Pc,Ct);function Uc(){bn.call(this),this.status=1}T(Uc,bn);function vr(f){this.g=f}T(vr,Lc),vr.prototype.ra=function(){D(this.g,"a")},vr.prototype.qa=function(f){D(this.g,new Pc(f))},vr.prototype.pa=function(f){D(this.g,new Uc)},vr.prototype.oa=function(){D(this.g,"b")},rs.prototype.createWebChannel=rs.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,LA=function(){return new rs},kA=function(){return pr()},VA=_t,Qp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},na.NO_ERROR=0,na.TIMEOUT=8,na.HTTP_ERROR=6,rh=na,Tl.COMPLETE="complete",MA=Tl,Ja.EventType=yn,yn.OPEN="a",yn.CLOSE="b",yn.ERROR="c",yn.MESSAGE="d",bt.prototype.listen=bt.prototype.J,Ru=Ja,lt.prototype.listenOnce=lt.prototype.K,lt.prototype.getLastError=lt.prototype.Ha,lt.prototype.getLastErrorCode=lt.prototype.ya,lt.prototype.getStatus=lt.prototype.ca,lt.prototype.getResponseJson=lt.prototype.La,lt.prototype.getResponseText=lt.prototype.la,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Fa,xA=lt}).apply(typeof Gf<"u"?Gf:typeof self<"u"?self:typeof window<"u"?window:{});const fT="@firebase/firestore",hT="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa=new Hh("@firebase/firestore");function $o(){return Fa.logLevel}function ge(i,...e){if(Fa.logLevel<=He.DEBUG){const t=e.map(qg);Fa.debug(`Firestore (${gl}): ${i}`,...t)}}function Gr(i,...e){if(Fa.logLevel<=He.ERROR){const t=e.map(qg);Fa.error(`Firestore (${gl}): ${i}`,...t)}}function rl(i,...e){if(Fa.logLevel<=He.WARN){const t=e.map(qg);Fa.warn(`Firestore (${gl}): ${i}`,...t)}}function qg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(i,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,PA(i,r,t)}function PA(i,e,t){let r=`FIRESTORE (${gl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Gr(r),new Error(r)}function it(i,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,i||PA(e,a,r)}function Me(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Ni{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(dn.UNAUTHENTICATED)))}shutdown(){}}class xM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class MM{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){it(this.o===void 0,42304);let r=this.i;const a=p=>this.i!==r?(r=this.i,t(p)):Promise.resolve();let l=new Ma;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ma,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await a(this.currentUser)}))},d=p=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ma)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(it(typeof r.accessToken=="string",31837,{l:r}),new UA(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string",2055,{h:e}),new dn(e)}}class VM{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class kM{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new VM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class dT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ai(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){it(this.o===void 0,3512);const r=l=>{l.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ge("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const a=l=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new dT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(it(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new dT(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<i;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=PM(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<t&&(r+=e.charAt(a[l]%62))}return r}}function Ge(i,e){return i<e?-1:i>e?1:0}function Xp(i,e){const t=Math.min(i.length,e.length);for(let r=0;r<t;r++){const a=i.charAt(r),l=e.charAt(r);if(a!==l)return Rp(a)===Rp(l)?Ge(a,l):Rp(a)?1:-1}return Ge(i.length,e.length)}const UM=55296,zM=57343;function Rp(i){const e=i.charCodeAt(0);return e>=UM&&e<=zM}function sl(i,e,t){return i.length===e.length&&i.every(((r,a)=>t(r,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="__name__";class er{constructor(e,t,r){t===void 0?t=0:t>e.length&&Oe(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Oe(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return er.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof er?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const l=er.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Ge(e.length,t.length)}static compareSegments(e,t){const r=er.isNumericId(e),a=er.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?er.extractNumericId(e).compare(er.extractNumericId(t)):Xp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Us.fromString(e.substring(4,e.length-2))}}class mt extends er{construct(e,t,r){return new mt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((a=>a.length>0)))}return new mt(t)}static emptyPath(){return new mt([])}}const FM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends er{construct(e,t,r){return new ln(e,t,r)}static isValidIdentifier(e){return FM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mT}static keyField(){return new ln([mT])}static fromServerFormat(e){const t=[];let r="",a=0;const l=()=>{if(r.length===0)throw new pe(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new pe(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new pe(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(r+=d,a++):(l(),a++)}if(l(),c)throw new pe(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(t)}static emptyPath(){return new ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(mt.fromString(e))}static fromName(e){return new we(mt.fromString(e).popFirst(5))}static empty(){return new we(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return mt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new mt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(i,e,t){if(!t)throw new pe(ie.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function jM(i,e,t,r){if(e===!0&&r===!0)throw new pe(ie.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function pT(i){if(!we.isDocumentKey(i))throw new pe(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function gT(i){if(we.isDocumentKey(i))throw new pe(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function FA(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Xh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Oe(12329,{type:typeof i})}function ku(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new pe(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Xh(i);throw new pe(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(i,e){const t={typeString:i};return e&&(t.value=e),t}function fc(i,e){if(!FA(i))throw new pe(ie.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const a=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){t=`JSON missing required field: '${r}'`;break}const c=i[r];if(a&&typeof c!==a){t=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${r}' field to equal '${l.value}'`;break}}if(t)throw new pe(ie.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT=-62135596800,_T=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*_T);return new yt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<yT)throw new pe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_T}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fc(e,yt._jsonSchema))return new yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-yT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:Ht("string",yt._jsonSchemaVersion),seconds:Ht("number"),nanoseconds:Ht("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new yt(0,0))}static max(){return new Ne(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu=-1;function BM(i,e){const t=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,a=Ne.fromTimestamp(r===1e9?new yt(t+1,0):new yt(t,r));return new qs(a,we.empty(),e)}function qM(i){return new qs(i.readTime,i.key,Gu)}class qs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new qs(Ne.min(),we.empty(),Gu)}static max(){return new qs(Ne.max(),we.empty(),Gu)}}function HM(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(i.documentKey,e.documentKey),t!==0?t:Ge(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $M{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yl(i){if(i.code!==ie.FAILED_PRECONDITION||i.message!==GM)throw i;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):se.reject(t)}static resolve(e){return new se(((t,r)=>{t(e)}))}static reject(e){return new se(((t,r)=>{r(e)}))}static waitFor(e){return new se(((t,r)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&t()}),(p=>r(p)))})),c=!0,l===a&&t()}))}static or(e){let t=se.resolve(!1);for(const r of e)t=t.next((a=>a?se.resolve(a):r()));return t}static forEach(e,t){const r=[];return e.forEach(((a,l)=>{r.push(t.call(this,a,l))})),this.waitFor(r)}static mapArray(e,t){return new se(((r,a)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next((v=>{c[g]=v,++d,d===l&&r(c)}),(v=>a(v)))}}))}static doWhile(e,t){return new se(((r,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):r()};l()}))}}function KM(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function _l(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Wh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg=-1;function Jh(i){return i==null}function Rh(i){return i===0&&1/i==-1/0}function YM(i){return typeof i=="number"&&Number.isInteger(i)&&!Rh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA="";function QM(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=vT(e)),e=XM(i.get(t),e);return vT(e)}function XM(i,e){let t=e;const r=i.length;for(let a=0;a<r;a++){const l=i.charAt(a);switch(l){case"\0":t+="";break;case jA:t+="";break;default:t+=l}}return t}function vT(i){return i+jA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function $a(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function BA(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,t){this.comparator=e,this.root=t||on.EMPTY}insert(e,t){return new St(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $f(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $f(this.root,e,this.comparator,!1)}getReverseIterator(){return new $f(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $f(this.root,e,this.comparator,!0)}}class $f{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,t,r,a,l){this.key=e,this.value=t,this.color=r??on.RED,this.left=a??on.EMPTY,this.right=l??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,l){return new on(e??this.key,t??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,r),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return on.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Oe(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(e,t,r,a,l){return this}insert(e,t,r){return new on(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new TT(this.data.getIterator())}getIteratorFrom(e){return new TT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Yt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Yt(this.comparator);return t.data=e,t}}class TT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new wi([])}unionWith(e){let t=new Yt(ln.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new wi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return sl(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new qA("Invalid base64 string: "+l):l}})(e);return new un(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new un(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const WM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hs(i){if(it(!!i,39018),typeof i=="string"){let e=0;const t=WM.exec(i);if(it(!!t,46558,{timestamp:i}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xt(i.seconds),nanos:xt(i.nanos)}}function xt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Gs(i){return typeof i=="string"?un.fromBase64String(i):un.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA="server_timestamp",GA="__type__",$A="__previous_value__",KA="__local_write_time__";function $g(i){return(i?.mapValue?.fields||{})[GA]?.stringValue===HA}function Zh(i){const e=i.mapValue.fields[$A];return $g(e)?Zh(e):e}function $u(i){const e=Hs(i.mapValue.fields[KA].timestampValue);return new yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e,t,r,a,l,c,d,p,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Ch="(default)";class Ku{constructor(e,t){this.projectId=e,this.database=t||Ch}static empty(){return new Ku("","")}get isDefaultDatabase(){return this.database===Ch}isEqual(e){return e instanceof Ku&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA="__type__",ZM="__max__",Kf={mapValue:{}},QA="__vector__",Ih="value";function $s(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?$g(i)?4:tV(i)?9007199254740991:eV(i)?10:11:Oe(28295,{value:i})}function ur(i,e){if(i===e)return!0;const t=$s(i);if(t!==$s(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return $u(i).isEqual($u(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Hs(a.timestampValue),d=Hs(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(a,l){return Gs(a.bytesValue).isEqual(Gs(l.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(a,l){return xt(a.geoPointValue.latitude)===xt(l.geoPointValue.latitude)&&xt(a.geoPointValue.longitude)===xt(l.geoPointValue.longitude)})(i,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return xt(a.integerValue)===xt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=xt(a.doubleValue),d=xt(l.doubleValue);return c===d?Rh(c)===Rh(d):isNaN(c)&&isNaN(d)}return!1})(i,e);case 9:return sl(i.arrayValue.values||[],e.arrayValue.values||[],ur);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(ET(c)!==ET(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!ur(c[p],d[p])))return!1;return!0})(i,e);default:return Oe(52216,{left:i})}}function Yu(i,e){return(i.values||[]).find((t=>ur(t,e)))!==void 0}function al(i,e){if(i===e)return 0;const t=$s(i),r=$s(e);if(t!==r)return Ge(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ge(i.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=xt(l.integerValue||l.doubleValue),p=xt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(i,e);case 3:return bT(i.timestampValue,e.timestampValue);case 4:return bT($u(i),$u(e));case 5:return Xp(i.stringValue,e.stringValue);case 6:return(function(l,c){const d=Gs(l),p=Gs(c);return d.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=Ge(d[g],p[g]);if(v!==0)return v}return Ge(d.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=Ge(xt(l.latitude),xt(c.latitude));return d!==0?d:Ge(xt(l.longitude),xt(c.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return ST(i.arrayValue,e.arrayValue);case 10:return(function(l,c){const d=l.fields||{},p=c.fields||{},g=d[Ih]?.arrayValue,v=p[Ih]?.arrayValue,T=Ge(g?.values?.length||0,v?.values?.length||0);return T!==0?T:ST(g,v)})(i.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Kf.mapValue&&c===Kf.mapValue)return 0;if(l===Kf.mapValue)return 1;if(c===Kf.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let T=0;T<p.length&&T<v.length;++T){const S=Xp(p[T],v[T]);if(S!==0)return S;const x=al(d[p[T]],g[v[T]]);if(x!==0)return x}return Ge(p.length,v.length)})(i.mapValue,e.mapValue);default:throw Oe(23264,{he:t})}}function bT(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ge(i,e);const t=Hs(i),r=Hs(e),a=Ge(t.seconds,r.seconds);return a!==0?a:Ge(t.nanos,r.nanos)}function ST(i,e){const t=i.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const l=al(t[a],r[a]);if(l)return l}return Ge(t.length,r.length)}function ol(i){return Wp(i)}function Wp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const r=Hs(t);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return Gs(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return we.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let r="[",a=!0;for(const l of t.values||[])a?a=!1:r+=",",r+=Wp(l);return r+"]"})(i.arrayValue):"mapValue"in i?(function(t){const r=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${Wp(t.fields[c])}`;return a+"}"})(i.mapValue):Oe(61005,{value:i})}function sh(i){switch($s(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zh(i);return e?16+sh(e):16;case 5:return 2*i.stringValue.length;case 6:return Gs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+sh(l)),0)})(i.arrayValue);case 10:case 11:return(function(r){let a=0;return $a(r.fields,((l,c)=>{a+=l.length+sh(c)})),a})(i.mapValue);default:throw Oe(13486,{value:i})}}function AT(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Jp(i){return!!i&&"integerValue"in i}function Kg(i){return!!i&&"arrayValue"in i}function wT(i){return!!i&&"nullValue"in i}function RT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ah(i){return!!i&&"mapValue"in i}function eV(i){return(i?.mapValue?.fields||{})[YA]?.stringValue===QA}function Lu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return $a(i.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Lu(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Lu(i.arrayValue.values[t]);return e}return{...i}}function tV(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===ZM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this.value=e}static empty(){return new oi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ah(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lu(t)}setAll(e){let t=ln.emptyPath(),r={},a=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,r,a),r={},a=[],t=d.popLast()}c?r[d.lastSegment()]=Lu(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,r,a)}delete(e){const t=this.field(e.popLast());ah(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ur(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];ah(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){$a(t,((a,l)=>e[a]=l));for(const a of r)delete e[a]}clone(){return new oi(Lu(this.value))}}function XA(i){const e=[];return $a(i.fields,((t,r)=>{const a=new ln([t]);if(ah(r)){const l=XA(r.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new wi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,t,r,a,l,c,d){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new mn(e,0,Ne.min(),Ne.min(),Ne.min(),oi.empty(),0)}static newFoundDocument(e,t,r,a){return new mn(e,1,t,Ne.min(),r,a,0)}static newNoDocument(e,t){return new mn(e,2,t,Ne.min(),Ne.min(),oi.empty(),0)}static newUnknownDocument(e,t){return new mn(e,3,t,Ne.min(),Ne.min(),oi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=oi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=oi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,t){this.position=e,this.inclusive=t}}function CT(i,e,t){let r=0;for(let a=0;a<i.position.length;a++){const l=e[a],c=i.position[a];if(l.field.isKeyField()?r=we.comparator(we.fromName(c.referenceValue),t.key):r=al(c,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function IT(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!ur(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,t="asc"){this.field=e,this.dir=t}}function nV(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{}class qt extends WA{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new rV(e,t,r):t==="array-contains"?new oV(e,r):t==="in"?new lV(e,r):t==="not-in"?new uV(e,r):t==="array-contains-any"?new cV(e,r):new qt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new sV(e,r):new aV(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(al(t,this.value)):t!==null&&$s(this.value)===$s(t)&&this.matchesComparison(al(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oi extends WA{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Oi(e,t)}matches(e){return JA(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function JA(i){return i.op==="and"}function ZA(i){return iV(i)&&JA(i)}function iV(i){for(const e of i.filters)if(e instanceof Oi)return!1;return!0}function Zp(i){if(i instanceof qt)return i.field.canonicalString()+i.op.toString()+ol(i.value);if(ZA(i))return i.filters.map((e=>Zp(e))).join(",");{const e=i.filters.map((t=>Zp(t))).join(",");return`${i.op}(${e})`}}function ew(i,e){return i instanceof qt?(function(r,a){return a instanceof qt&&r.op===a.op&&r.field.isEqual(a.field)&&ur(r.value,a.value)})(i,e):i instanceof Oi?(function(r,a){return a instanceof Oi&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,c,d)=>l&&ew(c,a.filters[d])),!0):!1})(i,e):void Oe(19439)}function tw(i){return i instanceof qt?(function(t){return`${t.field.canonicalString()} ${t.op} ${ol(t.value)}`})(i):i instanceof Oi?(function(t){return t.op.toString()+" {"+t.getFilters().map(tw).join(" ,")+"}"})(i):"Filter"}class rV extends qt{constructor(e,t,r){super(e,t,r),this.key=we.fromName(r.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class sV extends qt{constructor(e,t){super(e,"in",t),this.keys=nw("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class aV extends qt{constructor(e,t){super(e,"not-in",t),this.keys=nw("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function nw(i,e){return(e.arrayValue?.values||[]).map((t=>we.fromName(t.referenceValue)))}class oV extends qt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Kg(t)&&Yu(t.arrayValue,this.value)}}class lV extends qt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Yu(this.value.arrayValue,t)}}class uV extends qt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Yu(this.value.arrayValue,t)}}class cV extends qt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Kg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Yu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e,t=null,r=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function OT(i,e=null,t=[],r=[],a=null,l=null,c=null){return new fV(i,e,t,r,a,l,c)}function Yg(i){const e=Me(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Zp(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),Jh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>ol(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>ol(r))).join(",")),e.Te=t}return e.Te}function Qg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!nV(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!ew(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!IT(i.startAt,e.startAt)&&IT(i.endAt,e.endAt)}function eg(i){return we.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,t=null,r=[],a=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function hV(i,e,t,r,a,l,c,d){return new vl(i,e,t,r,a,l,c,d)}function Xg(i){return new vl(i)}function DT(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function iw(i){return i.collectionGroup!==null}function Pu(i){const e=Me(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Yt(ln.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Qu(l,r))})),t.has(ln.keyField().canonicalString())||e.Ie.push(new Qu(ln.keyField(),r))}return e.Ie}function rr(i){const e=Me(i);return e.Ee||(e.Ee=dV(e,Pu(i))),e.Ee}function dV(i,e){if(i.limitType==="F")return OT(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Qu(a.field,l)}));const t=i.endAt?new Oh(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new Oh(i.startAt.position,i.startAt.inclusive):null;return OT(i.path,i.collectionGroup,e,i.filters,i.limit,t,r)}}function tg(i,e){const t=i.filters.concat([e]);return new vl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function ng(i,e,t){return new vl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function ed(i,e){return Qg(rr(i),rr(e))&&i.limitType===e.limitType}function rw(i){return`${Yg(rr(i))}|lt:${i.limitType}`}function Ko(i){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((a=>tw(a))).join(", ")}]`),Jh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((a=>ol(a))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((a=>ol(a))).join(",")),`Target(${r})`})(rr(i))}; limitType=${i.limitType})`}function td(i,e){return e.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):we.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(i,e)&&(function(r,a){for(const l of Pu(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(i,e)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(i,e)&&(function(r,a){return!(r.startAt&&!(function(c,d,p){const g=CT(c,d,p);return c.inclusive?g<=0:g<0})(r.startAt,Pu(r),a)||r.endAt&&!(function(c,d,p){const g=CT(c,d,p);return c.inclusive?g>=0:g>0})(r.endAt,Pu(r),a))})(i,e)}function mV(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function sw(i){return(e,t)=>{let r=!1;for(const a of Pu(i)){const l=pV(a,e,t);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function pV(i,e,t){const r=i.field.isKeyField()?we.comparator(e.key,t.key):(function(l,c,d){const p=c.data.field(l),g=d.data.field(l);return p!==null&&g!==null?al(p,g):Oe(42886)})(i.field,e,t);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return Oe(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){$a(this.inner,((t,r)=>{for(const[a,l]of r)e(a,l)}))}isEmpty(){return BA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV=new St(we.comparator);function $r(){return gV}const aw=new St(we.comparator);function Cu(...i){let e=aw;for(const t of i)e=e.insert(t.key,t);return e}function ow(i){let e=aw;return i.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Na(){return Uu()}function lw(){return Uu()}function Uu(){return new Ka((i=>i.toString()),((i,e)=>i.isEqual(e)))}const yV=new St(we.comparator),_V=new Yt(we.comparator);function $e(...i){let e=_V;for(const t of i)e=e.add(t);return e}const vV=new Yt(Ge);function EV(){return vV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rh(e)?"-0":e}}function uw(i){return{integerValue:""+i}}function TV(i,e){return YM(e)?uw(e):Wg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(){this._=void 0}}function bV(i,e,t){return i instanceof Xu?(function(a,l){const c={fields:{[GA]:{stringValue:HA},[KA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&$g(l)&&(l=Zh(l)),l&&(c.fields[$A]=l),{mapValue:c}})(t,e):i instanceof Wu?fw(i,e):i instanceof Ju?hw(i,e):(function(a,l){const c=cw(a,l),d=NT(c)+NT(a.Ae);return Jp(c)&&Jp(a.Ae)?uw(d):Wg(a.serializer,d)})(i,e)}function SV(i,e,t){return i instanceof Wu?fw(i,e):i instanceof Ju?hw(i,e):t}function cw(i,e){return i instanceof Dh?(function(r){return Jp(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class Xu extends nd{}class Wu extends nd{constructor(e){super(),this.elements=e}}function fw(i,e){const t=dw(e);for(const r of i.elements)t.some((a=>ur(a,r)))||t.push(r);return{arrayValue:{values:t}}}class Ju extends nd{constructor(e){super(),this.elements=e}}function hw(i,e){let t=dw(e);for(const r of i.elements)t=t.filter((a=>!ur(a,r)));return{arrayValue:{values:t}}}class Dh extends nd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function NT(i){return xt(i.integerValue||i.doubleValue)}function dw(i){return Kg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e,t){this.field=e,this.transform=t}}function wV(i,e){return i.field.isEqual(e.field)&&(function(r,a){return r instanceof Wu&&a instanceof Wu||r instanceof Ju&&a instanceof Ju?sl(r.elements,a.elements,ur):r instanceof Dh&&a instanceof Dh?ur(r.Ae,a.Ae):r instanceof Xu&&a instanceof Xu})(i.transform,e.transform)}class RV{constructor(e,t){this.version=e,this.transformResults=t}}class jr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new jr}static exists(e){return new jr(void 0,e)}static updateTime(e){return new jr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class id{}function mw(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new gw(i.key,jr.none()):new hc(i.key,i.data,jr.none());{const t=i.data,r=oi.empty();let a=new Yt(ln.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new Ya(i.key,r,new wi(a.toArray()),jr.none())}}function CV(i,e,t){i instanceof hc?(function(a,l,c){const d=a.value.clone(),p=MT(a.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(i,e,t):i instanceof Ya?(function(a,l,c){if(!oh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=MT(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(pw(a)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(i,e,t):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function zu(i,e,t,r){return i instanceof hc?(function(l,c,d,p){if(!oh(l.precondition,c))return d;const g=l.value.clone(),v=VT(l.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(i,e,t,r):i instanceof Ya?(function(l,c,d,p){if(!oh(l.precondition,c))return d;const g=VT(l.fieldTransforms,p,c),v=c.data;return v.setAll(pw(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(i,e,t,r):(function(l,c,d){return oh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(i,e,t)}function IV(i,e){let t=null;for(const r of i.fieldTransforms){const a=e.data.field(r.field),l=cw(r.transform,a||null);l!=null&&(t===null&&(t=oi.empty()),t.set(r.field,l))}return t||null}function xT(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&sl(r,a,((l,c)=>wV(l,c)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class hc extends id{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ya extends id{constructor(e,t,r,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function pw(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=i.data.field(t);e.set(t,r)}})),e}function MT(i,e,t){const r=new Map;it(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let a=0;a<t.length;a++){const l=i[a],c=l.transform,d=e.data.field(l.field);r.set(l.field,SV(c,d,t[a]))}return r}function VT(i,e,t){const r=new Map;for(const a of i){const l=a.transform,c=t.data.field(a.field);r.set(a.field,bV(l,c,e))}return r}class gw extends id{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OV extends id{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&CV(l,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=zu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=zu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=lw();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const p=mw(c,d);p!==null&&r.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(Ne.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),$e())}isEqual(e){return this.batchId===e.batchId&&sl(this.mutations,e.mutations,((t,r)=>xT(t,r)))&&sl(this.baseMutations,e.baseMutations,((t,r)=>xT(t,r)))}}class Jg{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){it(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return yV})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new Jg(e,t,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt,Je;function MV(i){switch(i){case ie.OK:return Oe(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Oe(15467,{code:i})}}function yw(i){if(i===void 0)return Gr("GRPC error has no .code"),ie.UNKNOWN;switch(i){case Bt.OK:return ie.OK;case Bt.CANCELLED:return ie.CANCELLED;case Bt.UNKNOWN:return ie.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return ie.INTERNAL;case Bt.UNAVAILABLE:return ie.UNAVAILABLE;case Bt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Bt.NOT_FOUND:return ie.NOT_FOUND;case Bt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Bt.ABORTED:return ie.ABORTED;case Bt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Bt.DATA_LOSS:return ie.DATA_LOSS;default:return Oe(39323,{code:i})}}(Je=Bt||(Bt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV=new Us([4294967295,4294967295],0);function kT(i){const e=VV().encode(i),t=new NA;return t.update(e),new Uint8Array(t.digest())}function LT(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Us([t,r],0),new Us([a,l],0)]}class Zg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Iu(`Invalid padding: ${t}`);if(r<0)throw new Iu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Iu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Iu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Us.fromNumber(this.ge)}ye(e,t,r){let a=e.add(t.multiply(Us.fromNumber(r)));return a.compare(kV)===1&&(a=new Us([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=kT(e),[r,a]=LT(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);if(!this.we(c))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Zg(l,a,t);return r.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=kT(e),[r,a]=LT(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Iu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,t,r,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,dc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new rd(Ne.min(),a,new St(Ge),$r(),$e())}}class dc{constructor(e,t,r,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new dc(r,t,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,t,r,a){this.be=e,this.removedTargetIds=t,this.key=r,this.De=a}}class _w{constructor(e,t){this.targetId=e,this.Ce=t}}class vw{constructor(e,t,r=un.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class PT{constructor(){this.ve=0,this.Fe=UT(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=$e(),t=$e(),r=$e();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:Oe(38017,{changeType:l})}})),new dc(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=UT()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,it(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class LV{constructor(e){this.Ge=e,this.ze=new Map,this.je=$r(),this.Je=Yf(),this.He=Yf(),this.Ye=new St(Ge)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Oe(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,r=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(eg(l))if(r===0){const c=new we(l.path);this.et(t,c,mn.newNoDocument(c,Ne.min()))}else it(r===1,20013,{expectedCount:r});else{const c=this._t(t);if(c!==r){const d=this.ut(e),p=d?this.ct(d,e,c):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=Gs(r).toUint8Array()}catch(p){if(p instanceof qA)return rl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Zg(c,a,l)}catch(p){return rl(p instanceof Iu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let a=0;return r.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&eg(d.target)){const p=new we(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,mn.newNoDocument(p,e))}l.Be&&(t.set(c,l.ke()),l.qe())}}));let r=$e();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new rd(e,t,this.Ye,this.je,r);return this.je=$r(),this.Je=Yf(),this.He=Yf(),this.Ye=new St(Ge),a}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new PT,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Yt(Ge),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Yt(Ge),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ge("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new PT),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Yf(){return new St(we.comparator)}function UT(){return new St(we.comparator)}const PV={asc:"ASCENDING",desc:"DESCENDING"},UV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zV={and:"AND",or:"OR"};class FV{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ig(i,e){return i.useProto3Json||Jh(e)?e:{value:e}}function Nh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ew(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function jV(i,e){return Nh(i,e.toTimestamp())}function sr(i){return it(!!i,49232),Ne.fromTimestamp((function(t){const r=Hs(t);return new yt(r.seconds,r.nanos)})(i))}function ey(i,e){return rg(i,e).canonicalString()}function rg(i,e){const t=(function(a){return new mt(["projects",a.projectId,"databases",a.database])})(i).child("documents");return e===void 0?t:t.child(e)}function Tw(i){const e=mt.fromString(i);return it(Rw(e),10190,{key:e.toString()}),e}function sg(i,e){return ey(i.databaseId,e.path)}function Cp(i,e){const t=Tw(e);if(t.get(1)!==i.databaseId.projectId)throw new pe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new pe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new we(Sw(t))}function bw(i,e){return ey(i.databaseId,e)}function BV(i){const e=Tw(i);return e.length===4?mt.emptyPath():Sw(e)}function ag(i){return new mt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Sw(i){return it(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function zT(i,e,t){return{name:sg(i,e),fields:t.value.mapValue.fields}}function qV(i,e){let t;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Oe(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,v){return g.useProto3Json?(it(v===void 0||typeof v=="string",58123),un.fromBase64String(v||"")):(it(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),un.fromUint8Array(v||new Uint8Array))})(i,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(g){const v=g.code===void 0?ie.UNKNOWN:yw(g.code);return new pe(v,g.message||"")})(c);t=new vw(r,a,l,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Cp(i,r.document.name),l=sr(r.document.updateTime),c=r.document.createTime?sr(r.document.createTime):Ne.min(),d=new oi({mapValue:{fields:r.document.fields}}),p=mn.newFoundDocument(a,l,c,d),g=r.targetIds||[],v=r.removedTargetIds||[];t=new lh(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Cp(i,r.document),l=r.readTime?sr(r.readTime):Ne.min(),c=mn.newNoDocument(a,l),d=r.removedTargetIds||[];t=new lh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Cp(i,r.document),l=r.removedTargetIds||[];t=new lh([],l,a,null)}else{if(!("filter"in e))return Oe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new xV(a,l),d=r.targetId;t=new _w(d,c)}}return t}function HV(i,e){let t;if(e instanceof hc)t={update:zT(i,e.key,e.value)};else if(e instanceof gw)t={delete:sg(i,e.key)};else if(e instanceof Ya)t={update:zT(i,e.key,e.data),updateMask:ZV(e.fieldMask)};else{if(!(e instanceof OV))return Oe(16599,{Vt:e.type});t={verify:sg(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(l,c){const d=c.transform;if(d instanceof Xu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Wu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ju)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Dh)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Oe(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:jV(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Oe(27497)})(i,e.precondition)),t}function GV(i,e){return i&&i.length>0?(it(e!==void 0,14353),i.map((t=>(function(a,l){let c=a.updateTime?sr(a.updateTime):sr(l);return c.isEqual(Ne.min())&&(c=sr(l)),new RV(c,a.transformResults||[])})(t,e)))):[]}function $V(i,e){return{documents:[bw(i,e.path)]}}function KV(i,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=bw(i,a);const l=(function(g){if(g.length!==0)return ww(Oi.create(g,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((v=>(function(S){return{field:Yo(S.field),direction:XV(S.dir)}})(v)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=ig(i,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:a}}function YV(i){let e=BV(i.parent);const t=i.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){it(r===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=(function(T){const S=Aw(T);return S instanceof Oi&&ZA(S)?S.getFilters():[S]})(t.where));let c=[];t.orderBy&&(c=(function(T){return T.map((S=>(function(U){return new Qu(Qo(U.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(S)))})(t.orderBy));let d=null;t.limit&&(d=(function(T){let S;return S=typeof T=="object"?T.value:T,Jh(S)?null:S})(t.limit));let p=null;t.startAt&&(p=(function(T){const S=!!T.before,x=T.values||[];return new Oh(x,S)})(t.startAt));let g=null;return t.endAt&&(g=(function(T){const S=!T.before,x=T.values||[];return new Oh(x,S)})(t.endAt)),hV(e,a,c,l,d,"F",p,g)}function QV(i,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Aw(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Qo(t.unaryFilter.field);return qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Qo(t.unaryFilter.field);return qt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Qo(t.unaryFilter.field);return qt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Qo(t.unaryFilter.field);return qt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oe(61313);default:return Oe(60726)}})(i):i.fieldFilter!==void 0?(function(t){return qt.create(Qo(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oe(58110);default:return Oe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return Oi.create(t.compositeFilter.filters.map((r=>Aw(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Oe(1026)}})(t.compositeFilter.op))})(i):Oe(30097,{filter:i})}function XV(i){return PV[i]}function WV(i){return UV[i]}function JV(i){return zV[i]}function Yo(i){return{fieldPath:i.canonicalString()}}function Qo(i){return ln.fromServerFormat(i.fieldPath)}function ww(i){return i instanceof qt?(function(t){if(t.op==="=="){if(RT(t.value))return{unaryFilter:{field:Yo(t.field),op:"IS_NAN"}};if(wT(t.value))return{unaryFilter:{field:Yo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(RT(t.value))return{unaryFilter:{field:Yo(t.field),op:"IS_NOT_NAN"}};if(wT(t.value))return{unaryFilter:{field:Yo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yo(t.field),op:WV(t.op),value:t.value}}})(i):i instanceof Oi?(function(t){const r=t.getFilters().map((a=>ww(a)));return r.length===1?r[0]:{compositeFilter:{op:JV(t.op),filters:r}}})(i):Oe(54877,{filter:i})}function ZV(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Rw(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,t,r,a,l=Ne.min(),c=Ne.min(),d=un.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new ks(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e){this.yt=e}}function tk(i){const e=YV({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?ng(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(){this.Cn=new ik}addToCollectionParentIndex(e,t){return this.Cn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(qs.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(qs.min())}updateCollectionGroup(e,t,r){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class ik{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new Yt(mt.comparator),l=!a.has(r);return this.index[t]=a.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Yt(mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Cw=41943040;class Mn{static withCacheSize(e){return new Mn(e,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(Cw,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ll(0)}static cr(){return new ll(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="LruGarbageCollector",rk=1048576;function BT([i,e],[t,r]){const a=Ge(i,t);return a===0?Ge(e,r):a}class sk{constructor(e){this.Ir=e,this.buffer=new Yt(BT),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();BT(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ak{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ge(jT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){_l(t)?ge(jT,"Ignoring IndexedDB error during garbage collection: ",t):await yl(t)}await this.Vr(3e5)}))}}class ok{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return se.resolve(Wh.ce);const r=new sk(t);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(FT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),FT):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,a,l,c,d,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(e,a)))).next((T=>(r=T,d=Date.now(),this.removeTargets(e,r,t)))).next((T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(e,r)))).next((T=>(g=Date.now(),$o()<=He.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T}))))}}function lk(i,e){return new ok(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(){this.changes=new Ka((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?se.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(r!==null&&zu(r.mutation,a,wi.empty(),yt.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,$e()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=$e()){const a=Na();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,r).next((l=>{let c=Cu();return l.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const r=Na();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,$e())))}populateOverlays(e,t,r){const a=[];return r.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,r,a){let l=$r();const c=Uu(),d=(function(){return Uu()})();return t.forEach(((p,g)=>{const v=r.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof Ya)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),zu(v.mutation,g,v.mutation.getFieldMask(),yt.now())):c.set(g.key,wi.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((g,v)=>c.set(g,v))),t.forEach(((g,v)=>d.set(g,new ck(v,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,t){const r=Uu();let a=new St(((c,d)=>c-d)),l=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((p=>{const g=t.get(p);if(g===null)return;let v=r.get(p)||wi.empty();v=d.applyToLocalView(g,v),r.set(p,v);const T=(a.get(d.batchId)||$e()).add(p);a=a.insert(d.batchId,T)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,T=lw();v.forEach((S=>{if(!l.has(S)){const x=mw(t.get(S),r.get(S));x!==null&&T.set(S,x),l=l.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,T))}return se.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,a){return(function(c){return we.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):iw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-l.size):se.resolve(Na());let d=Gu,p=l;return c.next((g=>se.forEach(g,((v,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(v)?se.resolve():this.remoteDocumentCache.getEntry(e,v).next((S=>{p=p.insert(v,S)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,p,g,$e()))).next((v=>({batchId:d,changes:ow(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next((r=>{let a=Cu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const l=t.collectionGroup;let c=Cu();return this.indexManager.getCollectionParents(e,l).next((d=>se.forEach(d,(p=>{const g=(function(T,S){return new vl(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,r,a).next((v=>{v.forEach(((T,S)=>{c=c.insert(T,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,a)))).next((c=>{l.forEach(((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,mn.newInvalidDocument(v)))}));let d=Cu();return c.forEach(((p,g)=>{const v=l.get(p);v!==void 0&&zu(v.mutation,g,wi.empty(),yt.now()),td(t,g)&&(d=d.insert(p,g))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return se.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:sr(a.createTime)}})(t)),se.resolve()}getNamedQuery(e,t){return se.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:tk(a.bundledQuery),readTime:sr(a.readTime)}})(t)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(){this.overlays=new St(we.comparator),this.qr=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Na();return se.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((a,l)=>{this.St(e,t,l)})),se.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(r)),se.resolve()}getOverlaysForCollection(e,t,r){const a=Na(),l=t.length+1,c=new we(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>r&&a.set(p.getKey(),p)}return se.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let l=new St(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>r){let v=l.get(g.largestBatchId);v===null&&(v=Na(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=Na(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>d.set(g,v))),!(d.size()>=a)););return se.resolve(d)}St(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new NV(t,r));let l=this.qr.get(t);l===void 0&&(l=$e(),this.qr.set(t,l)),this.qr.set(t,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(){this.Qr=new Yt(en.$r),this.Ur=new Yt(en.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new en(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new en(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new we(new mt([])),r=new en(t,e),a=new en(t,e+1),l=[];return this.Ur.forEachInRange([r,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new we(new mt([])),r=new en(t,e),a=new en(t,e+1);let l=$e();return this.Ur.forEachInRange([r,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new en(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class en{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return we.comparator(e.key,t.key)||Ge(e.Yr,t.Yr)}static Kr(e,t){return Ge(e.Yr,t.Yr)||we.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Yt(en.$r)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new DV(l,t,r,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new en(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return se.resolve(c)}lookupMutationBatch(e,t){return se.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.ei(r),l=a<0?0:a;return se.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?Gg:this.tr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new en(t,0),a=new en(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([r,a],(c=>{const d=this.Xr(c.Yr);l.push(d)})),se.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Yt(Ge);return t.forEach((a=>{const l=new en(a,0),c=new en(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{r=r.add(d.Yr)}))})),se.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let l=r;we.isDocumentKey(l)||(l=l.child(""));const c=new en(new we(l),0);let d=new Yt(Ge);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===a&&(d=d.add(p.Yr)),!0)}),c),se.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){it(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return se.forEach(t.mutations,(a=>{const l=new en(a.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new en(t,0),a=this.Zr.firstAfterOrEqual(r);return se.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e){this.ri=e,this.docs=(function(){return new St(we.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),l=a?a.size:0,c=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return se.resolve(r?r.document.mutableCopy():mn.newInvalidDocument(t))}getEntries(e,t){let r=$r();return t.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():mn.newInvalidDocument(a))})),se.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let l=$r();const c=t.path,d=new we(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||HM(qM(v),r)<=0||(a.has(v.key)||td(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return se.resolve(l)}getAllFromCollectionGroup(e,t,r,a){Oe(9500)}ii(e,t){return se.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new yk(this)}getSize(e){return se.resolve(this.size)}}class yk extends uk{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),se.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e){this.persistence=e,this.si=new Ka((t=>Yg(t)),Qg),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.oi=0,this._i=new ty,this.targetCount=0,this.ai=ll.ur()}forEachTarget(e,t){return this.si.forEach(((r,a)=>t(a))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),se.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ll(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.Pr(t),se.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,r){let a=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),se.waitFor(l).next((()=>a))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return se.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),se.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),se.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),se.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return se.resolve(r)}containsKey(e,t){return se.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e,t){this.ui={},this.overlays={},this.ci=new Wh(0),this.li=!1,this.li=!0,this.hi=new mk,this.referenceDelegate=e(this),this.Pi=new _k(this),this.indexManager=new nk,this.remoteDocumentCache=(function(a){return new gk(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new ek(t),this.Ii=new hk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new dk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new pk(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){ge("MemoryPersistence","Starting transaction:",e);const a=new vk(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,t){return se.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class vk extends $M{constructor(e){super(),this.currentSequenceNumber=e}}class ny{constructor(e){this.persistence=e,this.Ri=new ty,this.Vi=null}static mi(e){return new ny(e)}get fi(){if(this.Vi)return this.Vi;throw Oe(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),se.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),se.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,(r=>{const a=we.fromPath(r);return this.gi(e,a).next((l=>{l||t.removeEntry(a,Ne.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return se.or([()=>se.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class xh{constructor(e,t){this.persistence=e,this.pi=new Ka((r=>QM(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=lk(this,t)}static mi(e,t){return new xh(e,t)}Ei(){}di(e){return se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return se.forEach(this.pi,((r,a)=>this.br(e,r,a).next((l=>l?se.resolve():t(a)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,t).next((d=>{d||(r++,l.removeEntry(c,Ne.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),se.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),se.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),se.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=sh(e.data.value)),t}br(e,t,r){return se.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return se.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=a}static As(e,t){let r=$e(),a=$e();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new iy(e,t.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return C2()?8:KM(gn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,a){const l={result:null};return this.ys(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,t,a,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new Ek;return this.Ss(e,t,c).next((d=>{if(l.result=d,this.Vs)return this.bs(e,t,c,d.size)}))})).next((()=>l.result))}bs(e,t,r,a){return r.documentReadCount<this.fs?($o()<=He.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Ko(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):($o()<=He.DEBUG&&ge("QueryEngine","Query:",Ko(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?($o()<=He.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Ko(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,rr(t))):se.resolve())}ys(e,t){if(DT(t))return se.resolve(null);let r=rr(t);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=ng(t,null,"F"),r=rr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const c=$e(...l);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,r).next((p=>{const g=this.Ds(t,d);return this.Cs(t,g,c,p.readTime)?this.ys(e,ng(t,null,"F")):this.vs(e,g,t,p)}))))})))))}ws(e,t,r,a){return DT(t)||a.isEqual(Ne.min())?se.resolve(null):this.ps.getDocuments(e,r).next((l=>{const c=this.Ds(t,l);return this.Cs(t,c,r,a)?se.resolve(null):($o()<=He.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ko(t)),this.vs(e,c,t,BM(a,Gu)).next((d=>d)))}))}Ds(e,t){let r=new Yt(sw(e));return t.forEach(((a,l)=>{td(e,l)&&(r=r.add(l))})),r}Cs(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,r){return $o()<=He.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Ko(t)),this.ps.getDocumentsMatchingQuery(e,t,qs.min(),r)}vs(e,t,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry="LocalStore",bk=3e8;class Sk{constructor(e,t,r,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new St(Ge),this.xs=new Ka((l=>Yg(l)),Qg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function Ak(i,e,t,r){return new Sk(i,e,t,r)}async function Ow(i,e){const t=Me(i);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],d=[];let p=$e();for(const g of a){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of l){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(r,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function wk(i,e){const t=Me(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,v){const T=g.batch,S=T.keys();let x=se.resolve();return S.forEach((U=>{x=x.next((()=>v.getEntry(p,U))).next((F=>{const G=g.docVersions.get(U);it(G!==null,48541),F.version.compareTo(G)<0&&(T.applyToRemoteDocument(F,g),F.isValidDocument()&&(F.setReadTime(g.commitVersion),v.addEntry(F)))}))})),x.next((()=>d.mutationQueue.removeMutationBatch(p,T)))})(t,r,e,l).next((()=>l.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let p=$e();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(r,a)))}))}function Dw(i){const e=Me(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function Rk(i,e){const t=Me(i),r=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const d=[];e.targetChanges.forEach(((v,T)=>{const S=a.get(T);if(!S)return;d.push(t.Pi.removeMatchingKeys(l,v.removedDocuments,T).next((()=>t.Pi.addMatchingKeys(l,v.addedDocuments,T))));let x=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?x=x.withResumeToken(un.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):v.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(v.resumeToken,r)),a=a.insert(T,x),(function(F,G,$){return F.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=bk?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(S,x,v)&&d.push(t.Pi.updateTargetData(l,x))}));let p=$r(),g=$e();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))})),d.push(Ck(l,c,e.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!r.isEqual(Ne.min())){const v=t.Pi.getLastRemoteSnapshotVersion(l).next((T=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,r)));d.push(v)}return se.waitFor(d).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,g))).next((()=>p))})).then((l=>(t.Ms=a,l)))}function Ck(i,e,t){let r=$e(),a=$e();return t.forEach((l=>r=r.add(l))),e.getEntries(i,r).next((l=>{let c=$r();return t.forEach(((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),p.isNoDocument()&&p.version.isEqual(Ne.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):ge(ry,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:a}}))}function Ik(i,e){const t=Me(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Gg),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Ok(i,e){const t=Me(i);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return t.Pi.getTargetData(r,e).next((l=>l?(a=l,se.resolve(a)):t.Pi.allocateTargetId(r).next((c=>(a=new ks(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=t.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function og(i,e,t){const r=Me(i),a=r.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!_l(c))throw c;ge(ry,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function qT(i,e,t){const r=Me(i);let a=Ne.min(),l=$e();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,v){const T=Me(p),S=T.xs.get(v);return S!==void 0?se.resolve(T.Ms.get(S)):T.Pi.getTargetData(g,v)})(r,c,rr(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,d.targetId).next((p=>{l=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,t?a:Ne.min(),t?l:$e()))).next((d=>(Dk(r,mV(e),d),{documents:d,Qs:l})))))}function Dk(i,e,t){let r=i.Os.get(e)||Ne.min();t.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),i.Os.set(e,r)}class HT{constructor(){this.activeTargetIds=EV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Nk{constructor(){this.Mo=new HT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new HT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="ConnectivityMonitor";class $T{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ge(GT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ge(GT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qf=null;function lg(){return Qf===null?Qf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qf++,"0x"+Qf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip="RestConnection",Mk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Vk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Ch?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,t,r,a,l){const c=lg(),d=this.zo(e,t.toUriEncodedString());ge(Ip,`Sending RPC '${e}' ${c}:`,d,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,a,l);const{host:g}=new URL(d),v=dl(g);return this.Jo(e,d,p,r,v).then((T=>(ge(Ip,`Received RPC '${e}' ${c}: `,T),T)),(T=>{throw rl(Ip,`RPC '${e}' ${c} failed with error: `,T,"url: ",d,"request:",r),T}))}Ho(e,t,r,a,l,c){return this.Go(e,t,r,a,l)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+gl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),r&&r.headers.forEach(((a,l)=>e[l]=a))}zo(e,t){const r=Mk[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn="WebChannelConnection";class Lk extends Vk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,a,l){const c=lg();return new Promise(((d,p)=>{const g=new xA;g.setWithCredentials(!0),g.listenOnce(MA.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case rh.NO_ERROR:const T=g.getResponseJson();ge(hn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),d(T);break;case rh.TIMEOUT:ge(hn,`RPC '${e}' ${c} timed out`),p(new pe(ie.DEADLINE_EXCEEDED,"Request time out"));break;case rh.HTTP_ERROR:const S=g.getStatus();if(ge(hn,`RPC '${e}' ${c} failed with status:`,S,"response text:",g.getResponseText()),S>0){let x=g.getResponseJson();Array.isArray(x)&&(x=x[0]);const U=x?.error;if(U&&U.status&&U.message){const F=(function($){const H=$.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(H)>=0?H:ie.UNKNOWN})(U.status);p(new pe(F,U.message))}else p(new pe(ie.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new pe(ie.UNAVAILABLE,"Connection failed."));break;default:Oe(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ge(hn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);ge(hn,`RPC '${e}' ${c} sending request:`,a),g.send(t,"POST",v,r,15)}))}T_(e,t,r){const a=lg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=LA(),d=kA(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,r),p.encodeInitMessageHeaders=!0;const v=l.join("");ge(hn,`Creating RPC '${e}' stream ${a}: ${v}`,p);const T=c.createWebChannel(v,p);this.I_(T);let S=!1,x=!1;const U=new kk({Yo:G=>{x?ge(hn,`Not sending because RPC '${e}' stream ${a} is closed:`,G):(S||(ge(hn,`Opening RPC '${e}' stream ${a} transport.`),T.open(),S=!0),ge(hn,`RPC '${e}' stream ${a} sending:`,G),T.send(G))},Zo:()=>T.close()}),F=(G,$,H)=>{G.listen($,(ae=>{try{H(ae)}catch(ve){setTimeout((()=>{throw ve}),0)}}))};return F(T,Ru.EventType.OPEN,(()=>{x||(ge(hn,`RPC '${e}' stream ${a} transport opened.`),U.o_())})),F(T,Ru.EventType.CLOSE,(()=>{x||(x=!0,ge(hn,`RPC '${e}' stream ${a} transport closed`),U.a_(),this.E_(T))})),F(T,Ru.EventType.ERROR,(G=>{x||(x=!0,rl(hn,`RPC '${e}' stream ${a} transport errored. Name:`,G.name,"Message:",G.message),U.a_(new pe(ie.UNAVAILABLE,"The operation could not be completed")))})),F(T,Ru.EventType.MESSAGE,(G=>{if(!x){const $=G.data[0];it(!!$,16349);const H=$,ae=H?.error||H[0]?.error;if(ae){ge(hn,`RPC '${e}' stream ${a} received error:`,ae);const ve=ae.status;let he=(function(w){const C=Bt[w];if(C!==void 0)return yw(C)})(ve),Ee=ae.message;he===void 0&&(he=ie.INTERNAL,Ee="Unknown error status: "+ve+" with message "+ae.message),x=!0,U.a_(new pe(he,Ee)),T.close()}else ge(hn,`RPC '${e}' stream ${a} received:`,$),U.u_($)}})),F(d,VA.STAT_EVENT,(G=>{G.stat===Qp.PROXY?ge(hn,`RPC '${e}' stream ${a} detected buffering proxy`):G.stat===Qp.NOPROXY&&ge(hn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Op(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(i){return new FV(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e,t,r=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-r);a>0&&ge("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="PersistentStream";class xw{constructor(e,t,r,a,l,c,d,p){this.Mi=e,this.S_=r,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Nw(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(Gr(t.toString()),Gr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===t&&this.G_(r,a)}),(r=>{e((()=>{const a=new pe(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(KT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ge(KT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Pk extends xw{constructor(e,t,r,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=qV(this.serializer,e),r=(function(l){if(!("targetChange"in l))return Ne.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ne.min():c.readTime?sr(c.readTime):Ne.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=ag(this.serializer),t.addTarget=(function(l,c){let d;const p=c.target;if(d=eg(p)?{documents:$V(l,p)}:{query:KV(l,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=Ew(l,c.resumeToken);const g=ig(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ne.min())>0){d.readTime=Nh(l,c.snapshotVersion.toTimestamp());const g=ig(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const r=QV(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=ag(this.serializer),t.removeTarget=e,this.q_(t)}}class Uk extends xw{constructor(e,t,r,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return it(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){it(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=GV(e.writeResults,e.commitTime),r=sr(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=ag(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>HV(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{}class Fk extends zk{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new pe(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,rg(t,r),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new pe(ie.UNKNOWN,l.toString())}))}Ho(e,t,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,rg(t,r),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pe(ie.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class jk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Gr(t),this.aa=!1):ge("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja="RemoteStore";class Bk{constructor(e,t,r,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{Qa(this)&&(ge(ja,"Restarting streams for network reachability change."),await(async function(p){const g=Me(p);g.Ea.add(4),await mc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await ad(g)})(this))}))})),this.Ra=new jk(r,a)}}async function ad(i){if(Qa(i))for(const e of i.da)await e(!0)}async function mc(i){for(const e of i.da)await e(!1)}function Mw(i,e){const t=Me(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),ly(t)?oy(t):El(t).O_()&&ay(t,e))}function sy(i,e){const t=Me(i),r=El(t);t.Ia.delete(e),r.O_()&&Vw(t,e),t.Ia.size===0&&(r.O_()?r.L_():Qa(t)&&t.Ra.set("Unknown"))}function ay(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}El(i).Y_(e)}function Vw(i,e){i.Va.Ue(e),El(i).Z_(e)}function oy(i){i.Va=new LV({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),El(i).start(),i.Ra.ua()}function ly(i){return Qa(i)&&!El(i).x_()&&i.Ia.size>0}function Qa(i){return Me(i).Ea.size===0}function kw(i){i.Va=void 0}async function qk(i){i.Ra.set("Online")}async function Hk(i){i.Ia.forEach(((e,t)=>{ay(i,e)}))}async function Gk(i,e){kw(i),ly(i)?(i.Ra.ha(e),oy(i)):i.Ra.set("Unknown")}async function $k(i,e,t){if(i.Ra.set("Online"),e instanceof vw&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(i,e)}catch(r){ge(ja,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Mh(i,r)}else if(e instanceof lh?i.Va.Ze(e):e instanceof _w?i.Va.st(e):i.Va.tt(e),!t.isEqual(Ne.min()))try{const r=await Dw(i.localStore);t.compareTo(r)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,g)=>{const v=l.Ia.get(p);if(!v)return;l.Ia.set(p,v.withResumeToken(un.EMPTY_BYTE_STRING,v.snapshotVersion)),Vw(l,p);const T=new ks(v.target,p,g,v.sequenceNumber);ay(l,T)})),l.remoteSyncer.applyRemoteEvent(d)})(i,t)}catch(r){ge(ja,"Failed to raise snapshot:",r),await Mh(i,r)}}async function Mh(i,e,t){if(!_l(e))throw e;i.Ea.add(1),await mc(i),i.Ra.set("Offline"),t||(t=()=>Dw(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ge(ja,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await ad(i)}))}function Lw(i,e){return e().catch((t=>Mh(i,t,e)))}async function od(i){const e=Me(i),t=Ks(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Gg;for(;Kk(e);)try{const a=await Ik(e.localStore,r);if(a===null){e.Ta.length===0&&t.L_();break}r=a.batchId,Yk(e,a)}catch(a){await Mh(e,a)}Pw(e)&&Uw(e)}function Kk(i){return Qa(i)&&i.Ta.length<10}function Yk(i,e){i.Ta.push(e);const t=Ks(i);t.O_()&&t.X_&&t.ea(e.mutations)}function Pw(i){return Qa(i)&&!Ks(i).x_()&&i.Ta.length>0}function Uw(i){Ks(i).start()}async function Qk(i){Ks(i).ra()}async function Xk(i){const e=Ks(i);for(const t of i.Ta)e.ea(t.mutations)}async function Wk(i,e,t){const r=i.Ta.shift(),a=Jg.from(r,e,t);await Lw(i,(()=>i.remoteSyncer.applySuccessfulWrite(a))),await od(i)}async function Jk(i,e){e&&Ks(i).X_&&await(async function(r,a){if((function(c){return MV(c)&&c!==ie.ABORTED})(a.code)){const l=r.Ta.shift();Ks(r).B_(),await Lw(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await od(r)}})(i,e),Pw(i)&&Uw(i)}async function YT(i,e){const t=Me(i);t.asyncQueue.verifyOperationInProgress(),ge(ja,"RemoteStore received new credentials");const r=Qa(t);t.Ea.add(3),await mc(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await ad(t)}async function Zk(i,e){const t=Me(i);e?(t.Ea.delete(2),await ad(t)):e||(t.Ea.add(2),await mc(t),t.Ra.set("Unknown"))}function El(i){return i.ma||(i.ma=(function(t,r,a){const l=Me(t);return l.sa(),new Pk(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(i.datastore,i.asyncQueue,{Xo:qk.bind(null,i),t_:Hk.bind(null,i),r_:Gk.bind(null,i),H_:$k.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),ly(i)?oy(i):i.Ra.set("Unknown")):(await i.ma.stop(),kw(i))}))),i.ma}function Ks(i){return i.fa||(i.fa=(function(t,r,a){const l=Me(t);return l.sa(),new Uk(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:Qk.bind(null,i),r_:Jk.bind(null,i),ta:Xk.bind(null,i),na:Wk.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await od(i)):(await i.fa.stop(),i.Ta.length>0&&(ge(ja,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,t,r,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Ma,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,l){const c=Date.now()+r,d=new uy(e,t,c,a,l);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cy(i,e){if(Gr("AsyncQueue",`${e}: ${i}`),_l(i))return new pe(ie.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{static emptySet(e){return new nl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||we.comparator(t.key,r.key):(t,r)=>we.comparator(t.key,r.key),this.keyedMap=Cu(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof nl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new nl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(){this.ga=new St(we.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Oe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class ul{constructor(e,t,r,a,l,c,d,p,g){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,r,a,l){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new ul(e,t,nl.emptySet(t),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ed(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class t4{constructor(){this.queries=XT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const a=Me(t),l=a.queries;a.queries=XT(),l.forEach(((c,d)=>{for(const p of d.Sa)p.onError(r)}))})(this,new pe(ie.ABORTED,"Firestore shutting down"))}}function XT(){return new Ka((i=>rw(i)),ed)}async function n4(i,e){const t=Me(i);let r=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(r=2):(l=new e4,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=cy(c,`Initialization of query '${Ko(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&fy(t)}async function i4(i,e){const t=Me(i),r=e.query;let a=3;const l=t.queries.get(r);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function r4(i,e){const t=Me(i);let r=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(r=!0);c.wa=a}}r&&fy(t)}function s4(i,e,t){const r=Me(i),a=r.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);r.queries.delete(e)}function fy(i){i.Ca.forEach((e=>{e.next()}))}var ug,WT;(WT=ug||(ug={})).Ma="default",WT.Cache="cache";class a4{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new ul(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=ul.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ug.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e){this.key=e}}class Fw{constructor(e){this.key=e}}class o4{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=$e(),this.mutatedKeys=$e(),this.eu=sw(e),this.tu=new nl(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new QT,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,T)=>{const S=a.get(v),x=td(this.query,T)?T:null,U=!!S&&this.mutatedKeys.has(S.key),F=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let G=!1;S&&x?S.data.isEqual(x.data)?U!==F&&(r.track({type:3,doc:x}),G=!0):this.su(S,x)||(r.track({type:2,doc:x}),G=!0,(p&&this.eu(x,p)>0||g&&this.eu(x,g)<0)&&(d=!0)):!S&&x?(r.track({type:0,doc:x}),G=!0):S&&!x&&(r.track({type:1,doc:S}),G=!0,(p||g)&&(d=!0)),G&&(x?(c=c.add(x),l=F?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Cs:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,T)=>(function(x,U){const F=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe(20277,{Rt:G})}};return F(x)-F(U)})(v.type,T.type)||this.eu(v.doc,T.doc))),this.ou(r),a=a??!1;const d=t&&!a?this._u():[],p=this.Xa.size===0&&this.current&&!a?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new ul(this.query,e.tu,l,c,e.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new QT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=$e(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new Fw(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new zw(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=$e();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ul.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const hy="SyncEngine";class l4{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class u4{constructor(e){this.key=e,this.hu=!1}}class c4{constructor(e,t,r,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ka((d=>rw(d)),ed),this.Iu=new Map,this.Eu=new Set,this.du=new St(we.comparator),this.Au=new Map,this.Ru=new ty,this.Vu={},this.mu=new Map,this.fu=ll.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function f4(i,e,t=!0){const r=$w(i);let a;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await jw(r,e,t,!0),a}async function h4(i,e){const t=$w(i);await jw(t,e,!0,!1)}async function jw(i,e,t,r){const a=await Ok(i.localStore,rr(e)),l=a.targetId,c=i.sharedClientState.addLocalQueryTarget(l,t);let d;return r&&(d=await d4(i,e,l,c==="current",a.resumeToken)),i.isPrimaryClient&&t&&Mw(i.remoteStore,a),d}async function d4(i,e,t,r,a){i.pu=(T,S,x)=>(async function(F,G,$,H){let ae=G.view.ru($);ae.Cs&&(ae=await qT(F.localStore,G.query,!1).then((({documents:I})=>G.view.ru(I,ae))));const ve=H&&H.targetChanges.get(G.targetId),he=H&&H.targetMismatches.get(G.targetId)!=null,Ee=G.view.applyChanges(ae,F.isPrimaryClient,ve,he);return ZT(F,G.targetId,Ee.au),Ee.snapshot})(i,T,S,x);const l=await qT(i.localStore,e,!0),c=new o4(e,l.Qs),d=c.ru(l.documents),p=dc.createSynthesizedTargetChangeForCurrentChange(t,r&&i.onlineState!=="Offline",a),g=c.applyChanges(d,i.isPrimaryClient,p);ZT(i,t,g.au);const v=new l4(e,t,c);return i.Tu.set(e,v),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),g.snapshot}async function m4(i,e,t){const r=Me(i),a=r.Tu.get(e),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter((c=>!ed(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await og(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),t&&sy(r.remoteStore,a.targetId),cg(r,a.targetId)})).catch(yl)):(cg(r,a.targetId),await og(r.localStore,a.targetId,!0))}async function p4(i,e){const t=Me(i),r=t.Tu.get(e),a=t.Iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),sy(t.remoteStore,r.targetId))}async function g4(i,e,t){const r=S4(i);try{const a=await(function(c,d){const p=Me(c),g=yt.now(),v=d.reduce(((x,U)=>x.add(U.key)),$e());let T,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let U=$r(),F=$e();return p.Ns.getEntries(x,v).next((G=>{U=G,U.forEach((($,H)=>{H.isValidDocument()||(F=F.add($))}))})).next((()=>p.localDocuments.getOverlayedDocuments(x,U))).next((G=>{T=G;const $=[];for(const H of d){const ae=IV(H,T.get(H.key).overlayedDocument);ae!=null&&$.push(new Ya(H.key,ae,XA(ae.value.mapValue),jr.exists(!0)))}return p.mutationQueue.addMutationBatch(x,g,$,d)})).next((G=>{S=G;const $=G.applyToLocalDocumentSet(T,F);return p.documentOverlayCache.saveOverlays(x,G.batchId,$)}))})).then((()=>({batchId:S.batchId,changes:ow(T)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(c,d,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new St(Ge)),g=g.insert(d,p),c.Vu[c.currentUser.toKey()]=g})(r,a.batchId,t),await pc(r,a.changes),await od(r.remoteStore)}catch(a){const l=cy(a,"Failed to persist write");t.reject(l)}}async function Bw(i,e){const t=Me(i);try{const r=await Rk(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=t.Au.get(l);c&&(it(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?it(c.hu,14607):a.removedDocuments.size>0&&(it(c.hu,42227),c.hu=!1))})),await pc(t,r,e)}catch(r){await yl(r)}}function JT(i,e,t){const r=Me(i);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const p=Me(c);p.onlineState=d;let g=!1;p.queries.forEach(((v,T)=>{for(const S of T.Sa)S.va(d)&&(g=!0)})),g&&fy(p)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function y4(i,e,t){const r=Me(i);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Au.get(e),l=a&&a.key;if(l){let c=new St(we.comparator);c=c.insert(l,mn.newNoDocument(l,Ne.min()));const d=$e().add(l),p=new rd(Ne.min(),new Map,new St(Ge),c,d);await Bw(r,p),r.du=r.du.remove(l),r.Au.delete(e),dy(r)}else await og(r.localStore,e,!1).then((()=>cg(r,e,t))).catch(yl)}async function _4(i,e){const t=Me(i),r=e.batch.batchId;try{const a=await wk(t.localStore,e);Hw(t,r,null),qw(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await pc(t,a)}catch(a){await yl(a)}}async function v4(i,e,t){const r=Me(i);try{const a=await(function(c,d){const p=Me(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,d).next((T=>(it(T!==null,37113),v=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(r.localStore,e);Hw(r,e,t),qw(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await pc(r,a)}catch(a){await yl(a)}}function qw(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function Hw(i,e,t){const r=Me(i);let a=r.Vu[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function cg(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),t&&i.Pu.yu(r,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((r=>{i.Ru.containsKey(r)||Gw(i,r)}))}function Gw(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(sy(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),dy(i))}function ZT(i,e,t){for(const r of t)r instanceof zw?(i.Ru.addReference(r.key,e),E4(i,r)):r instanceof Fw?(ge(hy,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,e),i.Ru.containsKey(r.key)||Gw(i,r.key)):Oe(19791,{wu:r})}function E4(i,e){const t=e.key,r=t.path.canonicalString();i.du.get(t)||i.Eu.has(r)||(ge(hy,"New document in limbo: "+t),i.Eu.add(r),dy(i))}function dy(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new we(mt.fromString(e)),r=i.fu.next();i.Au.set(r,new u4(t)),i.du=i.du.insert(t,r),Mw(i.remoteStore,new ks(rr(Xg(t.path)),r,"TargetPurposeLimboResolution",Wh.ce))}}async function pc(i,e,t){const r=Me(i),a=[],l=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,p)=>{c.push(r.pu(p,e,t).then((g=>{if((g||t)&&r.isPrimaryClient){const v=g?!g.fromCache:t?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){a.push(g);const v=iy.As(p.targetId,g);l.push(v)}})))})),await Promise.all(c),r.Pu.H_(a),await(async function(p,g){const v=Me(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>se.forEach(g,(S=>se.forEach(S.Es,(x=>v.persistence.referenceDelegate.addReference(T,S.targetId,x))).next((()=>se.forEach(S.ds,(x=>v.persistence.referenceDelegate.removeReference(T,S.targetId,x)))))))))}catch(T){if(!_l(T))throw T;ge(ry,"Failed to update sequence numbers: "+T)}for(const T of g){const S=T.targetId;if(!T.fromCache){const x=v.Ms.get(S),U=x.snapshotVersion,F=x.withLastLimboFreeSnapshotVersion(U);v.Ms=v.Ms.insert(S,F)}}})(r.localStore,l))}async function T4(i,e){const t=Me(i);if(!t.currentUser.isEqual(e)){ge(hy,"User change. New user:",e.toKey());const r=await Ow(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((p=>{p.reject(new pe(ie.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await pc(t,r.Ls)}}function b4(i,e){const t=Me(i),r=t.Au.get(e);if(r&&r.hu)return $e().add(r.key);{let a=$e();const l=t.Iu.get(e);if(!l)return a;for(const c of l){const d=t.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function $w(i){const e=Me(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Bw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=b4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=y4.bind(null,e),e.Pu.H_=r4.bind(null,e.eventManager),e.Pu.yu=s4.bind(null,e.eventManager),e}function S4(i){const e=Me(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=v4.bind(null,e),e}class Vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Ak(this.persistence,new Tk,e.initialUser,this.serializer)}Cu(e){return new Iw(ny.mi,this.serializer)}Du(e){return new Nk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vh.provider={build:()=>new Vh};class A4 extends Vh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){it(this.persistence.referenceDelegate instanceof xh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new ak(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new Iw((r=>xh.mi(r,t)),this.serializer)}}class fg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>JT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=T4.bind(null,this.syncEngine),await Zk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new t4})()}createDatastore(e){const t=sd(e.databaseInfo.databaseId),r=(function(l){return new Lk(l)})(e.databaseInfo);return(function(l,c,d,p){return new Fk(l,c,d,p)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,a,l,c,d){return new Bk(r,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>JT(this.syncEngine,t,0)),(function(){return $T.v()?new $T:new xk})())}createSyncEngine(e,t){return(function(a,l,c,d,p,g,v){const T=new c4(a,l,c,d,p,g);return v&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Me(t);ge(ja,"RemoteStore shutting down."),r.Ea.add(5),await mc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}fg.provider={build:()=>new fg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Gr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="FirestoreClient";class R4{constructor(e,t,r,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=dn.UNAUTHENTICATED,this.clientId=Hg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{ge(Ys,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ge(Ys,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ma;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=cy(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Dp(i,e){i.asyncQueue.verifyOperationInProgress(),ge(Ys,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let r=t.initialUser;i.setCredentialChangeListener((async a=>{r.isEqual(a)||(await Ow(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function eb(i,e){i.asyncQueue.verifyOperationInProgress();const t=await C4(i);ge(Ys,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((r=>YT(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,a)=>YT(e.remoteStore,a))),i._onlineComponents=e}async function C4(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ge(Ys,"Using user provided OfflineComponentProvider");try{await Dp(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ie.FAILED_PRECONDITION||a.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;rl("Error using user provided cache. Falling back to memory cache: "+t),await Dp(i,new Vh)}}else ge(Ys,"Using default OfflineComponentProvider"),await Dp(i,new A4(void 0));return i._offlineComponents}async function Kw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ge(Ys,"Using user provided OnlineComponentProvider"),await eb(i,i._uninitializedComponentsProvider._online)):(ge(Ys,"Using default OnlineComponentProvider"),await eb(i,new fg))),i._onlineComponents}function I4(i){return Kw(i).then((e=>e.syncEngine))}async function tb(i){const e=await Kw(i),t=e.eventManager;return t.onListen=f4.bind(null,e.syncEngine),t.onUnlisten=m4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=h4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=p4.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="firestore.googleapis.com",ib=!0;class rb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Qw,this.ssl=ib}else this.host=e.host,this.ssl=e.ssl??ib;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Cw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rk)throw new pe(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Yw(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new pe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new pe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new pe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ld{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new NM;switch(r.type){case"firstParty":return new kM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=nb.get(t);r&&(ge("ComponentProvider","Removing Datastore"),nb.delete(t),r.terminate())})(this),Promise.resolve()}}function O4(i,e,t,r={}){i=ku(i,ld);const a=dl(e),l=i._getSettings(),c={...l,emulatorOptions:i._getEmulatorOptions()},d=`${e}:${t}`;a&&(vS(`https://${d}`),ES("Firestore",!0)),l.host!==Qw&&l.host!==d&&rl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:d,ssl:a,emulatorOptions:r};if(!Bs(p,c)&&(i._setSettings(p),r.mockUserToken)){let g,v;if(typeof r.mockUserToken=="string")g=r.mockUserToken,v=dn.MOCK_USER;else{g=v2(r.mockUserToken,i._app?.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new pe(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new dn(T)}i._authCredentials=new xM(new UA(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xa(this.firestore,e,this._query)}}class Kt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}toJSON(){return{type:Kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(fc(t,Kt._jsonSchema))return new Kt(e,r||null,new we(mt.fromString(t.referencePath)))}}Kt._jsonSchemaVersion="firestore/documentReference/1.0",Kt._jsonSchema={type:Ht("string",Kt._jsonSchemaVersion),referencePath:Ht("string")};class zs extends Xa{constructor(e,t,r){super(e,t,Xg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new we(e))}withConverter(e){return new zs(this.firestore,e,this._path)}}function my(i,e,...t){if(i=Qt(i),zA("collection","path",e),i instanceof ld){const r=mt.fromString(e,...t);return gT(r),new zs(i,null,r)}{if(!(i instanceof Kt||i instanceof zs))throw new pe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(mt.fromString(e,...t));return gT(r),new zs(i.firestore,null,r)}}function D4(i,e,...t){if(i=Qt(i),arguments.length===1&&(e=Hg.newId()),zA("doc","path",e),i instanceof ld){const r=mt.fromString(e,...t);return pT(r),new Kt(i,null,new we(r))}{if(!(i instanceof Kt||i instanceof zs))throw new pe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(mt.fromString(e,...t));return pT(r),new Kt(i.firestore,i instanceof zs?i.converter:null,new we(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb="AsyncQueue";class ab{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Nw(this,"async_queue_retry"),this._c=()=>{const r=Op();r&&ge(sb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Op();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Op();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Ma;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!_l(e))throw e;ge(sb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Gr("INTERNAL UNHANDLED ERROR: ",ob(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=uy.createAndSchedule(this,e,t,r,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Oe(47125,{Pc:ob(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function ob(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(i){return(function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1})(i,["next","error","complete"])}class kh extends ld{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new ab,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ab(e),this._firestoreClient=void 0,await e}}}function N4(i,e){const t=typeof i=="object"?i:Ig(),r=typeof i=="string"?i:Ch,a=Ha(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=y2("firestore");l&&O4(a,...l)}return a}function Xw(i){if(i._terminated)throw new pe(ie.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||x4(i),i._firestoreClient}function x4(i){const e=i._freezeSettings(),t=(function(a,l,c,d){return new JM(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Yw(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new R4(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this._byteString=e}static fromBase64String(e){try{return new li(un.fromBase64String(e))}catch(t){throw new pe(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new li(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:li._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fc(e,li._jsonSchema))return li.fromBase64String(e.bytes)}}li._jsonSchemaVersion="firestore/bytes/1.0",li._jsonSchema={type:Ht("string",li._jsonSchemaVersion),bytes:Ht("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ar._jsonSchemaVersion}}static fromJSON(e){if(fc(e,ar._jsonSchema))return new ar(e.latitude,e.longitude)}}ar._jsonSchemaVersion="firestore/geoPoint/1.0",ar._jsonSchema={type:Ht("string",ar._jsonSchemaVersion),latitude:Ht("number"),longitude:Ht("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:or._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fc(e,or._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new or(e.vectorValues);throw new pe(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}or._jsonSchemaVersion="firestore/vectorValue/1.0",or._jsonSchema={type:Ht("string",or._jsonSchemaVersion),vectorValues:Ht("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4=/^__.*__$/;class V4{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ya(e,this.data,this.fieldMask,t,this.fieldTransforms):new hc(e,this.data,t,this.fieldTransforms)}}function Ww(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe(40011,{Ac:i})}}class yy{constructor(e,t,r,a,l,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new yy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Lh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Ww(this.Ac)&&M4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class k4{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||sd(e)}Cc(e,t,r,a=!1){return new yy({Ac:e,methodName:t,Dc:r,path:ln.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jw(i){const e=i._freezeSettings(),t=sd(i._databaseId);return new k4(i._databaseId,!!e.ignoreUndefinedProperties,t)}function L4(i,e,t,r,a,l={}){const c=i.Cc(l.merge||l.mergeFields?2:0,e,t,a);tR("Data must be an object, but it was:",c,r);const d=Zw(r,c);let p,g;if(l.merge)p=new wi(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const T of l.mergeFields){const S=U4(e,T,t);if(!c.contains(S))throw new pe(ie.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);F4(v,S)||v.push(S)}p=new wi(v),g=c.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=c.fieldTransforms;return new V4(new oi(d),p,g)}class _y extends gy{_toFieldTransform(e){return new AV(e.path,new Xu)}isEqual(e){return e instanceof _y}}function P4(i,e,t,r=!1){return vy(t,i.Cc(r?4:3,e))}function vy(i,e){if(eR(i=Qt(i)))return tR("Unsupported field value:",e,i),Zw(i,e);if(i instanceof gy)return(function(r,a){if(!Ww(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const l=[];let c=0;for(const d of r){let p=vy(d,a.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(i,e)}return(function(r,a){if((r=Qt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return TV(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=yt.fromDate(r);return{timestampValue:Nh(a.serializer,l)}}if(r instanceof yt){const l=new yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Nh(a.serializer,l)}}if(r instanceof ar)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof li)return{bytesValue:Ew(a.serializer,r._byteString)};if(r instanceof Kt){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ey(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof or)return(function(c,d){return{mapValue:{fields:{[YA]:{stringValue:QA},[Ih]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return Wg(d.serializer,g)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${Xh(r)}`)})(i,e)}function Zw(i,e){const t={};return BA(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$a(i,((r,a)=>{const l=vy(a,e.mc(r));l!=null&&(t[r]=l)})),{mapValue:{fields:t}}}function eR(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof yt||i instanceof ar||i instanceof li||i instanceof Kt||i instanceof gy||i instanceof or)}function tR(i,e,t){if(!eR(t)||!FA(t)){const r=Xh(t);throw r==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+r)}}function U4(i,e,t){if((e=Qt(e))instanceof py)return e._internalPath;if(typeof e=="string")return nR(i,e);throw Lh("Field path arguments must be of type string or ",i,!1,void 0,t)}const z4=new RegExp("[~\\*/\\[\\]]");function nR(i,e,t){if(e.search(z4)>=0)throw Lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new py(...e.split("."))._internalPath}catch{throw Lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Lh(i,e,t,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${r}`),c&&(p+=` in document ${a}`),p+=")"),new pe(ie.INVALID_ARGUMENT,d+i+p)}function F4(i,e){return i.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,t,r,a,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new j4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ey("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class j4 extends iR{data(){return super.data()}}function Ey(i,e){return typeof e=="string"?nR(i,e):e instanceof py?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new pe(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ty{}class rR extends Ty{}function sR(i,e,...t){let r=[];e instanceof Ty&&r.push(e),r=r.concat(t),(function(l){const c=l.filter((p=>p instanceof Sy)).length,d=l.filter((p=>p instanceof by)).length;if(c>1||c>0&&d>0)throw new pe(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)i=a._apply(i);return i}class by extends rR{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new by(e,t,r)}_apply(e){const t=this._parse(e);return oR(e._query,t),new Xa(e.firestore,e.converter,tg(e._query,t))}_parse(e){const t=Jw(e.firestore);return(function(l,c,d,p,g,v,T){let S;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new pe(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){cb(T,v);const U=[];for(const F of T)U.push(ub(p,l,F));S={arrayValue:{values:U}}}else S=ub(p,l,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||cb(T,v),S=P4(d,c,T,v==="in"||v==="not-in");return qt.create(g,v,S)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Sy extends Ty{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Sy(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Oi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const p of d)oR(c,p),c=tg(c,p)})(e._query,t),new Xa(e.firestore,e.converter,tg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ay extends rR{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ay(e,t)}_apply(e){const t=(function(a,l,c){if(a.startAt!==null)throw new pe(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new pe(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qu(l,c)})(e._query,this._field,this._direction);return new Xa(e.firestore,e.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new vl(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,t))}}function aR(i,e="asc"){const t=e,r=Ey("orderBy",i);return Ay._create(r,t)}function ub(i,e,t){if(typeof(t=Qt(t))=="string"){if(t==="")throw new pe(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iw(e)&&t.indexOf("/")!==-1)throw new pe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(mt.fromString(t));if(!we.isDocumentKey(r))throw new pe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return AT(i,new we(r))}if(t instanceof Kt)return AT(i,t._key);throw new pe(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xh(t)}.`)}function cb(i,e){if(!Array.isArray(i)||i.length===0)throw new pe(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oR(i,e){const t=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(i.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new pe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class q4{convertValue(e,t="none"){switch($s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return $a(e,((a,l)=>{r[a]=this.convertValue(l,t)})),r}convertVectorValue(e){const t=e.fields?.[Ih].arrayValue?.values?.map((r=>xt(r.doubleValue)));return new or(t)}convertGeoPoint(e){return new ar(xt(e.latitude),xt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Zh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp($u(e));default:return null}}convertTimestamp(e){const t=Hs(e);return new yt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=mt.fromString(e);it(Rw(r),9688,{name:e});const a=new Ku(r.get(1),r.get(3)),l=new we(r.popFirst(5));return a.isEqual(t)||Gr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(i,e,t){let r;return r=i?i.toFirestore(e):e,r}class Ou{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Va extends iR{constructor(e,t,r,a,l,c){super(e,t,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Ey("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Va._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Va._jsonSchemaVersion="firestore/documentSnapshot/1.0",Va._jsonSchema={type:Ht("string",Va._jsonSchemaVersion),bundleSource:Ht("string","DocumentSnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class uh extends Va{data(e={}){return super.data(e)}}class il{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Ou(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new uh(this._firestore,this._userDataWriter,r.key,r,new Ou(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const p=new uh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Ou(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const p=new uh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Ou(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:G4(d.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=il._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Hg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function G4(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe(61501,{type:i})}}il._jsonSchemaVersion="firestore/querySnapshot/1.0",il._jsonSchema={type:Ht("string",il._jsonSchemaVersion),bundleSource:Ht("string","QuerySnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class lR extends q4{constructor(e){super(),this.firestore=e}convertBytes(e){return new li(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,t)}}function Zu(i,e){const t=ku(i.firestore,kh),r=D4(i),a=H4(i.converter,e);return $4(t,[L4(Jw(i.firestore),"addDoc",r._key,a,i.converter!==null,{}).toMutation(r._key,jr.exists(!1))]).then((()=>r))}function uR(i,...e){i=Qt(i);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||lb(e[r])||(t=e[r++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(lb(e[r])){const p=e[r];e[r]=p.next?.bind(p),e[r+1]=p.error?.bind(p),e[r+2]=p.complete?.bind(p)}let l,c,d;if(i instanceof Kt)c=ku(i.firestore,kh),d=Xg(i._key.path),l={next:p=>{e[r]&&e[r](K4(c,i,p))},error:e[r+1],complete:e[r+2]};else{const p=ku(i,Xa);c=ku(p.firestore,kh),d=p._query;const g=new lR(c);l={next:v=>{e[r]&&e[r](new il(c,g,p,v))},error:e[r+1],complete:e[r+2]},B4(i._query)}return(function(g,v,T,S){const x=new w4(S),U=new a4(v,x,T);return g.asyncQueue.enqueueAndForget((async()=>n4(await tb(g),U))),()=>{x.Nu(),g.asyncQueue.enqueueAndForget((async()=>i4(await tb(g),U)))}})(Xw(c),d,a,l)}function $4(i,e){return(function(r,a){const l=new Ma;return r.asyncQueue.enqueueAndForget((async()=>g4(await I4(r),a,l))),l.promise})(Xw(i),e)}function K4(i,e,t){const r=t.docs.get(e._key),a=new lR(i);return new Va(i,a,e._key,r,new Ou(t.hasPendingWrites,t.fromCache),e.converter)}function Ph(){return new _y("serverTimestamp")}(function(e,t=!0){(function(a){gl=a})(ml),lr(new Ci("firestore",((r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),d=new kh(new MM(r.getProvider("auth-internal")),new LM(c,r.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new pe(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ku(g.options.projectId,v)})(c,a),c);return l={useFetchStreams:t,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),ui(fT,hT,e),ui(fT,hT,"esm2020")})();const Y4={apiKey:"AIzaSyAZo54gw02DVu-yf76zE0Sm-NMP0_86tTU",authDomain:"mini-hackaton-eb6c8.firebaseapp.com",projectId:"mini-hackaton-eb6c8",storageBucket:"mini-hackaton-eb6c8.firebasestorage.app",messagingSenderId:"566429128341",appId:"1:566429128341:web:06d5fb27f26174aeb46d9c",measurementId:"G-2E8TZ1SECB"},wy=CS(Y4);fN(wy);const ud=OM(wy),Ry=N4(wy);var Np,fb;function Q4(){if(fb)return Np;fb=1;function i($){this._maxSize=$,this.clear()}i.prototype.clear=function(){this._size=0,this._values=Object.create(null)},i.prototype.get=function($){return this._values[$]},i.prototype.set=function($,H){return this._size>=this._maxSize&&this.clear(),$ in this._values||this._size++,this._values[$]=H};var e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,t=/^\d+$/,r=/^\d/,a=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,l=/^\s*(['"]?)(.*?)(\1)\s*$/,c=512,d=new i(c),p=new i(c),g=new i(c);Np={Cache:i,split:T,normalizePath:v,setter:function($){var H=v($);return p.get($)||p.set($,function(ve,he){for(var Ee=0,I=H.length,w=ve;Ee<I-1;){var C=H[Ee];if(C==="__proto__"||C==="constructor"||C==="prototype")return ve;w=w[H[Ee++]]}w[H[Ee]]=he})},getter:function($,H){var ae=v($);return g.get($)||g.set($,function(he){for(var Ee=0,I=ae.length;Ee<I;)if(he!=null||!H)he=he[ae[Ee++]];else return;return he})},join:function($){return $.reduce(function(H,ae){return H+(x(ae)||t.test(ae)?"["+ae+"]":(H?".":"")+ae)},"")},forEach:function($,H,ae){S(Array.isArray($)?$:T($),H,ae)}};function v($){return d.get($)||d.set($,T($).map(function(H){return H.replace(l,"$2")}))}function T($){return $.match(e)||[""]}function S($,H,ae){var ve=$.length,he,Ee,I,w;for(Ee=0;Ee<ve;Ee++)he=$[Ee],he&&(G(he)&&(he='"'+he+'"'),w=x(he),I=!w&&/^\d+$/.test(he),H.call(ae,he,w,I,Ee,$))}function x($){return typeof $=="string"&&$&&["'",'"'].indexOf($.charAt(0))!==-1}function U($){return $.match(r)&&!$.match(t)}function F($){return a.test($)}function G($){return!x($)&&(U($)||F($))}return Np}var ka=Q4(),xp,hb;function X4(){if(hb)return xp;hb=1;const i=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,e=v=>v.match(i)||[],t=v=>v[0].toUpperCase()+v.slice(1),r=(v,T)=>e(v).join(T).toLowerCase(),a=v=>e(v).reduce((T,S)=>`${T}${T?S[0].toUpperCase()+S.slice(1).toLowerCase():S.toLowerCase()}`,"");return xp={words:e,upperFirst:t,camelCase:a,pascalCase:v=>t(a(v)),snakeCase:v=>r(v,"_"),kebabCase:v=>r(v,"-"),sentenceCase:v=>t(r(v," ")),titleCase:v=>e(v).map(t).join(" ")},xp}var Mp=X4(),Xf={exports:{}},db;function W4(){if(db)return Xf.exports;db=1,Xf.exports=function(a){return i(e(a),a)},Xf.exports.array=i;function i(a,l){var c=a.length,d=new Array(c),p={},g=c,v=t(l),T=r(a);for(l.forEach(function(x){if(!T.has(x[0])||!T.has(x[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});g--;)p[g]||S(a[g],g,new Set);return d;function S(x,U,F){if(F.has(x)){var G;try{G=", node was:"+JSON.stringify(x)}catch{G=""}throw new Error("Cyclic dependency"+G)}if(!T.has(x))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(x));if(!p[U]){p[U]=!0;var $=v.get(x)||new Set;if($=Array.from($),U=$.length){F.add(x);do{var H=$[--U];S(H,T.get(H),F)}while(U);F.delete(x)}d[--c]=x}}}function e(a){for(var l=new Set,c=0,d=a.length;c<d;c++){var p=a[c];l.add(p[0]),l.add(p[1])}return Array.from(l)}function t(a){for(var l=new Map,c=0,d=a.length;c<d;c++){var p=a[c];l.has(p[0])||l.set(p[0],new Set),l.has(p[1])||l.set(p[1],new Set),l.get(p[0]).add(p[1])}return l}function r(a){for(var l=new Map,c=0,d=a.length;c<d;c++)l.set(a[c],c);return l}return Xf.exports}var J4=W4();const Z4=Bb(J4),eL=Object.prototype.toString,tL=Error.prototype.toString,nL=RegExp.prototype.toString,iL=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",rL=/^Symbol\((.*)\)(.*)$/;function sL(i){return i!=+i?"NaN":i===0&&1/i<0?"-0":""+i}function mb(i,e=!1){if(i==null||i===!0||i===!1)return""+i;const t=typeof i;if(t==="number")return sL(i);if(t==="string")return e?`"${i}"`:i;if(t==="function")return"[Function "+(i.name||"anonymous")+"]";if(t==="symbol")return iL.call(i).replace(rL,"Symbol($1)");const r=eL.call(i).slice(8,-1);return r==="Date"?isNaN(i.getTime())?""+i:i.toISOString(i):r==="Error"||i instanceof Error?"["+tL.call(i)+"]":r==="RegExp"?nL.call(i):null}function Fs(i,e){let t=mb(i,e);return t!==null?t:JSON.stringify(i,function(r,a){let l=mb(this[r],e);return l!==null?l:a},2)}function cR(i){return i==null?[]:[].concat(i)}let fR,hR,dR,aL=/\$\{\s*(\w+)\s*\}/g;fR=Symbol.toStringTag;class pb{constructor(e,t,r,a){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[fR]="Error",this.name="ValidationError",this.value=t,this.path=r,this.type=a,this.errors=[],this.inner=[],cR(e).forEach(l=>{if(En.isError(l)){this.errors.push(...l.errors);const c=l.inner.length?l.inner:[l];this.inner.push(...c)}else this.errors.push(l)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}hR=Symbol.hasInstance;dR=Symbol.toStringTag;class En extends Error{static formatError(e,t){const r=t.label||t.path||"this";return t=Object.assign({},t,{path:r,originalPath:t.path}),typeof e=="string"?e.replace(aL,(a,l)=>Fs(t[l])):typeof e=="function"?e(t):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,t,r,a,l){const c=new pb(e,t,r,a);if(l)return c;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[dR]="Error",this.name=c.name,this.message=c.message,this.type=c.type,this.value=c.value,this.path=c.path,this.errors=c.errors,this.inner=c.inner,Error.captureStackTrace&&Error.captureStackTrace(this,En)}static[hR](e){return pb[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let tr={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:i,type:e,value:t,originalValue:r})=>{const a=r!=null&&r!==t?` (cast from the value \`${Fs(r,!0)}\`).`:".";return e!=="mixed"?`${i} must be a \`${e}\` type, but the final value was: \`${Fs(t,!0)}\``+a:`${i} must match the configured type. The validated value was: \`${Fs(t,!0)}\``+a}},Dn={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},oL={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},hg={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},lL={isValue:"${path} field must be ${value}"},ch={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},uL={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},cL={notType:i=>{const{path:e,value:t,spec:r}=i,a=r.types.length;if(Array.isArray(t)){if(t.length<a)return`${e} tuple value has too few items, expected a length of ${a} but got ${t.length} for value: \`${Fs(t,!0)}\``;if(t.length>a)return`${e} tuple value has too many items, expected a length of ${a} but got ${t.length} for value: \`${Fs(t,!0)}\``}return En.formatError(tr.notType,i)}};Object.assign(Object.create(null),{mixed:tr,string:Dn,number:oL,date:hg,object:ch,array:uL,boolean:lL,tuple:cL});const Cy=i=>i&&i.__isYupSchema__;class Uh{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:a,otherwise:l}=t,c=typeof r=="function"?r:(...d)=>d.every(p=>p===r);return new Uh(e,(d,p)=>{var g;let v=c(...d)?a:l;return(g=v?.(p))!=null?g:p})}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let r=this.refs.map(l=>l.getValue(t?.value,t?.parent,t?.context)),a=this.fn(r,e,t);if(a===void 0||a===e)return e;if(!Cy(a))throw new TypeError("conditions must return a schema object");return a.resolve(t)}}const Wf={context:"$",value:"."};function fL(i,e){return new Js(i,e)}class Js{constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Wf.context,this.isValue=this.key[0]===Wf.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?Wf.context:this.isValue?Wf.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&ka.getter(this.path,!0),this.map=t.map}getValue(e,t,r){let a=this.isContext?r:this.isValue?e:t;return this.getter&&(a=this.getter(a||{})),this.map&&(a=this.map(a)),a}cast(e,t){return this.getValue(e,t?.parent,t?.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Js.prototype.__isYupRef=!0;const xa=i=>i==null;function Bo(i){function e({value:t,path:r="",options:a,originalValue:l,schema:c},d,p){const{name:g,test:v,params:T,message:S,skipAbsent:x}=i;let{parent:U,context:F,abortEarly:G=c.spec.abortEarly,disableStackTrace:$=c.spec.disableStackTrace}=a;const H={value:t,parent:U,context:F};function ae(O={}){const M=mR(Object.assign({value:t,originalValue:l,label:c.spec.label,path:O.path||r,spec:c.spec,disableStackTrace:O.disableStackTrace||$},T,O.params),H),R=new En(En.formatError(O.message||S,M),t,M.path,O.type||g,M.disableStackTrace);return R.params=M,R}const ve=G?d:p;let he={path:r,parent:U,type:g,from:a.from,createError:ae,resolve(O){return pR(O,H)},options:a,originalValue:l,schema:c};const Ee=O=>{En.isError(O)?ve(O):O?p(null):ve(ae())},I=O=>{En.isError(O)?ve(O):d(O)};if(x&&xa(t))return Ee(!0);let C;try{var k;if(C=v.call(he,t,he),typeof((k=C)==null?void 0:k.then)=="function"){if(a.sync)throw new Error(`Validation test of type: "${he.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(C).then(Ee,I)}}catch(O){I(O);return}Ee(C)}return e.OPTIONS=i,e}function mR(i,e){if(!i)return i;for(const t of Object.keys(i))i[t]=pR(i[t],e);return i}function pR(i,e){return Js.isRef(i)?i.getValue(e.value,e.parent,e.context):i}function hL(i,e,t,r=t){let a,l,c;return e?(ka.forEach(e,(d,p,g)=>{let v=p?d.slice(1,d.length-1):d;i=i.resolve({context:r,parent:a,value:t});let T=i.type==="tuple",S=g?parseInt(v,10):0;if(i.innerType||T){if(T&&!g)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${c}" must contain an index to the tuple element, e.g. "${c}[0]"`);if(t&&S>=t.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${d}, in the path: ${e}. because there is no value at that index. `);a=t,t=t&&t[S],i=T?i.spec.types[S]:i.innerType}if(!g){if(!i.fields||!i.fields[v])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${c} which is a type: "${i.type}")`);a=t,t=t&&t[v],i=i.fields[v]}l=v,c=p?"["+d+"]":"."+d}),{schema:i,parent:a,parentPath:l}):{parent:a,parentPath:e,schema:i}}class zh extends Set{describe(){const e=[];for(const t of this.values())e.push(Js.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const r of this.values())t.push(e(r));return t}clone(){return new zh(this.values())}merge(e,t){const r=this.clone();return e.forEach(a=>r.add(a)),t.forEach(a=>r.delete(a)),r}}function Wo(i,e=new Map){if(Cy(i)||!i||typeof i!="object")return i;if(e.has(i))return e.get(i);let t;if(i instanceof Date)t=new Date(i.getTime()),e.set(i,t);else if(i instanceof RegExp)t=new RegExp(i),e.set(i,t);else if(Array.isArray(i)){t=new Array(i.length),e.set(i,t);for(let r=0;r<i.length;r++)t[r]=Wo(i[r],e)}else if(i instanceof Map){t=new Map,e.set(i,t);for(const[r,a]of i.entries())t.set(r,Wo(a,e))}else if(i instanceof Set){t=new Set,e.set(i,t);for(const r of i)t.add(Wo(r,e))}else if(i instanceof Object){t={},e.set(i,t);for(const[r,a]of Object.entries(i))t[r]=Wo(a,e)}else throw Error(`Unable to clone ${i}`);return t}function dL(i){if(!(i!=null&&i.length))return;const e=[];let t="",r=!1,a=!1;for(let l=0;l<i.length;l++){const c=i[l];if(c==="["&&!a){t&&(e.push(...t.split(".").filter(Boolean)),t=""),r=!0;continue}if(c==="]"&&!a){t&&(/^\d+$/.test(t)?e.push(t):e.push(t.replace(/^"|"$/g,"")),t=""),r=!1;continue}if(c==='"'){a=!a;continue}if(c==="."&&!r&&!a){t&&(e.push(t),t="");continue}t+=c}return t&&e.push(...t.split(".").filter(Boolean)),e}function mL(i,e){const t=e?`${e}.${i.path}`:i.path;return i.errors.map(r=>({message:r,path:dL(t)}))}function gR(i,e){var t;if(!((t=i.inner)!=null&&t.length)&&i.errors.length)return mL(i,e);const r=e?`${e}.${i.path}`:i.path;return i.inner.flatMap(a=>gR(a,r))}class cr{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new zh,this._blacklist=new zh,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(tr.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e?.spec),this.withMutation(t=>{t.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=Wo(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(e.length===0)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=t,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,r=e.clone();const a=Object.assign({},t.spec,r.spec);return r.spec=a,r.internalTests=Object.assign({},t.internalTests,r.internalTests),r._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),r.tests=t.tests,r.exclusiveTests=t.exclusiveTests,r.withMutation(l=>{e.tests.forEach(c=>{l.test(c.OPTIONS)})}),r.transforms=[...t.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let r=t.conditions;t=t.clone(),t.conditions=[],t=r.reduce((a,l)=>l.resolve(a,e),t),t=t.resolve(e)}return t}resolveOptions(e){var t,r,a,l;return Object.assign({},e,{from:e.from||[],strict:(t=e.strict)!=null?t:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(a=e.recursive)!=null?a:this.spec.recursive,disableStackTrace:(l=e.disableStackTrace)!=null?l:this.spec.disableStackTrace})}cast(e,t={}){let r=this.resolve(Object.assign({},t,{value:e})),a=t.assert==="ignore-optionality",l=r._cast(e,t);if(t.assert!==!1&&!r.isType(l)){if(a&&xa(l))return l;let c=Fs(e),d=Fs(l);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${c} 
`+(d!==c?`result of cast: ${d}`:""))}return l}_cast(e,t){let r=e===void 0?e:this.transforms.reduce((a,l)=>l.call(this,a,e,this,t),e);return r===void 0&&(r=this.getDefault(t)),r}_validate(e,t={},r,a){let{path:l,originalValue:c=e,strict:d=this.spec.strict}=t,p=e;d||(p=this._cast(p,Object.assign({assert:!1},t)));let g=[];for(let v of Object.values(this.internalTests))v&&g.push(v);this.runTests({path:l,value:p,originalValue:c,options:t,tests:g},r,v=>{if(v.length)return a(v,p);this.runTests({path:l,value:p,originalValue:c,options:t,tests:this.tests},r,a)})}runTests(e,t,r){let a=!1,{tests:l,value:c,originalValue:d,path:p,options:g}=e,v=F=>{a||(a=!0,t(F,c))},T=F=>{a||(a=!0,r(F,c))},S=l.length,x=[];if(!S)return T([]);let U={value:c,originalValue:d,path:p,options:g,schema:this};for(let F=0;F<l.length;F++){const G=l[F];G(U,v,function(H){H&&(Array.isArray(H)?x.push(...H):x.push(H)),--S<=0&&T(x)})}}asNestedTest({key:e,index:t,parent:r,parentPath:a,originalParent:l,options:c}){const d=e??t;if(d==null)throw TypeError("Must include `key` or `index` for nested validations");const p=typeof d=="number";let g=r[d];const v=Object.assign({},c,{strict:!0,parent:r,value:g,originalValue:l[d],key:void 0,[p?"index":"key"]:d,path:p||d.includes(".")?`${a||""}[${p?d:`"${d}"`}]`:(a?`${a}.`:"")+e});return(T,S,x)=>this.resolve(v)._validate(g,v,S,x)}validate(e,t){var r;let a=this.resolve(Object.assign({},t,{value:e})),l=(r=t?.disableStackTrace)!=null?r:a.spec.disableStackTrace;return new Promise((c,d)=>a._validate(e,t,(p,g)=>{En.isError(p)&&(p.value=g),d(p)},(p,g)=>{p.length?d(new En(p,g,void 0,void 0,l)):c(g)}))}validateSync(e,t){var r;let a=this.resolve(Object.assign({},t,{value:e})),l,c=(r=t?.disableStackTrace)!=null?r:a.spec.disableStackTrace;return a._validate(e,Object.assign({},t,{sync:!0}),(d,p)=>{throw En.isError(d)&&(d.value=p),d},(d,p)=>{if(d.length)throw new En(d,e,void 0,void 0,c);l=p}),l}isValid(e,t){return this.validate(e,t).then(()=>!0,r=>{if(En.isError(r))return!1;throw r})}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(r){if(En.isError(r))return!1;throw r}}_getDefault(e){let t=this.spec.default;return t==null?t:typeof t=="function"?t.call(this,e):Wo(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,t){const r=this.clone({nullable:e});return r.internalTests.nullable=Bo({message:t,name:"nullable",test(a){return a===null?this.schema.spec.nullable:!0}}),r}optionality(e,t){const r=this.clone({optional:e});return r.internalTests.optionality=Bo({message:t,name:"optionality",test(a){return a===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=tr.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=tr.notNull){return this.nullability(!1,e)}required(e=tr.required){return this.clone().withMutation(t=>t.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(e.length===1?typeof e[0]=="function"?t={test:e[0]}:t=e[0]:e.length===2?t={name:e[0],test:e[1]}:t={name:e[0],message:e[1],test:e[2]},t.message===void 0&&(t.message=tr.default),typeof t.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),a=Bo(t),l=t.exclusive||t.name&&r.exclusiveTests[t.name]===!0;if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(r.exclusiveTests[t.name]=!!t.exclusive),r.tests=r.tests.filter(c=>!(c.OPTIONS.name===t.name&&(l||c.OPTIONS.test===a.OPTIONS.test))),r.tests.push(a),r}when(e,t){!Array.isArray(e)&&typeof e!="string"&&(t=e,e=".");let r=this.clone(),a=cR(e).map(l=>new Js(l));return a.forEach(l=>{l.isSibling&&r.deps.push(l.key)}),r.conditions.push(typeof t=="function"?new Uh(a,t):Uh.fromOptions(a,t)),r}typeError(e){let t=this.clone();return t.internalTests.typeError=Bo({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),t}oneOf(e,t=tr.oneOf){let r=this.clone();return e.forEach(a=>{r._whitelist.add(a),r._blacklist.delete(a)}),r.internalTests.whiteList=Bo({message:t,name:"oneOf",skipAbsent:!0,test(a){let l=this.schema._whitelist,c=l.resolveAll(this.resolve);return c.includes(a)?!0:this.createError({params:{values:Array.from(l).join(", "),resolved:c}})}}),r}notOneOf(e,t=tr.notOneOf){let r=this.clone();return e.forEach(a=>{r._blacklist.add(a),r._whitelist.delete(a)}),r.internalTests.blacklist=Bo({message:t,name:"notOneOf",test(a){let l=this.schema._blacklist,c=l.resolveAll(this.resolve);return c.includes(a)?this.createError({params:{values:Array.from(l).join(", "),resolved:c}}):!0}}),r}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:r,meta:a,optional:l,nullable:c}=t.spec;return{meta:a,label:r,optional:l,nullable:c,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.filter((p,g,v)=>v.findIndex(T=>T.OPTIONS.name===p.OPTIONS.name)===g).map(p=>{const g=p.OPTIONS.params&&e?mR(Object.assign({},p.OPTIONS.params),e):p.OPTIONS.params;return{name:p.OPTIONS.name,params:g}})}}get"~standard"(){const e=this;return{version:1,vendor:"yup",async validate(r){try{return{value:await e.validate(r,{abortEarly:!1})}}catch(a){if(a instanceof En)return{issues:gR(a)};throw a}}}}}cr.prototype.__isYupSchema__=!0;for(const i of["validate","validateSync"])cr.prototype[`${i}At`]=function(e,t,r={}){const{parent:a,parentPath:l,schema:c}=hL(this,e,t,r.context);return c[i](a&&a[l],Object.assign({},r,{parent:a,path:e}))};for(const i of["equals","is"])cr.prototype[i]=cr.prototype.oneOf;for(const i of["not","nope"])cr.prototype[i]=cr.prototype.notOneOf;const pL=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function gL(i){const e=dg(i);if(!e)return Date.parse?Date.parse(i):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let t=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(t=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(t=0-t)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+t,e.second,e.millisecond)}function dg(i){var e,t;const r=pL.exec(i);return r?{year:Lr(r[1]),month:Lr(r[2],1)-1,day:Lr(r[3],1),hour:Lr(r[4]),minute:Lr(r[5]),second:Lr(r[6]),millisecond:r[7]?Lr(r[7].substring(0,3)):0,precision:(e=(t=r[7])==null?void 0:t.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:Lr(r[10]),minuteOffset:Lr(r[11])}:null}function Lr(i,e=0){return Number(i)||e}let yL=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,_L=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,vL=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,EL="^\\d{4}-\\d{2}-\\d{2}",TL="\\d{2}:\\d{2}:\\d{2}",bL="(([+-]\\d{2}(:?\\d{2})?)|Z)",SL=new RegExp(`${EL}T${TL}(\\.\\d+)?${bL}$`),AL=i=>xa(i)||i===i.trim(),wL={}.toString();function Du(){return new yR}class yR extends cr{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,t)=>{if(!this.spec.coerce||this.isType(e)||Array.isArray(e))return e;const r=e!=null&&e.toString?e.toString():e;return r===wL?e:r})})}required(e){return super.required(e).withMutation(t=>t.test({message:e||tr.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(t=>t.OPTIONS.name!=="required"),e))}length(e,t=Dn.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,t=Dn.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,t=Dn.max){return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,t){let r=!1,a,l;return t&&(typeof t=="object"?{excludeEmptyString:r=!1,message:a,name:l}=t:a=t),this.test({name:l||"matches",message:a||Dn.matches,params:{regex:e},skipAbsent:!0,test:c=>c===""&&r||c.search(e)!==-1})}email(e=Dn.email){return this.matches(yL,{name:"email",message:e,excludeEmptyString:!0})}url(e=Dn.url){return this.matches(_L,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Dn.uuid){return this.matches(vL,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let t="",r,a;return e&&(typeof e=="object"?{message:t="",allowOffset:r=!1,precision:a=void 0}=e:t=e),this.matches(SL,{name:"datetime",message:t||Dn.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:t||Dn.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:l=>{if(!l||r)return!0;const c=dg(l);return c?!!c.z:!1}}).test({name:"datetime_precision",message:t||Dn.datetime_precision,params:{precision:a},skipAbsent:!0,test:l=>{if(!l||a==null)return!0;const c=dg(l);return c?c.precision===a:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Dn.trim){return this.transform(t=>t!=null?t.trim():t).test({message:e,name:"trim",test:AL})}lowercase(e=Dn.lowercase){return this.transform(t=>xa(t)?t:t.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>xa(t)||t===t.toLowerCase()})}uppercase(e=Dn.uppercase){return this.transform(t=>xa(t)?t:t.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>xa(t)||t===t.toUpperCase()})}}Du.prototype=yR.prototype;let RL=new Date(""),CL=i=>Object.prototype.toString.call(i)==="[object Date]";class Iy extends cr{constructor(){super({type:"date",check(e){return CL(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,t)=>!this.spec.coerce||this.isType(e)||e===null?e:(e=gL(e),isNaN(e)?Iy.INVALID_DATE:new Date(e)))})}prepareParam(e,t){let r;if(Js.isRef(e))r=e;else{let a=this.cast(e);if(!this._typeCheck(a))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);r=a}return r}min(e,t=hg.min){let r=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(a){return a>=this.resolve(r)}})}max(e,t=hg.max){let r=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(a){return a<=this.resolve(r)}})}}Iy.INVALID_DATE=RL;function IL(i,e=[]){let t=[],r=new Set,a=new Set(e.map(([c,d])=>`${c}-${d}`));function l(c,d){let p=ka.split(c)[0];r.add(p),a.has(`${d}-${p}`)||t.push([d,p])}for(const c of Object.keys(i)){let d=i[c];r.add(c),Js.isRef(d)&&d.isSibling?l(d.path,c):Cy(d)&&"deps"in d&&d.deps.forEach(p=>l(p,c))}return Z4.array(Array.from(r),t).reverse()}function gb(i,e){let t=1/0;return i.some((r,a)=>{var l;if((l=e.path)!=null&&l.includes(r))return t=a,!0}),t}function _R(i){return(e,t)=>gb(i,e)-gb(i,t)}const OL=(i,e,t)=>{if(typeof i!="string")return i;let r=i;try{r=JSON.parse(i)}catch{}return t.isType(r)?r:i};function fh(i){if("fields"in i){const e={};for(const[t,r]of Object.entries(i.fields))e[t]=fh(r);return i.setFields(e)}if(i.type==="array"){const e=i.optional();return e.innerType&&(e.innerType=fh(e.innerType)),e}return i.type==="tuple"?i.optional().clone({types:i.spec.types.map(fh)}):"optional"in i?i.optional():i}const DL=(i,e)=>{const t=[...ka.normalizePath(e)];if(t.length===1)return t[0]in i;let r=t.pop(),a=ka.getter(ka.join(t),!0)(i);return!!(a&&r in a)};let yb=i=>Object.prototype.toString.call(i)==="[object Object]";function _b(i,e){let t=Object.keys(i.fields);return Object.keys(e).filter(r=>t.indexOf(r)===-1)}const NL=_R([]);function vR(i){return new ER(i)}class ER extends cr{constructor(e){super({type:"object",check(t){return yb(t)||typeof t=="function"}}),this.fields=Object.create(null),this._sortErrors=NL,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,t={}){var r;let a=super._cast(e,t);if(a===void 0)return this.getDefault(t);if(!this._typeCheck(a))return a;let l=this.fields,c=(r=t.stripUnknown)!=null?r:this.spec.noUnknown,d=[].concat(this._nodes,Object.keys(a).filter(T=>!this._nodes.includes(T))),p={},g=Object.assign({},t,{parent:p,__validating:t.__validating||!1}),v=!1;for(const T of d){let S=l[T],x=T in a,U=a[T];if(S){let F;g.path=(t.path?`${t.path}.`:"")+T,S=S.resolve({value:U,context:t.context,parent:p});let G=S instanceof cr?S.spec:void 0,$=G?.strict;if(G!=null&&G.strip){v=v||T in a;continue}F=!t.__validating||!$?S.cast(U,g):U,F!==void 0&&(p[T]=F)}else x&&!c&&(p[T]=U);(x!==T in p||p[T]!==U)&&(v=!0)}return v?p:a}_validate(e,t={},r,a){let{from:l=[],originalValue:c=e,recursive:d=this.spec.recursive}=t;t.from=[{schema:this,value:c},...l],t.__validating=!0,t.originalValue=c,super._validate(e,t,r,(p,g)=>{if(!d||!yb(g)){a(p,g);return}c=c||g;let v=[];for(let T of this._nodes){let S=this.fields[T];!S||Js.isRef(S)||v.push(S.asNestedTest({options:t,key:T,parent:g,parentPath:t.path,originalParent:c}))}this.runTests({tests:v,value:g,originalValue:c,options:t},r,T=>{a(T.sort(this._sortErrors).concat(p),g)})})}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),r=t.fields;for(let[a,l]of Object.entries(this.fields)){const c=r[a];r[a]=c===void 0?l:c}return t.withMutation(a=>a.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach(r=>{var a;const l=this.fields[r];let c=e;(a=c)!=null&&a.value&&(c=Object.assign({},c,{parent:c.value,value:c.value[r]})),t[r]=l&&"getDefault"in l?l.getDefault(c):void 0}),t}setFields(e,t){let r=this.clone();return r.fields=e,r._nodes=IL(e,t),r._sortErrors=_R(Object.keys(e)),t&&(r._excludedEdges=t),r}shape(e,t=[]){return this.clone().withMutation(r=>{let a=r._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),a=[...r._excludedEdges,...t]),r.setFields(Object.assign(r.fields,e),a)})}partial(){const e={};for(const[t,r]of Object.entries(this.fields))e[t]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return fh(this)}pick(e){const t={};for(const r of e)this.fields[r]&&(t[r]=this.fields[r]);return this.setFields(t,this._excludedEdges.filter(([r,a])=>e.includes(r)&&e.includes(a)))}omit(e){const t=[];for(const r of Object.keys(this.fields))e.includes(r)||t.push(r);return this.pick(t)}from(e,t,r){let a=ka.getter(e,!0);return this.transform(l=>{if(!l)return l;let c=l;return DL(l,e)&&(c=Object.assign({},l),r||delete c[e],c[t]=a(l)),c})}json(){return this.transform(OL)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||ch.exact,test(t){if(t==null)return!0;const r=_b(this.schema,t);return r.length===0||this.createError({params:{properties:r.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,t=ch.noUnknown){typeof e!="boolean"&&(t=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:t,test(a){if(a==null)return!0;const l=_b(this.schema,a);return!e||l.length===0||this.createError({params:{unknown:l.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,t=ch.noUnknown){return this.noUnknown(!e,t)}transformKeys(e){return this.transform(t=>{if(!t)return t;const r={};for(const a of Object.keys(t))r[e(a)]=t[a];return r})}camelCase(){return this.transformKeys(Mp.camelCase)}snakeCase(){return this.transformKeys(Mp.snakeCase)}constantCase(){return this.transformKeys(e=>Mp.snakeCase(e).toUpperCase())}describe(e){const t=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[l,c]of Object.entries(t.fields)){var a;let d=e;(a=d)!=null&&a.value&&(d=Object.assign({},d,{parent:d.value,value:d.value[l]})),r.fields[l]=c.describe(d)}return r}}vR.prototype=ER.prototype;/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ML=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),vb=i=>{const e=ML(i);return e.charAt(0).toUpperCase()+e.slice(1)},TR=(...i)=>i.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),VL=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=W.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:c,...d},p)=>W.createElement("svg",{ref:p,...kL,width:e,height:e,stroke:i,strokeWidth:r?Number(t)*24/Number(e):t,className:TR("lucide",a),...!l&&!VL(d)&&{"aria-hidden":"true"},...d},[...c.map(([g,v])=>W.createElement(g,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=(i,e)=>{const t=W.forwardRef(({className:r,...a},l)=>W.createElement(LL,{ref:l,iconNode:e,className:TR(`lucide-${xL(vb(i))}`,`lucide-${i}`,r),...a}));return t.displayName=vb(i),t};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Eb=cd("eye-off",PL);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Tb=cd("eye",UL);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zL=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],FL=cd("menu",zL);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],BL=cd("x",jL),bb=()=>{const[i,e]=W.useState(!1),[t,r]=W.useState(!1),a=ic(),l=vR({username:Du().required("Name is Required").min(3),email:Du().required("Email is required").matches(/^[\w._%+-]+@gmail\.com$/,"Please enter a valid Gmail address"),password:Du().required("Password is required").min(6,"Password must be at least 6 characters"),confirmPassword:Du().oneOf([fL("password"),null],"Passwords must match")}),{register:c,handleSubmit:d,formState:{errors:p},reset:g}=s2({resolver:l2(l),mode:"onChange",defaultValues:{email:"abc@gmail.com"}}),v=async({email:T,password:S,username:x})=>{try{const U=await dx(ud,T,S);console.log(U),alert("User Registered Successfully "),g(),a("/create-pitch");const F=await Zu(my(Ry,"usersInfo"),{uid:U.user.uid,username:x,email:T,createdAt:new Date});console.log("User registered and added to Firestore!"),console.log("Document written with ID: ",F.id)}catch(U){alert("Error adding document: ",U)}};return re.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500",children:re.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg w-full max-w-md",children:[re.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-gray-800",children:"Create Account"}),re.jsxs("form",{className:"flex flex-col gap-4",onSubmit:d(v),children:[re.jsxs("div",{children:[re.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Username"}),re.jsx("input",{type:"text",placeholder:"Enter username",...c("username"),className:"w-full mt-1 p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none"}),p.username&&re.jsx("span",{className:"text-sm text-red-700",children:p.username.message})]}),re.jsxs("div",{children:[re.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),re.jsx("input",{type:"email",placeholder:"Enter email",...c("email"),className:"w-full mt-1 p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none"}),p.email&&re.jsx("span",{className:"text-red-700 text-sm",children:p.email.message})]}),re.jsxs("div",{children:[re.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),re.jsxs("div",{className:"relative",children:[re.jsx("input",{type:i?"text":"password",placeholder:"Enter password",...c("password"),className:"w-full mt-1 p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none"}),re.jsx("button",{type:"button",className:"absolute right-3 top-3 text-gray-500",onClick:()=>e(!i),children:i?re.jsx(Eb,{size:18}):re.jsx(Tb,{size:18})})]}),p.password&&re.jsx("span",{className:"text-sm text-red-700",children:p.password.message})]}),re.jsxs("div",{children:[re.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),re.jsxs("div",{className:"relative",children:[re.jsx("input",{type:t?"text":"password",placeholder:"Confirm password",...c("confirmPassword"),className:"w-full mt-1 p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none"}),re.jsx("button",{type:"button",className:"absolute right-3 top-3 text-gray-500",onClick:()=>r(!t),children:t?re.jsx(Eb,{size:18}):re.jsx(Tb,{size:18})})]}),p.confirmPassword&&re.jsx("span",{className:"text-sm text-red-700",children:p.confirmPassword.message})]}),re.jsx("button",{type:"submit",className:"bg-indigo-600 text-white py-2 rounded-lg font-semibold hover:bg-indigo-700 transition",children:"Register"}),re.jsxs("p",{className:"text-sm text-center text-gray-600 mt-2",children:["Already have an account?"," ",re.jsx(Os,{to:"/login",className:"text-indigo-600 font-medium",children:"Login"})]})]})]})})},qL=()=>{const[i,e]=W.useState(""),[t,r]=W.useState(""),a=ic(),l=async c=>{c.preventDefault();try{const d=await mx(ud,i,t);console.log("Email:",i),console.log("Password:",t),a("/create-pitch")}catch(d){console.error(d)}};return re.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:re.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-md w-full max-w-md",children:[re.jsx("h2",{className:"text-2xl font-semibold text-center text-indigo-600 mb-6",children:"Login"}),re.jsxs("form",{onSubmit:l,className:"space-y-4",children:[re.jsxs("div",{children:[re.jsx("label",{className:"block text-gray-600 text-sm mb-1",children:"Email"}),re.jsx("input",{type:"email",placeholder:"you@example.com",value:i,onChange:c=>e(c.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 outline-none focus:ring-2 focus:ring-indigo-500"})]}),re.jsxs("div",{children:[re.jsx("label",{className:"block text-gray-600 text-sm mb-1",children:"Password"}),re.jsx("input",{type:"password",placeholder:"Enter password",value:t,onChange:c=>r(c.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 outline-none focus:ring-2 focus:ring-indigo-500"})]}),re.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-2 rounded-lg font-medium hover:bg-indigo-700 transition-all",children:"Login"})]}),re.jsxs("p",{className:"text-center text-gray-500 text-sm mt-4",children:["Dont have an account?"," ",re.jsx("a",{href:"/register",className:"text-indigo-600 hover:underline",children:"Register"})]})]})})},bR=W.createContext();function gc(){return W.useContext(bR)}function HL({children:i}){const[e,t]=W.useState(null),[r,a]=W.useState(!0);W.useEffect(()=>yx(ud,d=>{t(d),a(!1)}),[]);const l={currentUser:e};return re.jsx(bR.Provider,{value:l,children:!r&&i})}var Sb;(function(i){i.STRING="string",i.NUMBER="number",i.INTEGER="integer",i.BOOLEAN="boolean",i.ARRAY="array",i.OBJECT="object"})(Sb||(Sb={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ab;(function(i){i.LANGUAGE_UNSPECIFIED="language_unspecified",i.PYTHON="python"})(Ab||(Ab={}));var wb;(function(i){i.OUTCOME_UNSPECIFIED="outcome_unspecified",i.OUTCOME_OK="outcome_ok",i.OUTCOME_FAILED="outcome_failed",i.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(wb||(wb={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb=["user","model","function","system"];var Cb;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Cb||(Cb={}));var Ib;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Ib||(Ib={}));var Ob;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(Ob||(Ob={}));var Db;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER"})(Db||(Db={}));var Fu;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.OTHER="OTHER"})(Fu||(Fu={}));var Nb;(function(i){i.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",i.RETRIEVAL_QUERY="RETRIEVAL_QUERY",i.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",i.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",i.CLASSIFICATION="CLASSIFICATION",i.CLUSTERING="CLUSTERING"})(Nb||(Nb={}));var xb;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE"})(xb||(xb={}));var Mb;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Mb||(Mb={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class qo extends pn{constructor(e,t){super(e),this.response=t}}class SR extends pn{constructor(e,t,r,a){super(e),this.status=t,this.statusText=r,this.errorDetails=a}}class js extends pn{}class AR extends pn{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL="https://generativelanguage.googleapis.com",$L="v1beta",KL="0.24.1",YL="genai-js";var Ba;(function(i){i.GENERATE_CONTENT="generateContent",i.STREAM_GENERATE_CONTENT="streamGenerateContent",i.COUNT_TOKENS="countTokens",i.EMBED_CONTENT="embedContent",i.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Ba||(Ba={}));class QL{constructor(e,t,r,a,l){this.model=e,this.task=t,this.apiKey=r,this.stream=a,this.requestOptions=l}toString(){var e,t;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||$L;let l=`${((t=this.requestOptions)===null||t===void 0?void 0:t.baseUrl)||GL}/${r}/${this.model}:${this.task}`;return this.stream&&(l+="?alt=sse"),l}}function XL(i){const e=[];return i?.apiClient&&e.push(i.apiClient),e.push(`${YL}/${KL}`),e.join(" ")}async function WL(i){var e;const t=new Headers;t.append("Content-Type","application/json"),t.append("x-goog-api-client",XL(i.requestOptions)),t.append("x-goog-api-key",i.apiKey);let r=(e=i.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(a){throw new js(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${a.message}`)}for(const[a,l]of r.entries()){if(a==="x-goog-api-key")throw new js(`Cannot set reserved header name ${a}`);if(a==="x-goog-api-client")throw new js(`Header name ${a} can only be set using the apiClient field`);t.append(a,l)}}return t}async function JL(i,e,t,r,a,l){const c=new QL(i,e,t,r,l);return{url:c.toString(),fetchOptions:Object.assign(Object.assign({},nP(l)),{method:"POST",headers:await WL(c),body:a})}}async function yc(i,e,t,r,a,l={},c=fetch){const{url:d,fetchOptions:p}=await JL(i,e,t,r,a,l);return ZL(d,p,c)}async function ZL(i,e,t=fetch){let r;try{r=await t(i,e)}catch(a){eP(a,i)}return r.ok||await tP(r,i),r}function eP(i,e){let t=i;throw t.name==="AbortError"?(t=new AR(`Request aborted when fetching ${e.toString()}: ${i.message}`),t.stack=i.stack):i instanceof SR||i instanceof js||(t=new pn(`Error fetching from ${e.toString()}: ${i.message}`),t.stack=i.stack),t}async function tP(i,e){let t="",r;try{const a=await i.json();t=a.error.message,a.error.details&&(t+=` ${JSON.stringify(a.error.details)}`,r=a.error.details)}catch{}throw new SR(`Error fetching from ${e.toString()}: [${i.status} ${i.statusText}] ${t}`,i.status,i.statusText,r)}function nP(i){const e={};if(i?.signal!==void 0||i?.timeout>=0){const t=new AbortController;i?.timeout>=0&&setTimeout(()=>t.abort(),i.timeout),i?.signal&&i.signal.addEventListener("abort",()=>{t.abort()}),e.signal=t.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(i){return i.text=()=>{if(i.candidates&&i.candidates.length>0){if(i.candidates.length>1&&console.warn(`This response had ${i.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),hh(i.candidates[0]))throw new qo(`${Is(i)}`,i);return iP(i)}else if(i.promptFeedback)throw new qo(`Text not available. ${Is(i)}`,i);return""},i.functionCall=()=>{if(i.candidates&&i.candidates.length>0){if(i.candidates.length>1&&console.warn(`This response had ${i.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),hh(i.candidates[0]))throw new qo(`${Is(i)}`,i);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Vb(i)[0]}else if(i.promptFeedback)throw new qo(`Function call not available. ${Is(i)}`,i)},i.functionCalls=()=>{if(i.candidates&&i.candidates.length>0){if(i.candidates.length>1&&console.warn(`This response had ${i.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),hh(i.candidates[0]))throw new qo(`${Is(i)}`,i);return Vb(i)}else if(i.promptFeedback)throw new qo(`Function call not available. ${Is(i)}`,i)},i}function iP(i){var e,t,r,a;const l=[];if(!((t=(e=i.candidates)===null||e===void 0?void 0:e[0].content)===null||t===void 0)&&t.parts)for(const c of(a=(r=i.candidates)===null||r===void 0?void 0:r[0].content)===null||a===void 0?void 0:a.parts)c.text&&l.push(c.text),c.executableCode&&l.push("\n```"+c.executableCode.language+`
`+c.executableCode.code+"\n```\n"),c.codeExecutionResult&&l.push("\n```\n"+c.codeExecutionResult.output+"\n```\n");return l.length>0?l.join(""):""}function Vb(i){var e,t,r,a;const l=[];if(!((t=(e=i.candidates)===null||e===void 0?void 0:e[0].content)===null||t===void 0)&&t.parts)for(const c of(a=(r=i.candidates)===null||r===void 0?void 0:r[0].content)===null||a===void 0?void 0:a.parts)c.functionCall&&l.push(c.functionCall);if(l.length>0)return l}const rP=[Fu.RECITATION,Fu.SAFETY,Fu.LANGUAGE];function hh(i){return!!i.finishReason&&rP.includes(i.finishReason)}function Is(i){var e,t,r;let a="";if((!i.candidates||i.candidates.length===0)&&i.promptFeedback)a+="Response was blocked",!((e=i.promptFeedback)===null||e===void 0)&&e.blockReason&&(a+=` due to ${i.promptFeedback.blockReason}`),!((t=i.promptFeedback)===null||t===void 0)&&t.blockReasonMessage&&(a+=`: ${i.promptFeedback.blockReasonMessage}`);else if(!((r=i.candidates)===null||r===void 0)&&r[0]){const l=i.candidates[0];hh(l)&&(a+=`Candidate was blocked due to ${l.finishReason}`,l.finishMessage&&(a+=`: ${l.finishMessage}`))}return a}function ec(i){return this instanceof ec?(this.v=i,this):new ec(i)}function sP(i,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(i,e||[]),a,l=[];return a={},c("next"),c("throw"),c("return"),a[Symbol.asyncIterator]=function(){return this},a;function c(S){r[S]&&(a[S]=function(x){return new Promise(function(U,F){l.push([S,x,U,F])>1||d(S,x)})})}function d(S,x){try{p(r[S](x))}catch(U){T(l[0][3],U)}}function p(S){S.value instanceof ec?Promise.resolve(S.value.v).then(g,v):T(l[0][2],S)}function g(S){d("next",S)}function v(S){d("throw",S)}function T(S,x){S(x),l.shift(),l.length&&d(l[0][0],l[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function aP(i){const e=i.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),t=uP(e),[r,a]=t.tee();return{stream:lP(r),response:oP(a)}}async function oP(i){const e=[],t=i.getReader();for(;;){const{done:r,value:a}=await t.read();if(r)return Oy(cP(e));e.push(a)}}function lP(i){return sP(this,arguments,function*(){const t=i.getReader();for(;;){const{value:r,done:a}=yield ec(t.read());if(a)break;yield yield ec(Oy(r))}})}function uP(i){const e=i.getReader();return new ReadableStream({start(r){let a="";return l();function l(){return e.read().then(({value:c,done:d})=>{if(d){if(a.trim()){r.error(new pn("Failed to parse stream"));return}r.close();return}a+=c;let p=a.match(kb),g;for(;p;){try{g=JSON.parse(p[1])}catch{r.error(new pn(`Error parsing JSON response: "${p[1]}"`));return}r.enqueue(g),a=a.substring(p[0].length),p=a.match(kb)}return l()}).catch(c=>{let d=c;throw d.stack=c.stack,d.name==="AbortError"?d=new AR("Request aborted when reading from the stream"):d=new pn("Error reading from the stream"),d})}}})}function cP(i){const e=i[i.length-1],t={promptFeedback:e?.promptFeedback};for(const r of i){if(r.candidates){let a=0;for(const l of r.candidates)if(t.candidates||(t.candidates=[]),t.candidates[a]||(t.candidates[a]={index:a}),t.candidates[a].citationMetadata=l.citationMetadata,t.candidates[a].groundingMetadata=l.groundingMetadata,t.candidates[a].finishReason=l.finishReason,t.candidates[a].finishMessage=l.finishMessage,t.candidates[a].safetyRatings=l.safetyRatings,l.content&&l.content.parts){t.candidates[a].content||(t.candidates[a].content={role:l.content.role||"user",parts:[]});const c={};for(const d of l.content.parts)d.text&&(c.text=d.text),d.functionCall&&(c.functionCall=d.functionCall),d.executableCode&&(c.executableCode=d.executableCode),d.codeExecutionResult&&(c.codeExecutionResult=d.codeExecutionResult),Object.keys(c).length===0&&(c.text=""),t.candidates[a].content.parts.push(c)}a++}r.usageMetadata&&(t.usageMetadata=r.usageMetadata)}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wR(i,e,t,r){const a=await yc(e,Ba.STREAM_GENERATE_CONTENT,i,!0,JSON.stringify(t),r);return aP(a)}async function RR(i,e,t,r){const l=await(await yc(e,Ba.GENERATE_CONTENT,i,!1,JSON.stringify(t),r)).json();return{response:Oy(l)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(i){if(i!=null){if(typeof i=="string")return{role:"system",parts:[{text:i}]};if(i.text)return{role:"system",parts:[i]};if(i.parts)return i.role?i:{role:"system",parts:i.parts}}}function tc(i){let e=[];if(typeof i=="string")e=[{text:i}];else for(const t of i)typeof t=="string"?e.push({text:t}):e.push(t);return fP(e)}function fP(i){const e={role:"user",parts:[]},t={role:"function",parts:[]};let r=!1,a=!1;for(const l of i)"functionResponse"in l?(t.parts.push(l),a=!0):(e.parts.push(l),r=!0);if(r&&a)throw new pn("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!a)throw new pn("No content is provided for sending chat message.");return r?e:t}function hP(i,e){var t;let r={model:e?.model,generationConfig:e?.generationConfig,safetySettings:e?.safetySettings,tools:e?.tools,toolConfig:e?.toolConfig,systemInstruction:e?.systemInstruction,cachedContent:(t=e?.cachedContent)===null||t===void 0?void 0:t.name,contents:[]};const a=i.generateContentRequest!=null;if(i.contents){if(a)throw new js("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=i.contents}else if(a)r=Object.assign(Object.assign({},r),i.generateContentRequest);else{const l=tc(i);r.contents=[l]}return{generateContentRequest:r}}function Lb(i){let e;return i.contents?e=i:e={contents:[tc(i)]},i.systemInstruction&&(e.systemInstruction=CR(i.systemInstruction)),e}function dP(i){return typeof i=="string"||Array.isArray(i)?{content:tc(i)}:i}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],mP={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function pP(i){let e=!1;for(const t of i){const{role:r,parts:a}=t;if(!e&&r!=="user")throw new pn(`First content should be with role 'user', got ${r}`);if(!Rb.includes(r))throw new pn(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(Rb)}`);if(!Array.isArray(a))throw new pn("Content should have 'parts' property with an array of Parts");if(a.length===0)throw new pn("Each Content should have at least one part");const l={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const d of a)for(const p of Pb)p in d&&(l[p]+=1);const c=mP[r];for(const d of Pb)if(!c.includes(d)&&l[d]>0)throw new pn(`Content with role '${r}' can't contain '${d}' part`);e=!0}}function Ub(i){var e;if(i.candidates===void 0||i.candidates.length===0)return!1;const t=(e=i.candidates[0])===null||e===void 0?void 0:e.content;if(t===void 0||t.parts===void 0||t.parts.length===0)return!1;for(const r of t.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="SILENT_ERROR";class gP{constructor(e,t,r,a={}){this.model=t,this.params=r,this._requestOptions=a,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r?.history&&(pP(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,t={}){var r,a,l,c,d,p;await this._sendPromise;const g=tc(e),v={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(l=this.params)===null||l===void 0?void 0:l.tools,toolConfig:(c=this.params)===null||c===void 0?void 0:c.toolConfig,systemInstruction:(d=this.params)===null||d===void 0?void 0:d.systemInstruction,cachedContent:(p=this.params)===null||p===void 0?void 0:p.cachedContent,contents:[...this._history,g]},T=Object.assign(Object.assign({},this._requestOptions),t);let S;return this._sendPromise=this._sendPromise.then(()=>RR(this._apiKey,this.model,v,T)).then(x=>{var U;if(Ub(x.response)){this._history.push(g);const F=Object.assign({parts:[],role:"model"},(U=x.response.candidates)===null||U===void 0?void 0:U[0].content);this._history.push(F)}else{const F=Is(x.response);F&&console.warn(`sendMessage() was unsuccessful. ${F}. Inspect response object for details.`)}S=x}).catch(x=>{throw this._sendPromise=Promise.resolve(),x}),await this._sendPromise,S}async sendMessageStream(e,t={}){var r,a,l,c,d,p;await this._sendPromise;const g=tc(e),v={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(l=this.params)===null||l===void 0?void 0:l.tools,toolConfig:(c=this.params)===null||c===void 0?void 0:c.toolConfig,systemInstruction:(d=this.params)===null||d===void 0?void 0:d.systemInstruction,cachedContent:(p=this.params)===null||p===void 0?void 0:p.cachedContent,contents:[...this._history,g]},T=Object.assign(Object.assign({},this._requestOptions),t),S=wR(this._apiKey,this.model,v,T);return this._sendPromise=this._sendPromise.then(()=>S).catch(x=>{throw new Error(zb)}).then(x=>x.response).then(x=>{if(Ub(x)){this._history.push(g);const U=Object.assign({},x.candidates[0].content);U.role||(U.role="model"),this._history.push(U)}else{const U=Is(x);U&&console.warn(`sendMessageStream() was unsuccessful. ${U}. Inspect response object for details.`)}}).catch(x=>{x.message!==zb&&console.error(x)}),S}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yP(i,e,t,r){return(await yc(e,Ba.COUNT_TOKENS,i,!1,JSON.stringify(t),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _P(i,e,t,r){return(await yc(e,Ba.EMBED_CONTENT,i,!1,JSON.stringify(t),r)).json()}async function vP(i,e,t,r){const a=t.requests.map(c=>Object.assign(Object.assign({},c),{model:e}));return(await yc(e,Ba.BATCH_EMBED_CONTENTS,i,!1,JSON.stringify({requests:a}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e,t,r={}){this.apiKey=e,this._requestOptions=r,t.model.includes("/")?this.model=t.model:this.model=`models/${t.model}`,this.generationConfig=t.generationConfig||{},this.safetySettings=t.safetySettings||[],this.tools=t.tools,this.toolConfig=t.toolConfig,this.systemInstruction=CR(t.systemInstruction),this.cachedContent=t.cachedContent}async generateContent(e,t={}){var r;const a=Lb(e),l=Object.assign(Object.assign({},this._requestOptions),t);return RR(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},a),l)}async generateContentStream(e,t={}){var r;const a=Lb(e),l=Object.assign(Object.assign({},this._requestOptions),t);return wR(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},a),l)}startChat(e){var t;return new gP(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(t=this.cachedContent)===null||t===void 0?void 0:t.name},e),this._requestOptions)}async countTokens(e,t={}){const r=hP(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),a=Object.assign(Object.assign({},this._requestOptions),t);return yP(this.apiKey,this.model,r,a)}async embedContent(e,t={}){const r=dP(e),a=Object.assign(Object.assign({},this._requestOptions),t);return _P(this.apiKey,this.model,r,a)}async batchEmbedContents(e,t={}){const r=Object.assign(Object.assign({},this._requestOptions),t);return vP(this.apiKey,this.model,e,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e){this.apiKey=e}getGenerativeModel(e,t){if(!e.model)throw new pn("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Fb(this.apiKey,e,t)}getGenerativeModelFromCachedContent(e,t,r){if(!e.name)throw new js("Cached content must contain a `name` field.");if(!e.model)throw new js("Cached content must contain a `model` field.");const a=["model","systemInstruction"];for(const c of a)if(t?.[c]&&e[c]&&t?.[c]!==e[c]){if(c==="model"){const d=t.model.startsWith("models/")?t.model.replace("models/",""):t.model,p=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(d===p)continue}throw new js(`Different value for "${c}" specified in modelParams (${t[c]}) and cachedContent (${e[c]})`)}const l=Object.assign(Object.assign({},t),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new Fb(this.apiKey,l,r)}}const EP=new IR("AIzaSyDtdya34Vwbvhr2FMWe3zEOBWXIwA8bLYY");function TP(){const{currentUser:i}=gc(),[e,t]=W.useState(""),[r,a]=W.useState([]),[l,c]=W.useState(!1),[d,p]=W.useState(!1),g=W.useRef(null),v=my(Ry,"chats",i.uid,"messages");W.useEffect(()=>{const S=sR(v,aR("timestamp","asc"));return uR(S,U=>{a(U.docs.map(F=>({id:F.id,...F.data()})))})},[v]),W.useEffect(()=>{setTimeout(()=>{g.current?.scrollIntoView({behavior:"smooth",block:"end"})},100)},[r]);const T=async()=>{if(!e.trim())return;const S=e;t(""),c(!0),p(!0);try{await Zu(v,{text:S,sender:"user",timestamp:Ph()});const F=(await EP.getGenerativeModel({model:"gemini-2.5-pro"}).generateContent(S)).response?.text()||"Sorry, no response.";await Zu(v,{text:F,sender:"gemini",timestamp:Ph()})}catch(x){console.error("Error:",x)}c(!1),p(!1)};return re.jsxs("div",{className:"flex flex-col min-h-screen bg-gradient-to-br from-indigo-600 via-purple-700 to-pink-600 text-white p-4",children:[re.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-900 rounded-2xl shadow-inner max-h-[80vh]",children:[r.map(S=>re.jsxs("div",{className:`p-3 rounded-xl break-words ${S.sender==="user"?"ml-auto bg-blue-600 text-white":"mr-auto bg-gray-700 text-white"}`,style:{maxWidth:"70%"},children:[re.jsx("p",{children:S.text}),re.jsx("span",{className:"text-xs text-gray-300 mt-1 block",children:S.timestamp?.toDate?S.timestamp.toDate().toLocaleTimeString():""})]},S.id)),d&&re.jsx("div",{className:"mr-auto bg-gray-700 p-3 rounded-xl max-w-[70%] animate-pulse",children:"Gemini is typing..."}),re.jsx("div",{ref:g})]}),re.jsxs("div",{className:"flex mt-4 gap-2",children:[re.jsx("input",{className:"flex-1 p-3 rounded-xl text-black outline-none",placeholder:l?"Waiting for AI...":"Type your message...",value:e,onChange:S=>t(S.target.value),onKeyDown:S=>S.key==="Enter"&&T(),disabled:l}),re.jsx("button",{onClick:T,disabled:l,className:`px-4 py-3 rounded-xl font-semibold ${l?"bg-gray-500 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:l?"Thinking...":"Send"})]})]})}const bP=new IR("AIzaSyDtdya34Vwbvhr2FMWe3zEOBWXIwA8bLYY");function SP(){const{currentUser:i}=gc(),[e,t]=W.useState(""),[r,a]=W.useState([]),l=my(Ry,"chats",i.uid,"messages");W.useEffect(()=>{const d=sR(l,aR("timestamp","asc"));return uR(d,g=>{a(g.docs.map(v=>({id:v.id,...v.data()})))})},[l]);const c=async()=>{if(!e.trim())return;const d=e;t("");try{await Zu(l,{text:d,sender:"user",timestamp:Ph()});const v=(await bP.getGenerativeModel({model:"gemini-2.0-pro"}).generateContent(d)).response?.text()||"Sorry, I couldn't generate a reply.";await Zu(l,{text:v,sender:"gemini",timestamp:Ph()})}catch(p){console.error("Error sending message:",p)}};return re.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-900 text-white",children:[re.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:r.map(d=>re.jsx("div",{className:`p-3 rounded-lg max-w-xs ${d.sender==="user"?"ml-auto bg-blue-600":"mr-auto bg-gray-700"}`,children:d.text},d.id))}),re.jsxs("div",{className:"p-4 bg-gray-800 flex",children:[re.jsx("input",{className:"flex-1 p-2 rounded-lg text-black",placeholder:"Type your message...",value:e,onChange:d=>t(d.target.value),onKeyDown:d=>d.key==="Enter"&&c()}),re.jsx("button",{onClick:c,className:"ml-2 bg-blue-600 px-4 py-2 rounded-lg",children:"Send"})]})]})}const jb=({children:i})=>{const{currentUser:e}=gc();return e?i:re.jsx(Jb,{to:"/login",replace:!0})},Vp=({children:i})=>{const{currentUser:e}=gc();return e?re.jsx(Jb,{to:"/create-pitch",replace:!0}):i},AP=()=>{const{currentUser:i}=gc(),e=ic(),[t,r]=W.useState(!1),a=async()=>{try{await _x(ud),e("/login")}catch(l){console.error("Logout failed:",l)}};return re.jsxs("nav",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 text-white shadow-lg",children:[re.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex justify-between items-center",children:[re.jsx(Os,{to:"/",className:"text-2xl font-extrabold tracking-wide hover:scale-105 transition-transform duration-200",children:"PitchCraft "}),re.jsx("div",{className:"hidden md:flex items-center gap-4",children:i?re.jsxs(re.Fragment,{children:[re.jsxs("span",{className:"text-sm text-gray-100",children:["Welcome,"," ",re.jsx("span",{className:"font-semibold",children:i.email})]}),re.jsx("button",{onClick:a,className:"bg-red-500 hover:bg-red-600 transition-all px-4 py-2 rounded-lg font-semibold shadow-md",children:"Logout"})]}):re.jsxs(re.Fragment,{children:[re.jsx(Os,{to:"/login",className:"bg-white text-indigo-700 font-semibold px-4 py-2 rounded-lg hover:bg-gray-100 transition-all shadow-md",children:"Login"}),re.jsx(Os,{to:"/register",className:"bg-yellow-400 text-gray-900 font-semibold px-4 py-2 rounded-lg hover:bg-yellow-500 transition-all shadow-md",children:"Sign Up"})]})}),re.jsx("button",{onClick:()=>r(!t),className:"md:hidden focus:outline-none",children:t?re.jsx(BL,{size:28}):re.jsx(FL,{size:28})})]}),t&&re.jsx("div",{className:"md:hidden bg-indigo-800 text-center py-4 space-y-3 border-t border-indigo-700",children:i?re.jsxs(re.Fragment,{children:[re.jsxs("p",{className:"text-gray-200 mb-2",children:["Welcome,"," ",re.jsx("span",{className:"font-semibold",children:i.email})]}),re.jsx("button",{onClick:a,className:"w-5/6 bg-red-500 hover:bg-red-600 text-white font-semibold py-2 rounded-lg shadow-md",children:"Logout"})]}):re.jsxs(re.Fragment,{children:[re.jsx(Os,{to:"/login",onClick:()=>r(!1),className:"block w-5/6 mx-auto bg-white text-indigo-700 font-semibold py-2 rounded-lg hover:bg-gray-100 shadow-md",children:"Login"}),re.jsx(Os,{to:"/register",onClick:()=>r(!1),className:"block w-5/6 mx-auto bg-yellow-400 text-gray-900 font-semibold py-2 rounded-lg hover:bg-yellow-500 shadow-md",children:"Sign Up"})]})})]})},wP=()=>re.jsxs(re.Fragment,{children:[re.jsx(AP,{}),re.jsxs(rI,{children:[re.jsx(Ho,{path:"/register",element:re.jsx(Vp,{children:re.jsx(bb,{})})}),re.jsx(Ho,{path:"/login",element:re.jsx(Vp,{children:re.jsx(qL,{})})}),re.jsx(Ho,{path:"/create-pitch",element:re.jsx(jb,{children:re.jsx(TP,{})})}),re.jsx(Ho,{path:"/chat",element:re.jsx(jb,{children:re.jsx(SP,{})})}),re.jsx(Ho,{path:"/",element:re.jsx(Vp,{children:re.jsx(bb,{})})})]})]});mC.createRoot(document.getElementById("root")).render(re.jsx(W.StrictMode,{children:re.jsx(HL,{children:re.jsx(CI,{children:re.jsx(wP,{})})})}));
